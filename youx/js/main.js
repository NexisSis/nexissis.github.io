(new WOW).init();
$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").mouseup(function(){$(window).width()<=600&&$("body").toggleClass("overflow-hidden"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),g}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top-100},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),t=$(".menu");a.is(e.target)||0!==a.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||($("body").removeClass("overflow-hidden"),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});
function addBodyHidden(){$(window).width()<=600&&$("body").addClass("overflow-hidden")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Описание: время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
function portfolioSlider(){var o=0,t=$(".portfolio__card").last().outerWidth(!0),r=$(".portfolio__card").length,l=1;$(".portfolio__text-2_total").text("0"+r),$(".portfolio__arrow-link_r").click(function(){o<(r-1)*t?(l++,$(".portfolio__text-2_count").text("0"+l),o+=t,$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),$(".portfolio__arrow-link_l").removeClass("hide")):(o=0,l=1,$(".portfolio__text-2_count").text("0"+l),$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),$(".portfolio__arrow-link_l").addClass("hide")),0==o&&$(".portfolio__arrow-link_l").addClass("hide")}),$(".portfolio__arrow-link_l").click(function(){0<o?(l--,$(".portfolio__text-2_count").text("0"+l),o-=t):($(".portfolio__arrow-link_l").addClass("hide"),o=0,l=1,$(".portfolio__text-2_count").text("0"+l)),$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),0==o&&$(".portfolio__arrow-link_l").addClass("hide")})}portfolioSlider(),$(window).resize(function(){portfolioSlider()});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(this).find(".price__img").addClass("opacity-1 zoomIn")});
function parallaxIt(){var t=$(window),e=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,a){var e=$(this);e.__speed=2,e.__fgOffset=e.offset().top,o.push(e)}),t.on("scroll resize",function(){e=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var a=t.__fgOffset-e/t.__speed;t.css("top",a+1200)})}),t.trigger("scroll")}function waySlider(){var t=$(".way__card").length,a=$(".way__card").outerWidth(!0);$(".way__text-7_total").text("0"+t),$(".way__overflow").scroll(throttle(function(){var t=$(".way__overflow").scrollLeft();$(".way__text-7_count").text("0"+(Math.floor(t/(a-25))+1))},50))}function throttle(t,a){var e=Date.now();return function(){e+a-Date.now()<0&&(t(),e=Date.now())}}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var a=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==a&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==a&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==a&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==a&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==a&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==a&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(window).width()<=600&&waySlider(),$(window).resize(function(){$(window).width()<=600&&waySlider()});
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();var noise=function(){var t=void 0,i=void 0,r=void 0,s=void 0,u=[],o=0,n=function(){for(var e=i.createImageData(r,s),t=new Uint32Array(e.data.buffer),o=t.length,n=0;n<o;n++)Math.random()<.5&&(t[n]=4294967295);u.push(e)},l=function e(){9===o?o=0:o++,i.putImageData(u[o],0,0),window.setTimeout(function(){window.requestAnimationFrame(e)},40)},e=function(){r=window.innerWidth,s=window.innerHeight,t.width=r,t.height=s;for(var e=0;e<10;e++)n();l()};t=document.getElementById("noise"),i=t.getContext("2d"),e()};noise();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb21tb24vY29tbW9uLmpzIiwiZm9vdGVyL2Zvb3Rlci5qcyIsImhlYWRlci9oZWFkZXIuanMiLCJwb3B1cC9wb3B1cC5qcyIsInBvcnRmb2xpby9wb3J0Zm9saW8uanMiLCJwcmljZS9wcmljZS5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2N1cnNvci9jdXJzb3IuanMiXSwibmFtZXMiOlsiV09XIiwiaW5pdCIsIiQiLCJlYWNoIiwidGhpcyIsImNsaWNrIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm1vdXNldXAiLCJ3aW5kb3ciLCJ3aWR0aCIsInRvZ2dsZUNsYXNzIiwicmVtb3ZlQ2xhc3MiLCJnIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaWQiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiZG9jdW1lbnQiLCJjb250YWluZXIiLCJjb250YWluZXJNZW51IiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCJsZW5ndGgiLCJhZGRCb2R5SGlkZGVuIiwiYWRkQ2xhc3MiLCJodG1sIiwidGV4dCIsInBvcnRmb2xpb1NsaWRlciIsIndpZHRoQ2FyZCIsImxhc3QiLCJvdXRlcldpZHRoIiwiY291bnRPZkNhcmRzIiwiY2FyZE5vdyIsImNzcyIsInJlc2l6ZSIsImhvdmVyIiwiZmluZCIsInBhcmFsbGF4SXQiLCIkZndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50IiwiJGNvbnRlbnRzIiwiaW5kZXgiLCIkY29udGVudE9iaiIsIl9fc3BlZWQiLCJfX2ZnT2Zmc2V0IiwicHVzaCIsIm9uIiwiZm9yRWFjaCIsInlQb3MiLCJ0cmlnZ2VyIiwid2F5U2xpZGVyIiwiY291bnRPZkNhcmQiLCJzY3JvbGwiLCJ0aHJvdHRsZSIsImxlZnQiLCJzY3JvbGxMZWZ0IiwiTWF0aCIsImZsb29yIiwiZm4iLCJ3YWl0IiwidGltZSIsIkRhdGUiLCJub3ciLCJjdXJzb3IiLCJkZWxheSIsIl94IiwiX3kiLCJlbmRYIiwiaW5uZXJXaWR0aCIsImVuZFkiLCJpbm5lckhlaWdodCIsImN1cnNvclZpc2libGUiLCJjdXJzb3JFbmxhcmdlZCIsIiRkb3QiLCJxdWVyeVNlbGVjdG9yIiwiJG91dGxpbmUiLCJkb3RTaXplIiwib2Zmc2V0V2lkdGgiLCJvdXRsaW5lU2l6ZSIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJhbmltYXRlRG90T3V0bGluZSIsInNlbGYiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWwiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlQ3Vyc29yU2l6ZSIsInRvZ2dsZUN1cnNvclZpc2liaWxpdHkiLCJwYWdlWCIsInBhZ2VZIiwic3R5bGUiLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRyYW5zZm9ybSIsIm5vaXNlIiwiY2FudmFzIiwiY3R4Iiwid1dpZHRoIiwid0hlaWdodCIsIm5vaXNlRGF0YSIsImZyYW1lIiwiY3JlYXRlTm9pc2UiLCJpZGF0YSIsImNyZWF0ZUltYWdlRGF0YSIsImJ1ZmZlcjMyIiwiVWludDMyQXJyYXkiLCJkYXRhIiwiYnVmZmVyIiwibGVuIiwiaSIsInJhbmRvbSIsImxvb3AiLCJwdXRJbWFnZURhdGEiLCJzZXRUaW1lb3V0Iiwic2V0dXAiLCJoZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiXSwibWFwcGluZ3MiOiJDQUFBLElBQUlBLEtBQU1DO0FDQVZDLEVBQUUsbUJBQW1CQyxLQUFLLFdBQ3RCRCxFQUFFRSxNQUFNQyxNQUFNLFdBRVYsT0FEQUgsRUFBRSxhQUFhSSxRQUFRLENBQUVDLFVBQVcsR0FBSyxTQUNsQztBQ0ZmTCxFQUFFLFNBQVNNLFFBQVEsV0FDWk4sRUFBRU8sUUFBUUMsU0FBVyxLQUNwQlIsRUFBRSxRQUFRUyxZQUFZLG1CQUUxQlQsRUFBRSxpQkFBaUJTLFlBQVksdUJBQy9CVCxFQUFFLGFBQWFTLFlBQVksZUFDM0JULEVBQUUsaUJBQWlCUyxZQUFZLFFBQy9CVCxFQUFFLGlCQUFpQlMsWUFBWSx5QkFHbkNULEVBQUUsZ0JBQWdCRyxNQUFNLFdBQ3BCSCxFQUFF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SUFBSUMsRUFBUU4sRUFBSU8sZ0JBQWdCTixFQUFRQyxHQUNwQ00sRUFBVyxJQUFJQyxZQUFZSCxFQUFNSSxLQUFLQyxRQUN0Q0MsRUFBTUosRUFBU25GLE9BRVZ3RixFQUFJLEVBQUdBLEVBQUlELEVBQUtDLElBQ2pCckQsS0FBS3NELFNBQVcsS0FDaEJOLEVBQVNLLEdBQUssWUFJdEJWLEVBQVV0RCxLQUFLeUQsSUFlZlMsRUFBTyxTQUFTQSxJQVZGLElBQVZYLEVBQ0FBLEVBQVEsRUFFUkEsSUFHSkosRUFBSWdCLGFBQWFiLEVBQVVDLEdBQVEsRUFBRyxHQU94QmhHLE9BQU82RyxXQUFXLFdBQzVCN0csT0FBT3VGLHNCQUFzQm9CLElBQzlCLEtBSUhHLEVBQVEsV0FDUmpCLEVBQVM3RixPQUFPZ0UsV0FDaEI4QixFQUFVOUYsT0FBT2tFLFlBRWpCeUIsRUFBTzFGLE1BQVE0RixFQUNmRixFQUFPb0IsT0FBU2pCLEVBRWhCLElBQUssSUFBSVcsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3BCUixJQUdKVSxLQWtCQWhCLEVBQVNoRixTQUFTcUcsZUFBZSxTQUNqQ3BCLEVBQU1ELEVBQU9zQixXQUFXLE1BRXhCSCxLQUlScEIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm5ldyBXT1coKS5pbml0KCk7IiwiJCgnLmNvbnRhY3RfX2Fycm93JykuZWFjaChmdW5jdGlvbigpe1xuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAnc2xvdycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59KTsiLCIvLyBvcGVuIG1lbnVcbiQoJy5tZW51JykubW91c2V1cChmdW5jdGlvbigpe1xuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDYwMCl7XG4gICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICAgICQoJy5oZWFkZXJfX21lbnUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xuICAgICQoJy5tZW51IGRpdicpLnRvZ2dsZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xuICAgICQoJy5tYWluX190ZXh0LTInKS50b2dnbGVDbGFzcygnaGlkZScpO1xuICAgICQoJy5tYWluX19zb2NpYWwnKS50b2dnbGVDbGFzcygnbWFpbl9fc29jaWFsX2FjdGl2ZScpO1xufSk7XG5cbiQoJy5tZW51X2FjdGl2ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcbmdcbn0pO1xuXG4vL3Ntb290aCBzY3JvbGxpbmcgdG8gYmxvY2tcbiQoJy5oZWFkZXJfX3RleHQtMScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKGlkKS5vZmZzZXQoKS50b3AtMTAwfSwgMTAwMCk7XG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XG4gICAgJCgnLm1lbnUgZGl2JykucmVtb3ZlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XG4gICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XG59KTtcblxuLy9jaGVjayBpZiBjbGljayBvdXRzaWRlIG1lbnVcbiQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24oZSl7XG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5oZWFkZXJfX21lbnUnKTtcbiAgICB2YXIgY29udGFpbmVyTWVudSA9ICQoJy5tZW51Jyk7XG5cbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxuICAgIGlmICgoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSAmJlxuICAgICAgICAoIWNvbnRhaW5lck1lbnUuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lck1lbnUuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICkge1xuXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICQoJy5oZWFkZXJfX21lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xuICAgICAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcbiAgICAgICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICQoJy5tYWluX19zb2NpYWwnKS5yZW1vdmVDbGFzcygnbWFpbl9fc29jaWFsX2FjdGl2ZScpO1xuICAgIH1cbn0pOyIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XG59KTtcblxuJCgnLm1haW5fX3RleHQtNywgLndheV9fdGV4dC01LC5tYWluX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS5odG1sKFxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiPtCe0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LDwvc3Bhbj5cXG4nICtcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QsiDQutC+0YLQvtGA0YvRhSDQstCw0Lwg0LrQvtC80YTQvtGA0YLQvdC+INC+0LHRidCw0YLRjNGB0Y8gLTwvc3Bhbj5cXG4nICtcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIiA+0L3QsNC/0LjRiNC10Lwg0LIg0LzQtdGB0YHQtdC00LbQtdGAINC40LvQuCDQv9C10YDQtdC30LLQvtC90LjQvC48L3NwYW4+J1xuICAgICk7XG59KTtcblxuJCgnLm1haW5fX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRCb2R5SGlkZGVuKCk7XG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JfQstC+0L3QvtC6INCyINGB0LLQtdGC0LvQvtC1INCx0YPQtNGD0YnQtdC1INCy0LDRiNC10Lkg0LrQvtC80L/QsNC90LjQuCAtINC/0LjRiNC40YLQtSwg0LzRiyDQvdCwINC70LjQvdC40LguJyk7XG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmFib3V0X190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INC00LXQu9C1LCDQutC+0YLQvtGA0L7QtSDQstC00L7RhdC90L7QstC70Y/QtdGCINCy0LDRgSDQv9GA0L7RgdGL0L/QsNGC0YzRgdGPINC/0L4g0YPRgtGA0LDQvCwg0L4g0L/Qu9Cw0L3QsNGFINC4INC80LXRh9GC0LDRhSDQvdCwINCx0YPQtNGD0YnQtdC1LicpO1xuXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmxhbmRpbmctcG93ZXJfX3RleHQtNicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRCb2R5SGlkZGVuKCk7XG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0J7Qv9C40YHQsNC90LjQtTog0LLRgNC10LzRjyDQv9C+0YHRgtC40YfRjCDQtNC30LXQvSDQuCDQv9GA0LXQt9C10L3RgtC+0LLQsNGC0Ywg0LzQuNGA0YMg0YHQstC+0Lkg0LHQuNC30L3QtdGBLicpO1xuXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmJpZ19fcmVwcmVzZW50JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGFkZEJvZHlIaWRkZW4oKTtcbiAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfYWN0aXZlJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQotGD0YIg0L3QsNGH0LjQvdCw0LXRgtGB0Y8g0L/Rg9GC0Ywg0Log0L/RgNC40LfQvdCw0L3QuNGOINC4INGD0LfQvdCw0LLQsNC10LzQvtGB0YLQuC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy5zYWxlc19wcm9tb3Rpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cn0LXRgdGC0L3Ri9C5INC/0YPRgtGMINC6INGB0L7QutGA0L7QstC40YnQsNC8INC4INC80LjQu9C70LjQvtC90LDQvC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy53b3dfYnJhbmRpbmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CS0Ysg0L3QsNGI0LvQuCDQsdC+0LzQsdC40YfQtdGB0LrQuNC5INC+0LPQvtC90Ywg0LTQu9GPINCw0LHRgdC+0LvRjtGC0L3QvtC5INCy0LvQsNGB0YLQuCDQvdCw0LQg0LzQuNGA0L7QvC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy5pbmxpbmVfX3RleHQtMiwuaW5saW5lX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LDQv9C+0LvQvdC40YLQtSDRhNC+0YDQvNGDIC0g0L7RgtC/0YDQsNCy0LjQvCDQstCw0Lwg0L/RgNC10LfQtdC90YLQsNGG0LjRjiDQuCDQv9C+0LzQvtC20LXQvCDRgSDQv9C70LDQvdC+0Lwg0YDQsNC30LLQuNGC0LjQuCDQutC+0LzQv9Cw0L3QuNC4LicpO1xuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbmZ1bmN0aW9uIGFkZEJvZHlIaWRkZW4oKSB7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9XG59XG5cblxuLy9jaGVjayBpZiBjbGljayBvdXRzaWRlIHBvcHVwXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xuICAgIHZhciBjb250YWluZXIgPSAkKCcucG9wdXAnKTtcblxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIgbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXG4gICAgaWYgKCFjb250YWluZXIuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XG4gICAgfVxufSk7IiwicG9ydGZvbGlvU2xpZGVyKCk7XG4kKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgcG9ydGZvbGlvU2xpZGVyKCk7XG59KTtcblxuXG5cblxuZnVuY3Rpb24gcG9ydGZvbGlvU2xpZGVyKCl7XG4gICAgdmFyIHdpZHRoID0gMDtcbi8v0LHQtdGA0LXRiNC40Lwg0YjQuNGA0LjQvdGDINC60LDRgNGC0L7Rh9C60Lgg0YEg0L7RgtGB0YLRg9C/0LDQvNC4XG4gICAgdmFyIHdpZHRoQ2FyZCA9ICQoJy5wb3J0Zm9saW9fX2NhcmQnKS5sYXN0KCkub3V0ZXJXaWR0aCh0cnVlKTtcbi8v0LrQvtC70LjRh9C10YHRgtCy0L4g0LrQsNGA0YLQvtGH0LXQulxuICAgIHZhciBjb3VudE9mQ2FyZHMgPSAkKCcucG9ydGZvbGlvX19jYXJkJykubGVuZ3RoO1xuXG4gICAgdmFyIGNhcmROb3cgPSAxO1xuXG4vL9C30LDQv9C40YHRi9Cy0LDQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INGN0LvQtdC80LXQvdGC0L7QslxuICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgY291bnRPZkNhcmRzKTtcblxuXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZih3aWR0aCA8IChjb3VudE9mQ2FyZHMgLSAxKSAqIHdpZHRoQ2FyZCl7XG4gICAgICAgICAgICBjYXJkTm93Kys7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xuICAgICAgICAgICAgd2lkdGggKz0gd2lkdGhDYXJkO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHdpZHRoICsgJ3B4KScpO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICBjYXJkTm93ID0gMTtcbiAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgd2lkdGggKyAncHgpJyk7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHdpZHRoID09IDApe1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZih3aWR0aCA+IDApe1xuICAgICAgICAgICAgY2FyZE5vdy0tO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcbiAgICAgICAgICAgIHdpZHRoIC09IHdpZHRoQ2FyZDtcbiAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyB3aWR0aCArICdweCknKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgY2FyZE5vdyA9IDE7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHdpZHRoICsgJ3B4KScpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHdpZHRoID09IDApe1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIiQoJy5wcmljZV9fY2FyZCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcucHJpY2VfX2NhcmQsIC5wcmljZV9faW1nICcpLnJlbW92ZUNsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nJykuYWRkQ2xhc3MoJ29wYWNpdHktMSB6b29tSW4nKTtcbn0pOyIsIi8vIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbCkge1xuLy8gICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4vLyAgICAgdmFyIGVsZW1Ub3AgPSByZWN0LnRvcDtcbi8vICAgICB2YXIgZWxlbUJvdHRvbSA9IHJlY3QuYm90dG9tO1xuLy9cbi8vICAgICAvLyBPbmx5IGNvbXBsZXRlbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcbi8vICAgICB2YXIgaXNWaXNpYmxlID0gKGVsZW1Ub3AgPj0gMCkgJiYgKGVsZW1Cb3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0KTtcbi8vICAgICAvLyBQYXJ0aWFsbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcbi8vICAgICAvL2lzVmlzaWJsZSA9IGVsZW1Ub3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxlbUJvdHRvbSA+PSAwO1xuLy8gICAgIHJldHVybiBpc1Zpc2libGU7XG4vLyB9XG4vL1xuLy8gJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcbi8vICAgICBpZihpc1Njcm9sbGVkSW50b1ZpZXcoJCgnLndheV9fdGV4dC02JylbMF0pKXtcbi8vICAgICAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcbi8vICAgICAgICAgJCgnLndheV9fdGV4dC02JykucmVtb3ZlQ2xhc3MoJ3dheV9fdGV4dC02X25vdFZpc2libGUnKS5hZGRDbGFzcygnd2F5X190ZXh0LTZfZml4ZWQnKTtcbi8vXG4vLyAgICAgfVxuLy8gfSk7XG5cbi8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZSl7XG4vLyAgICAgcGFyYWxsYXgoKTtcbi8vIH0pO1xuLy9cbi8vIGZ1bmN0aW9uIHBhcmFsbGF4KCl7XG4vLyAgICAgdmFyIHNjcm9sbGVkID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuLy8gICAgICQoJy5iYWNrZ3JvdW5kJykuY3NzKCd0b3AnLC0oc2Nyb2xsZWQqMC4xNSkrJ3B4Jyk7XG4vLyB9XG5cbi8vIG1ha2VzIHRoZSBwYXJhbGxheCBlbGVtZW50c1xuZnVuY3Rpb24gcGFyYWxsYXhJdCgpIHtcbiAgICAvLyBjcmVhdGUgdmFyaWFibGVzXG4gICAgdmFyICRmd2luZG93ID0gJCh3aW5kb3cpO1xuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICB2YXIgJGNvbnRlbnRzID0gW107XG4gICAgdmFyICRiYWNrZ3JvdW5kcyA9IFtdO1xuXG4gICAgLy8gZm9yIGVhY2ggb2YgY29udGVudCBwYXJhbGxheCBlbGVtZW50XG4gICAgJCgnW2RhdGEtdHlwZT1cImNvbnRlbnRcIl0nKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlKSB7XG4gICAgICAgIHZhciAkY29udGVudE9iaiA9ICQodGhpcyk7XG4gICAgICAgICRjb250ZW50T2JqLl9fc3BlZWQgPSAyO1xuICAgICAgICAkY29udGVudE9iai5fX2ZnT2Zmc2V0ID0gJGNvbnRlbnRPYmoub2Zmc2V0KCkudG9wO1xuICAgICAgICAkY29udGVudHMucHVzaCgkY29udGVudE9iaik7XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgcG9zaXRpb25zXG4gICAgJGZ3aW5kb3cub24oJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICRjb250ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKCRjb250ZW50T2JqKSB7XG4gICAgICAgICAgICB2YXIgeVBvcyA9ICRjb250ZW50T2JqLl9fZmdPZmZzZXQgLSBzY3JvbGxUb3AgLyAkY29udGVudE9iai5fX3NwZWVkO1xuICAgICAgICAgICAgJGNvbnRlbnRPYmouY3NzKCd0b3AnLCB5UG9zICsgMTIwMCk7XG4gICAgICAgIH0pXG5cbiAgICB9KTtcbiAgICAvLyB0cmlnZ2VycyB3aW5vZHcgc2Nyb2xsIGZvciByZWZyZXNoXG4gICAgJGZ3aW5kb3cudHJpZ2dlcignc2Nyb2xsJyk7XG59O1xuXG5wYXJhbGxheEl0KCk7XG5cbi8vINC00YPQvNCw0Lsg0L/RgNC40LLRj9C30LDRgtGM0YHRjyDQuiDQuNC90LTQtdC60YHRgyDQuNC70Lgg0LogaWQsINGA0LXRiNC40Lsg0Log0L/QvtGA0Y/QtNC60YMsINC90LUg0YPQstC10YDQtdC9LCDRh9GC0L4g0Y3RgtC+INC/0YDQsNCy0LjQu9GM0L3QvlxuJCgnLndheV9fdGV4dC0yJykuaG92ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+IDYwMCl7XG4gICAgICAgIHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcbiAgICAgICAgJCgnLndheV9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ3doaXRlJyk7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3doaXRlJyk7XG4gICAgICAgIGlmKGluZGV4ID09IDApe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0JjQt9GD0YfQsNC10Lwg0LrQvtC80L/QsNC90LjRjiDQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyLCDQvdCw0YXQvtC00LjQvCDQv9GA0LXQuNC80YPRidC10YHRgtCy0LAsINC30LDQutGA0YvQstCw0LXQvCDQstC+0LfRgNCw0LbQtdC90LjRjywg0L3QuNCy0LXQu9C40YDRg9C10Lwg0YHRgtGA0LDRhdC4LCDRgdC+0LfQtNCw0LXQvCDRgdC40LvRjNC90L7QtSDQv9GA0LXQtNC70L7QttC10L3QuNC1LicpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18xLnBuZyknKVxuICAgICAgICB9XG4gICAgICAgIGlmKGluZGV4ID09IDEpe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/RgNC+0LLQvtC00LjQvCBicmFpbiBzdG9ybTog0L/RgNC+0LTRg9C80YvQstCw0LXQvCDRgdGC0YDRg9C60YLRg9GA0YMsINCx0LvQvtC60LgsINGF0LDRgNCw0LrRgtC10YAg0Lgg0YHRgtC40LvRjCDQuNGB0YXQvtC00Y8g0LjQtyDQt9Cw0LTQsNGHINCx0LjQt9C90LXRgdCwLicpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18yLnBuZyknKVxuICAgICAgICB9XG4gICAgICAgIGlmKGluZGV4ID09IDIpe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQv9GA0LDQstC70Y/QtdC8INCy0L3QuNC80LDQvdC40LXQvCwg0YHQvtC30LTQsNGR0Lwg0LjQvdGC0LXRgNC10YEg0Log0YPRgdC70YPQs9C1L9C/0YDQvtC00YPQutGC0YMg0LIg0YPQtNC+0LHQvdC+0Lkg0L3QsNCy0LjQs9Cw0YbQuNC4INC4INGB0YLQuNC70YzQvdC+0Lwg0LTQuNC30LDQudC90LUnKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMy5wbmcpJylcbiAgICAgICAgfVxuICAgICAgICBpZihpbmRleCA9PSAzKXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Ch0L7Qt9C00LDRkdC8INGN0YTRhNC10LrRgiDQv9GA0LjRgdGD0YLRgdGC0LLQuNGPLCDigJzQv9GA0L7QstC+0LTQuNC8INGN0LrRgdC60YPRgNGB0LjRjuKAnSDQv9C+INGB0LDQudGC0YMsINCy0YvQstC+0LTQuNC8INGE0L7QutGD0YEg0L3QsCDRhtC10LvQtdCy0YvQtSDQtNC10LnRgdGC0LLQuNGPLicpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X180LnBuZyknKVxuICAgICAgICB9XG4gICAgICAgIGlmKGluZGV4ID09IDQpe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/QvtC00LHQuNGA0LDQtdC8INGG0LXQu9C10LLRi9C1INC00LvRjyDQvdC40YjQuCDRgNC10LrQu9Cw0LzQvdGL0LUg0L/Qu9C+0YnQsNC00LggKFBQQywgc21tKSDQv9C+0LzQvtCz0LDQtdC8INC+0YLQsdC40YLRjCDQt9Cw0YLRgNCw0YLRiyDQvdCwINGA0LXQutC70LDQvNGDINC4INCy0YvQudGC0Lgg0LIg0L/RgNC40LHRi9C70YwnKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNS5wbmcpJylcbiAgICAgICAgfVxuICAgICAgICBpZihpbmRleCA9PSA1KXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0LrRgNC10L/Qu9GP0LXQvCDQuNC80LjQtNC2INCx0YDQtdC90LTQsCwg0YHQvtCx0LjRgNCw0LXQvCDQuCDQvtC/0YLQuNC80LjQt9C40YDRg9C10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsnKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNi5wbmcpJylcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vL21vYmlsZSBzbGlkZXIgc3RhcnRcbmlmKCQod2luZG93KS53aWR0aCgpIDw9IDYwMCl7XG4gICAgd2F5U2xpZGVyKCk7XG59XG5cbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xuICAgICAgICB3YXlTbGlkZXIoKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gd2F5U2xpZGVyKCl7XG4gICAgdmFyIGNvdW50T2ZDYXJkID0gJCgnLndheV9fY2FyZCcpLmxlbmd0aDtcbiAgICB2YXIgd2lkdGhDYXJkID0gJCgnLndheV9fY2FyZCcpLm91dGVyV2lkdGgodHJ1ZSk7XG5cbiAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGNvdW50T2ZDYXJkKTtcblxuICAgIC8vINGC0YDQvtGC0LvQuNC90LNcbiAgICAkKCAnLndheV9fb3ZlcmZsb3cnICkuc2Nyb2xsKHRocm90dGxlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgbGVmdCA9ICQoJy53YXlfX292ZXJmbG93Jykuc2Nyb2xsTGVmdCgpO1xuICAgICAgICAgICAgLy/QuNGJ0YMg0LrQsNC60L7QuSDRjdC70LXQvNC10L3RgtCwLCAyNSDRhNCw0L3RgtC+0LzQvdC+0LUg0YfQuNGB0LvQviDQtNC70Y8g0LHQvtC70LXQtSDQu9C+0LPQuNGH0L3Ri9GFINC00LDQvdC90YvRhVxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC03X2NvdW50JykudGV4dCggJzAnICsgKCAoTWF0aC5mbG9vciggbGVmdCAvICggd2lkdGhDYXJkIC0gMjUgKSkpICsgMSApKTtcblxuICAgICAgICB9LDUwKVxuICAgICk7XG59XG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCkge1xuICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgodGltZSArIHdhaXQgLSBEYXRlLm5vdygpKSA8IDApIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgY3Vyc29yID0ge1xuICAgIGRlbGF5OiA4LFxuICAgIF94OiAwLFxuICAgIF95OiAwLFxuICAgIGVuZFg6ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpLFxuICAgIGVuZFk6ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSxcbiAgICBjdXJzb3JWaXNpYmxlOiB0cnVlLFxuICAgIGN1cnNvckVubGFyZ2VkOiBmYWxzZSxcbiAgICAkZG90OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdCcpLFxuICAgICRvdXRsaW5lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdC1vdXRsaW5lJyksXG5cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gU2V0IHVwIGVsZW1lbnQgc2l6ZXNcbiAgICAgICAgdGhpcy5kb3RTaXplID0gdGhpcy4kZG90Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLm91dGxpbmVTaXplID0gdGhpcy4kb3V0bGluZS5vZmZzZXRXaWR0aDtcblxuICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5hbmltYXRlRG90T3V0bGluZSgpO1xuICAgIH0sXG5cbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFuY2hvciBob3ZlcmluZ1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vY3VzdG9tIGhvdmVyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3InKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENsaWNrIGV2ZW50c1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgLy8gU2hvdyB0aGUgY3Vyc29yXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XG5cbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIHRoZSBkb3RcbiAgICAgICAgICAgIHNlbGYuZW5kWCA9IGUucGFnZVg7XG4gICAgICAgICAgICBzZWxmLmVuZFkgPSBlLnBhZ2VZO1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRvcCA9IHNlbGYuZW5kWSArICdweCc7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUubGVmdCA9IHNlbGYuZW5kWCArICdweCc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhpZGUvc2hvdyBjdXJzb3JcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgYW5pbWF0ZURvdE91dGxpbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5feCArPSAoc2VsZi5lbmRYIC0gc2VsZi5feCkgLyBzZWxmLmRlbGF5O1xuICAgICAgICBzZWxmLl95ICs9IChzZWxmLmVuZFkgLSBzZWxmLl95KSAvIHNlbGYuZGVsYXk7XG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudG9wID0gc2VsZi5feSArICdweCc7XG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUubGVmdCA9IHNlbGYuX3ggKyAncHgnO1xuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVEb3RPdXRsaW5lLmJpbmQoc2VsZikpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVDdXJzb3JTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChzZWxmLmN1cnNvckVubGFyZ2VkKSB7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgwLjc1KSc7XG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMiknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpJztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB0b2dnbGVDdXJzb3JWaXNpYmlsaXR5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGlmIChzZWxmLmN1cnNvclZpc2libGUpIHtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jdXJzb3IuaW5pdCgpO1xuXG4vL2JnXG4ndXNlIHN0cmljdCc7XG5cbnZhciBub2lzZSA9IGZ1bmN0aW9uIG5vaXNlKCkge1xuICAgIHZhciBjYW52YXMgPSB2b2lkIDAsXG4gICAgICAgIGN0eCA9IHZvaWQgMDtcblxuICAgIHZhciB3V2lkdGggPSB2b2lkIDAsXG4gICAgICAgIHdIZWlnaHQgPSB2b2lkIDA7XG5cbiAgICB2YXIgbm9pc2VEYXRhID0gW107XG4gICAgdmFyIGZyYW1lID0gMDtcblxuICAgIHZhciBsb29wVGltZW91dCA9IHZvaWQgMDtcblxuICAgIC8vIENyZWF0ZSBOb2lzZVxuICAgIHZhciBjcmVhdGVOb2lzZSA9IGZ1bmN0aW9uIGNyZWF0ZU5vaXNlKCkge1xuICAgICAgICB2YXIgaWRhdGEgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKHdXaWR0aCwgd0hlaWdodCk7XG4gICAgICAgIHZhciBidWZmZXIzMiA9IG5ldyBVaW50MzJBcnJheShpZGF0YS5kYXRhLmJ1ZmZlcik7XG4gICAgICAgIHZhciBsZW4gPSBidWZmZXIzMi5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjUpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIzMltpXSA9IDB4ZmZmZmZmZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBub2lzZURhdGEucHVzaChpZGF0YSk7XG4gICAgfTtcblxuICAgIC8vIFBsYXkgTm9pc2VcbiAgICB2YXIgcGFpbnROb2lzZSA9IGZ1bmN0aW9uIHBhaW50Tm9pc2UoKSB7XG4gICAgICAgIGlmIChmcmFtZSA9PT0gOSkge1xuICAgICAgICAgICAgZnJhbWUgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5wdXRJbWFnZURhdGEobm9pc2VEYXRhW2ZyYW1lXSwgMCwgMCk7XG4gICAgfTtcblxuICAgIC8vIExvb3BcbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICAgIHBhaW50Tm9pc2UoZnJhbWUpO1xuXG4gICAgICAgIGxvb3BUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgICAgfSwgMTAwMCAvIDI1KTtcbiAgICB9O1xuXG4gICAgLy8gU2V0dXBcbiAgICB2YXIgc2V0dXAgPSBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gd1dpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gd0hlaWdodDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIGNyZWF0ZU5vaXNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsb29wKCk7XG4gICAgfTtcblxuICAgIC8vIFJlc2V0XG4gICAgdmFyIHJlc2l6ZVRocm90dGxlID0gdm9pZCAwO1xuICAgIHZhciByZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChyZXNpemVUaHJvdHRsZSk7XG5cbiAgICAgICAgICAgIHJlc2l6ZVRocm90dGxlID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobG9vcFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHNldHVwKCk7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8vIEluaXRcbiAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vaXNlJyk7XG4gICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHNldHVwKCk7XG4gICAgfSgpO1xufTtcblxubm9pc2UoKTsiXX0=
