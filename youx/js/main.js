(new WOW).init();
$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){$(window).width()<=600&&$("body").toggleClass("overflow-hidden"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top-100},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")});
function addBodyHidden(){$(window).width()<=600&&$("body").addClass("overflow-hidden")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Описание: время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){addBodyHidden(),$(".popup").addClass("popup_active"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")});
function portfolioSlider(){var o=0,t=$(".portfolio__card").last().outerWidth(!0),r=$(".portfolio__card").length,l=1;$(".portfolio__text-2_total").text("0"+r),$(".portfolio__arrow-link_r").click(function(){o<(r-1)*t?(l++,$(".portfolio__text-2_count").text("0"+l),o+=t,$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),$(".portfolio__arrow-link_l").removeClass("hide")):(o=0,l=1,$(".portfolio__text-2_count").text("0"+l),$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),$(".portfolio__arrow-link_l").addClass("hide")),0==o&&$(".portfolio__arrow-link_l").addClass("hide")}),$(".portfolio__arrow-link_l").click(function(){0<o?(l--,$(".portfolio__text-2_count").text("0"+l),o-=t):($(".portfolio__arrow-link_l").addClass("hide"),o=0,l=1,$(".portfolio__text-2_count").text("0"+l)),$(".portfolio__container-2").css("transform","translate(-"+o+"px)"),0==o&&$(".portfolio__arrow-link_l").addClass("hide")})}portfolioSlider(),$(window).resize(function(){portfolioSlider()});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(this).find(".price__img").addClass("opacity-1 zoomIn")});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=a.data("speed")||1,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+1e3)})}),t.trigger("scroll")}function waySlider(){var t=$(".way__card").length,e=$(".way__card").outerWidth(!0);$(".way__text-7_total").text("0"+t),$(".way__overflow").scroll(throttle(function(){var t=$(".way__overflow").scrollLeft();$(".way__text-7_count").text("0"+(Math.floor(t/(e-25))+1))},50))}function throttle(t,e){var a=Date.now();return function(){a+e-Date.now()<0&&(t(),a=Date.now())}}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(window).width()<=600&&waySlider(),$(window).resize(function(){$(window).width()<=600&&waySlider()});
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb21tb24vY29tbW9uLmpzIiwiZm9vdGVyL2Zvb3Rlci5qcyIsImhlYWRlci9oZWFkZXIuanMiLCJwb3B1cC9wb3B1cC5qcyIsInBvcnRmb2xpby9wb3J0Zm9saW8uanMiLCJwcmljZS9wcmljZS5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2N1cnNvci9jdXJzb3IuanMiXSwibmFtZXMiOlsiV09XIiwiaW5pdCIsIiQiLCJlYWNoIiwidGhpcyIsImNsaWNrIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIndpbmRvdyIsIndpZHRoIiwidG9nZ2xlQ2xhc3MiLCJlIiwicHJldmVudERlZmF1bHQiLCJpZCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJyZW1vdmVDbGFzcyIsImFkZEJvZHlIaWRkZW4iLCJhZGRDbGFzcyIsImh0bWwiLCJ0ZXh0IiwicG9ydGZvbGlvU2xpZGVyIiwid2lkdGhDYXJkIiwibGFzdCIsIm91dGVyV2lkdGgiLCJjb3VudE9mQ2FyZHMiLCJsZW5ndGgiLCJjYXJkTm93IiwiY3NzIiwicmVzaXplIiwiaG92ZXIiLCJmaW5kIiwicGFyYWxsYXhJdCIsIiRmd2luZG93IiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsIiRjb250ZW50cyIsImluZGV4IiwiJGNvbnRlbnRPYmoiLCJfX3NwZWVkIiwiZGF0YSIsIl9fZmdPZmZzZXQiLCJwdXNoIiwib24iLCJmb3JFYWNoIiwieVBvcyIsInRyaWdnZXIiLCJ3YXlTbGlkZXIiLCJjb3VudE9mQ2FyZCIsInNjcm9sbCIsInRocm90dGxlIiwibGVmdCIsInNjcm9sbExlZnQiLCJNYXRoIiwiZmxvb3IiLCJmbiIsIndhaXQiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsImN1cnNvciIsImRlbGF5IiwiX3giLCJfeSIsImVuZFgiLCJpbm5lcldpZHRoIiwiZW5kWSIsImlubmVySGVpZ2h0IiwiY3Vyc29yVmlzaWJsZSIsImN1cnNvckVubGFyZ2VkIiwiJGRvdCIsInF1ZXJ5U2VsZWN0b3IiLCIkb3V0bGluZSIsImRvdFNpemUiLCJvZmZzZXRXaWR0aCIsIm91dGxpbmVTaXplIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFuaW1hdGVEb3RPdXRsaW5lIiwic2VsZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDdXJzb3JTaXplIiwidG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSIsInBhZ2VYIiwicGFnZVkiLCJzdHlsZSIsIm9wYWNpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQ0FDQSxJQUFJQSxLQUFNQztBQ0RWQyxFQUFFLG1CQUFtQkMsS0FBSyxXQUN0QkQsRUFBRUUsTUFBTUMsTUFBTSxXQUVWLE9BREFILEVBQUUsYUFBYUksUUFBUSxDQUFFQyxVQUFXLEdBQUssU0FDbEM7QUNIZkwsRUFBRSxTQUFTRyxNQUFNLFdBQ1ZILEVBQUVNLFFBQVFDLFNBQVcsS0FFcEJQLEVBQUUsUUFBUVEsWUFBWSxtQkFFMUJSLEVBQUUsaUJBQWlCUSxZQUFZLHVCQUMvQlIsRUFBRSxhQUFhUSxZQUFZLGVBQzNCUixFQUFFLGlCQUFpQlEsWUFBWSxRQUMvQlIsRUFBRSxpQkFBaUJRLFlBQVkseUJBS25DUixFQUFFLG1CQUFtQkcsTUFBTSxTQUFTTSxHQUNoQ0EsRUFBRUMsaUJBQ0YsSUFBSUMsRUFBS1gsRUFBRUUsTUFBTVUsS0FBSyxRQUN0QlosRUFBRSxhQUFhSSxRQUFRLENBQUNDLFVBQVdMLEVBQUVXLEdBQUlFLFNBQVNDLElBQUksS0FBTSxLQUM1RGQsRUFBRSxpQkFBaUJlLFlBQVksdUJBQy9CZixFQUFFLGFBQWFlLFlBQVksZUFDM0JmLEVBQUUsaUJBQWlCZSxZQUFZLFFBQy9CZixFQUFFLGlCQUFpQmUsWUFBWTtBQzREbkMsU0FBU0MsZ0JBQ0ZoQixFQUFFTSxRQUFRQyxTQUFXLEtBQ3BCUCxFQUFFLFFBQVFpQixTQUFTLG1CQWxGM0JqQixFQUFFLGdCQUFnQkcsTUFBTSxXQUNw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LmNvbnRhY3RfX2Fycm93JykuZWFjaChmdW5jdGlvbigpe1xuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAnc2xvdycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59KTsiLCIkKCcubWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcblxuICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbiAgICAkKCcuaGVhZGVyX19tZW51JykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWVudSBkaXYnKS50b2dnbGVDbGFzcygnbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWFpbl9fdGV4dC0yJykudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcubWFpbl9fc29jaWFsJykudG9nZ2xlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcbn0pO1xuXG5cblxuJCgnLmhlYWRlcl9fdGV4dC0xJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoaWQpLm9mZnNldCgpLnRvcC0xMDB9LCAxMDAwKTtcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWFpbl9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcbn0pOyIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XG59KTtcblxuJCgnLm1haW5fX3RleHQtNywgLndheV9fdGV4dC01LC5tYWluX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS5odG1sKFxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiPtCe0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LDwvc3Bhbj5cXG4nICtcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QsiDQutC+0YLQvtGA0YvRhSDQstCw0Lwg0LrQvtC80YTQvtGA0YLQvdC+INC+0LHRidCw0YLRjNGB0Y8gLTwvc3Bhbj5cXG4nICtcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIiA+0L3QsNC/0LjRiNC10Lwg0LIg0LzQtdGB0YHQtdC00LbQtdGAINC40LvQuCDQv9C10YDQtdC30LLQvtC90LjQvC48L3NwYW4+J1xuICAgICk7XG59KTtcblxuJCgnLm1haW5fX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRCb2R5SGlkZGVuKCk7XG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JfQstC+0L3QvtC6INCyINGB0LLQtdGC0LvQvtC1INCx0YPQtNGD0YnQtdC1INCy0LDRiNC10Lkg0LrQvtC80L/QsNC90LjQuCAtINC/0LjRiNC40YLQtSwg0LzRiyDQvdCwINC70LjQvdC40LguJyk7XG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmFib3V0X190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INC00LXQu9C1LCDQutC+0YLQvtGA0L7QtSDQstC00L7RhdC90L7QstC70Y/QtdGCINCy0LDRgSDQv9GA0L7RgdGL0L/QsNGC0YzRgdGPINC/0L4g0YPRgtGA0LDQvCwg0L4g0L/Qu9Cw0L3QsNGFINC4INC80LXRh9GC0LDRhSDQvdCwINCx0YPQtNGD0YnQtdC1LicpO1xuXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmxhbmRpbmctcG93ZXJfX3RleHQtNicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRCb2R5SGlkZGVuKCk7XG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0J7Qv9C40YHQsNC90LjQtTog0LLRgNC10LzRjyDQv9C+0YHRgtC40YfRjCDQtNC30LXQvSDQuCDQv9GA0LXQt9C10L3RgtC+0LLQsNGC0Ywg0LzQuNGA0YMg0YHQstC+0Lkg0LHQuNC30L3QtdGBLicpO1xuXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmJpZ19fcmVwcmVzZW50JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGFkZEJvZHlIaWRkZW4oKTtcbiAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfYWN0aXZlJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQotGD0YIg0L3QsNGH0LjQvdCw0LXRgtGB0Y8g0L/Rg9GC0Ywg0Log0L/RgNC40LfQvdCw0L3QuNGOINC4INGD0LfQvdCw0LLQsNC10LzQvtGB0YLQuC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy5zYWxlc19wcm9tb3Rpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cn0LXRgdGC0L3Ri9C5INC/0YPRgtGMINC6INGB0L7QutGA0L7QstC40YnQsNC8INC4INC80LjQu9C70LjQvtC90LDQvC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy53b3dfYnJhbmRpbmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CS0Ysg0L3QsNGI0LvQuCDQsdC+0LzQsdC40YfQtdGB0LrQuNC5INC+0LPQvtC90Ywg0LTQu9GPINCw0LHRgdC+0LvRjtGC0L3QvtC5INCy0LvQsNGB0YLQuCDQvdCw0LQg0LzQuNGA0L7QvC4nKTtcblxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy5pbmxpbmVfX3RleHQtMiwuaW5saW5lX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgYWRkQm9keUhpZGRlbigpO1xuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LDQv9C+0LvQvdC40YLQtSDRhNC+0YDQvNGDIC0g0L7RgtC/0YDQsNCy0LjQvCDQstCw0Lwg0L/RgNC10LfQtdC90YLQsNGG0LjRjiDQuCDQv9C+0LzQvtC20LXQvCDRgSDQv9C70LDQvdC+0Lwg0YDQsNC30LLQuNGC0LjQuCDQutC+0LzQv9Cw0L3QuNC4LicpO1xuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbmZ1bmN0aW9uIGFkZEJvZHlIaWRkZW4oKSB7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB9XG59IiwicG9ydGZvbGlvU2xpZGVyKCk7XG4kKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgcG9ydGZvbGlvU2xpZGVyKCk7XG59KTtcblxuXG5cblxuZnVuY3Rpb24gcG9ydGZvbGlvU2xpZGVyKCl7XG4gICAgdmFyIHdpZHRoID0gMDtcbi8v0LHQtdGA0LXRiNC40Lwg0YjQuNGA0LjQvdGDINC60LDRgNGC0L7Rh9C60Lgg0YEg0L7RgtGB0YLRg9C/0LDQvNC4XG4gICAgdmFyIHdpZHRoQ2FyZCA9ICQoJy5wb3J0Zm9saW9fX2NhcmQnKS5sYXN0KCkub3V0ZXJXaWR0aCh0cnVlKTtcbi8v0LrQvtC70LjRh9C10YHRgtCy0L4g0LrQsNGA0YLQvtGH0LXQulxuICAgIHZhciBjb3VudE9mQ2FyZHMgPSAkKCcucG9ydGZvbGlvX19jYXJkJykubGVuZ3RoO1xuXG4gICAgdmFyIGNhcmROb3cgPSAxO1xuXG4vL9C30LDQv9C40YHRi9Cy0LDQtdC8INC60L7Qu9C40YfQtdGB0YLQstC+INGN0LvQtdC80LXQvdGC0L7QslxuICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgY291bnRPZkNhcmRzKTtcblxuXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZih3aWR0aCA8IChjb3VudE9mQ2FyZHMgLSAxKSAqIHdpZHRoQ2FyZCl7XG4gICAgICAgICAgICBjYXJkTm93Kys7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xuICAgICAgICAgICAgd2lkdGggKz0gd2lkdGhDYXJkO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHdpZHRoICsgJ3B4KScpO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICBjYXJkTm93ID0gMTtcbiAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgd2lkdGggKyAncHgpJyk7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHdpZHRoID09IDApe1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZih3aWR0aCA+IDApe1xuICAgICAgICAgICAgY2FyZE5vdy0tO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcbiAgICAgICAgICAgIHdpZHRoIC09IHdpZHRoQ2FyZDtcbiAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyB3aWR0aCArICdweCknKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xuICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgY2FyZE5vdyA9IDE7XG4gICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHdpZHRoICsgJ3B4KScpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHdpZHRoID09IDApe1xuICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsIiQoJy5wcmljZV9fY2FyZCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcucHJpY2VfX2NhcmQsIC5wcmljZV9faW1nICcpLnJlbW92ZUNsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nJykuYWRkQ2xhc3MoJ29wYWNpdHktMSB6b29tSW4nKTtcbn0pOyIsIi8vIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbCkge1xuLy8gICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4vLyAgICAgdmFyIGVsZW1Ub3AgPSByZWN0LnRvcDtcbi8vICAgICB2YXIgZWxlbUJvdHRvbSA9IHJlY3QuYm90dG9tO1xuLy9cbi8vICAgICAvLyBPbmx5IGNvbXBsZXRlbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcbi8vICAgICB2YXIgaXNWaXNpYmxlID0gKGVsZW1Ub3AgPj0gMCkgJiYgKGVsZW1Cb3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0KTtcbi8vICAgICAvLyBQYXJ0aWFsbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcbi8vICAgICAvL2lzVmlzaWJsZSA9IGVsZW1Ub3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxlbUJvdHRvbSA+PSAwO1xuLy8gICAgIHJldHVybiBpc1Zpc2libGU7XG4vLyB9XG4vL1xuLy8gJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcbi8vICAgICBpZihpc1Njcm9sbGVkSW50b1ZpZXcoJCgnLndheV9fdGV4dC02JylbMF0pKXtcbi8vICAgICAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcbi8vICAgICAgICAgJCgnLndheV9fdGV4dC02JykucmVtb3ZlQ2xhc3MoJ3dheV9fdGV4dC02X25vdFZpc2libGUnKS5hZGRDbGFzcygnd2F5X190ZXh0LTZfZml4ZWQnKTtcbi8vXG4vLyAgICAgfVxuLy8gfSk7XG5cbi8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZSl7XG4vLyAgICAgcGFyYWxsYXgoKTtcbi8vIH0pO1xuLy9cbi8vIGZ1bmN0aW9uIHBhcmFsbGF4KCl7XG4vLyAgICAgdmFyIHNjcm9sbGVkID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuLy8gICAgICQoJy5iYWNrZ3JvdW5kJykuY3NzKCd0b3AnLC0oc2Nyb2xsZWQqMC4xNSkrJ3B4Jyk7XG4vLyB9XG5cbi8vIG1ha2VzIHRoZSBwYXJhbGxheCBlbGVtZW50c1xuZnVuY3Rpb24gcGFyYWxsYXhJdCgpIHtcbiAgICAvLyBjcmVhdGUgdmFyaWFibGVzXG4gICAgdmFyICRmd2luZG93ID0gJCh3aW5kb3cpO1xuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgIHZhciAkY29udGVudHMgPSBbXTtcbiAgICB2YXIgJGJhY2tncm91bmRzID0gW107XG5cbiAgICAvLyBmb3IgZWFjaCBvZiBjb250ZW50IHBhcmFsbGF4IGVsZW1lbnRcbiAgICAkKCdbZGF0YS10eXBlPVwiY29udGVudFwiXScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGUpIHtcbiAgICAgICAgdmFyICRjb250ZW50T2JqID0gJCh0aGlzKTtcblxuICAgICAgICAkY29udGVudE9iai5fX3NwZWVkID0gKCRjb250ZW50T2JqLmRhdGEoJ3NwZWVkJykgfHwgMSk7XG4gICAgICAgICRjb250ZW50T2JqLl9fZmdPZmZzZXQgPSAkY29udGVudE9iai5vZmZzZXQoKS50b3A7XG4gICAgICAgICRjb250ZW50cy5wdXNoKCRjb250ZW50T2JqKTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbnNcbiAgICAkZndpbmRvdy5vbignc2Nyb2xsIHJlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAkY29udGVudHMuZm9yRWFjaChmdW5jdGlvbigkY29udGVudE9iaikge1xuICAgICAgICAgICAgdmFyIHlQb3MgPSAkY29udGVudE9iai5fX2ZnT2Zmc2V0IC0gc2Nyb2xsVG9wIC8gJGNvbnRlbnRPYmouX19zcGVlZDtcblxuICAgICAgICAgICAgJGNvbnRlbnRPYmouY3NzKCd0b3AnLCB5UG9zICsgMTAwMCk7XG4gICAgICAgIH0pXG5cbiAgICB9KTtcblxuICAgIC8vIHRyaWdnZXJzIHdpbm9kdyBzY3JvbGwgZm9yIHJlZnJlc2hcbiAgICAkZndpbmRvdy50cmlnZ2VyKCdzY3JvbGwnKTtcbn07XG5cbnBhcmFsbGF4SXQoKTtcblxuLy8g0LTRg9C80LDQuyDQv9GA0LjQstGP0LfQsNGC0YzRgdGPINC6INC40L3QtNC10LrRgdGDINC40LvQuCDQuiBpZCwg0YDQtdGI0LjQuyDQuiDQv9C+0YDRj9C00LrRgywg0L3QtSDRg9Cy0LXRgNC10L0sINGH0YLQviDRjdGC0L4g0L/RgNCw0LLQuNC70YzQvdC+XG4kKCcud2F5X190ZXh0LTInKS5ob3ZlcihmdW5jdGlvbiAoZSkge1xuICAgIGlmKCQod2luZG93KS53aWR0aCgpID4gNjAwKXtcbiAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xuICAgICAgICAkKCcud2F5X190ZXh0LTInKS5yZW1vdmVDbGFzcygnd2hpdGUnKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnd2hpdGUnKTtcbiAgICAgICAgaWYoaW5kZXggPT0gMCl7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQmNC30YPRh9Cw0LXQvCDQutC+0LzQv9Cw0L3QuNGOINC4INC60L7QvdC60YPRgNC10L3RgtC+0LIsINC90LDRhdC+0LTQuNC8INC/0YDQtdC40LzRg9GJ0LXRgdGC0LLQsCwg0LfQsNC60YDRi9Cy0LDQtdC8INCy0L7Qt9GA0LDQttC10L3QuNGPLCDQvdC40LLQtdC70LjRgNGD0LXQvCDRgdGC0YDQsNGF0LgsINGB0L7Qt9C00LDQtdC8INGB0LjQu9GM0L3QvtC1INC/0YDQtdC00LvQvtC20LXQvdC40LUuJyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzEucG5nKScpXG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5kZXggPT0gMSl7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQn9GA0L7QstC+0LTQuNC8IGJyYWluIHN0b3JtOiDQv9GA0L7QtNGD0LzRi9Cy0LDQtdC8INGB0YLRgNGD0LrRgtGD0YDRgywg0LHQu9C+0LrQuCwg0YXQsNGA0LDQutGC0LXRgCDQuCDRgdGC0LjQu9GMINC40YHRhdC+0LTRjyDQuNC3INC30LDQtNCw0Ycg0LHQuNC30L3QtdGB0LAuJyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzIucG5nKScpXG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5kZXggPT0gMil7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQo9C/0YDQsNCy0LvRj9C10Lwg0LLQvdC40LzQsNC90LjQtdC8LCDRgdC+0LfQtNCw0ZHQvCDQuNC90YLQtdGA0LXRgSDQuiDRg9GB0LvRg9Cz0LUv0L/RgNC+0LTRg9C60YLRgyDQsiDRg9C00L7QsdC90L7QuSDQvdCw0LLQuNCz0LDRhtC40Lgg0Lgg0YHRgtC40LvRjNC90L7QvCDQtNC40LfQsNC50L3QtScpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18zLnBuZyknKVxuICAgICAgICB9XG4gICAgICAgIGlmKGluZGV4ID09IDMpe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KHQvtC30LTQsNGR0Lwg0Y3RhNGE0LXQutGCINC/0YDQuNGB0YPRgtGB0YLQstC40Y8sIOKAnNC/0YDQvtCy0L7QtNC40Lwg0Y3QutGB0LrRg9GA0YHQuNGO4oCdINC/0L4g0YHQsNC50YLRgywg0LLRi9Cy0L7QtNC40Lwg0YTQvtC60YPRgSDQvdCwINGG0LXQu9C10LLRi9C1INC00LXQudGB0YLQstC40Y8uJyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzQucG5nKScpXG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5kZXggPT0gNCl7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQn9C+0LTQsdC40YDQsNC10Lwg0YbQtdC70LXQstGL0LUg0LTQu9GPINC90LjRiNC4INGA0LXQutC70LDQvNC90YvQtSDQv9C70L7RidCw0LTQuCAoUFBDLCBzbW0pINC/0L7QvNC+0LPQsNC10Lwg0L7RgtCx0LjRgtGMINC30LDRgtGA0LDRgtGLINC90LAg0YDQtdC60LvQsNC80YMg0Lgg0LLRi9C50YLQuCDQsiDQv9GA0LjQsdGL0LvRjCcpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X181LnBuZyknKVxuICAgICAgICB9XG4gICAgICAgIGlmKGluZGV4ID09IDUpe1xuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQutGA0LXQv9C70Y/QtdC8INC40LzQuNC00LYg0LHRgNC10L3QtNCwLCDRgdC+0LHQuNGA0LDQtdC8INC4INC+0L/RgtC40LzQuNC30LjRgNGD0LXQvCDRgNC10LfRg9C70YzRgtCw0YLRiycpO1xuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X182LnBuZyknKVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuXG4vL21vYmlsZSBzbGlkZXIgc3RhcnRcbmlmKCQod2luZG93KS53aWR0aCgpIDw9IDYwMCl7XG4gICAgd2F5U2xpZGVyKCk7XG59XG5cbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xuICAgICAgICB3YXlTbGlkZXIoKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gd2F5U2xpZGVyKCl7XG4gICAgdmFyIGNvdW50T2ZDYXJkID0gJCgnLndheV9fY2FyZCcpLmxlbmd0aDtcbiAgICB2YXIgd2lkdGhDYXJkID0gJCgnLndheV9fY2FyZCcpLm91dGVyV2lkdGgodHJ1ZSk7XG5cbiAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGNvdW50T2ZDYXJkKTtcblxuICAgIC8vINGC0YDQvtGC0LvQuNC90LNcbiAgICAkKCAnLndheV9fb3ZlcmZsb3cnICkuc2Nyb2xsKHRocm90dGxlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgbGVmdCA9ICQoJy53YXlfX292ZXJmbG93Jykuc2Nyb2xsTGVmdCgpO1xuICAgICAgICAgICAgLy/QuNGJ0YMg0LrQsNC60L7QuSDRjdC70LXQvNC10L3RgtCwLCAyNSDRhNCw0L3RgtC+0LzQvdC+0LUg0YfQuNGB0LvQviDQtNC70Y8g0LHQvtC70LXQtSDQu9C+0LPQuNGH0L3Ri9GFINC00LDQvdC90YvRhVxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC03X2NvdW50JykudGV4dCggJzAnICsgKCAoTWF0aC5mbG9vciggbGVmdCAvICggd2lkdGhDYXJkIC0gMjUgKSkpICsgMSApKTtcblxuICAgICAgICB9LDUwKVxuICAgICk7XG59XG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCkge1xuICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgodGltZSArIHdhaXQgLSBEYXRlLm5vdygpKSA8IDApIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJ2YXIgY3Vyc29yID0ge1xuICAgIGRlbGF5OiA4LFxuICAgIF94OiAwLFxuICAgIF95OiAwLFxuICAgIGVuZFg6ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpLFxuICAgIGVuZFk6ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSxcbiAgICBjdXJzb3JWaXNpYmxlOiB0cnVlLFxuICAgIGN1cnNvckVubGFyZ2VkOiBmYWxzZSxcbiAgICAkZG90OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdCcpLFxuICAgICRvdXRsaW5lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdC1vdXRsaW5lJyksXG5cbiAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gU2V0IHVwIGVsZW1lbnQgc2l6ZXNcbiAgICAgICAgdGhpcy5kb3RTaXplID0gdGhpcy4kZG90Lm9mZnNldFdpZHRoO1xuICAgICAgICB0aGlzLm91dGxpbmVTaXplID0gdGhpcy4kb3V0bGluZS5vZmZzZXRXaWR0aDtcblxuICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5hbmltYXRlRG90T3V0bGluZSgpO1xuICAgIH0sXG5cbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFuY2hvciBob3ZlcmluZ1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vY3VzdG9tIGhvdmVyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3InKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2xpY2sgZXZlbnRzXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJzb3JcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcblxuICAgICAgICAgICAgLy8gUG9zaXRpb24gdGhlIGRvdFxuICAgICAgICAgICAgc2VsZi5lbmRYID0gZS5wYWdlWDtcbiAgICAgICAgICAgIHNlbGYuZW5kWSA9IGUucGFnZVk7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudG9wID0gc2VsZi5lbmRZICsgJ3B4JztcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5sZWZ0ID0gc2VsZi5lbmRYICsgJ3B4JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGlkZS9zaG93IGN1cnNvclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhbmltYXRlRG90T3V0bGluZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLl94ICs9IChzZWxmLmVuZFggLSBzZWxmLl94KSAvIHNlbGYuZGVsYXk7XG4gICAgICAgIHNlbGYuX3kgKz0gKHNlbGYuZW5kWSAtIHNlbGYuX3kpIC8gc2VsZi5kZWxheTtcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50b3AgPSBzZWxmLl95ICsgJ3B4JztcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5sZWZ0ID0gc2VsZi5feCArICdweCc7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZURvdE91dGxpbmUuYmluZChzZWxmKSk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUN1cnNvclNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yRW5sYXJnZWQpIHtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDAuNzUpJztcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgyKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRvZ2dsZUN1cnNvclZpc2liaWxpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yVmlzaWJsZSkge1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmN1cnNvci5pbml0KCk7Il19
