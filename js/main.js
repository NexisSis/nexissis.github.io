$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").mouseup(function(){$(window).width()<=600&&$("body").toggleClass("overflow-hidden"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),g}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),t=$(".menu");a.is(e.target)||0!==a.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||($("body").removeClass("overflow-hidden"),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=600&&$("body").addClass("overflow-hidden"),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active"),$(".popup__text-1").text("Обсудить проект")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(function(){$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();t||""==t||$(".popup__name").attr("placeholder","Заполните это поле!"),e||""==e||$(".popup__tel").attr("placeholder","Заполните это поле!");var a={name:t,email:$(".popup__email").val(),tel:e,message:$(".popup__email").val()};console.log(a),$.ajax({type:"POST",url:"sendMail.php",data:a,success:function(p){JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}),$(".contact__form_small").submit(function(p){var t=$(".contact__input ").val();t||""==t||$(".contact__input ").attr("placeholder","Заполните это поле!")})});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
(new WOW).init();
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwcmljZS9wcmljZS5qcyIsInBvcnRmb2xpby9wb3J0Zm9saW8uanMiLCJzZW5kTWFpbC9zZW5kTWFpbC5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2NvbW1vbi5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJtb3VzZXVwIiwid2luZG93Iiwid2lkdGgiLCJ0b2dnbGVDbGFzcyIsInJlbW92ZUNsYXNzIiwiZyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiYXR0ciIsIm9mZnNldCIsInRvcCIsImRvY3VtZW50IiwiY29udGFpbmVyIiwiY29udGFpbmVyTWVudSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwicG9wdXBTYW1lIiwiYWRkQ2xhc3MiLCJ0ZXh0IiwiaHRtbCIsImhvdmVyIiwiZmluZCIsInJlYWR5Iiwib3dsIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwib25Jbml0aWFsaXplZCIsImV2ZW50IiwiaXRlbSIsImNvdW50IiwiYXV0b1dpZHRoIiwic21hcnRTcGVlZCIsInRyaWdnZXIiLCJwcmV2RmxhZyIsIm9uIiwib3dsSXRlbXMiLCJpbmRleCIsImNhbGNJdGVtIiwiTWF0aCIsImZsb29yIiwic3VibWl0IiwibmFtZSIsInZhbCIsInRlbCIsImRhdGEiLCJlbWFpbCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJwYXJhbGxheEl0IiwiJGZ3aW5kb3ciLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsIiRjb250ZW50cyIsIiRjb250ZW50T2JqIiwiX19zcGVlZCIsIl9fZmdPZmZzZXQiLCJwdXNoIiwiZm9yRWFjaCIsInlQb3MiLCJjc3MiLCJvd2xXYXkiLCJXT1ciLCJpbml0IiwiY3Vyc29yIiwiZGVsYXkiLCJfeCIsIl95IiwiZW5kWCIsImlubmVyV2lkdGgiLCJlbmRZIiwiaW5uZXJIZWlnaHQiLCJjdXJzb3JWaXNpYmxlIiwiY3Vyc29yRW5sYXJnZWQiLCIkZG90IiwicXVlcnlTZWxlY3RvciIsIiRvdXRsaW5lIiwiZG90U2l6ZSIsIm9mZnNldFdpZHRoIiwib3V0bGluZVNpemUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiYW5pbWF0ZURvdE91dGxpbmUiLCJzZWxmIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZUN1cnNvclNpemUiLCJ0b2dnbGVDdXJzb3JWaXNpYmlsaXR5IiwicGFnZVgiLCJwYWdlWSIsInN0eWxlIiwibGVmdCIsIm9wYWNpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxtQkFBbUJDLEtBQUssV0FDdEJELEVBQUVFLE1BQU1DLE1BQU0sV0FFVixPQURBSCxFQUFFLGFBQWFJLFFBQVEsQ0FBRUMsVUFBVyxHQUFLLFNBQ2xDO0FDRmZMLEVBQUUsU0FBU00sUUFBUSxXQUNaTixFQUFFTyxRQUFRQyxTQUFXLEtBQ3BCUixFQUFFLFFBQVFTLFlBQVksbUJBRTFCVCxFQUFFLGlCQUFpQlMsWUFBWSx1QkFDL0JULEVBQUUsYUFBYVMsWUFBWSxlQUMzQlQsRUFBRSxpQkFBaUJTLFlBQVksUUFDL0JULEVBQUUsaUJBQWlCUyxZQUFZLHlCQUduQ1QsRUFBRSxnQkFBZ0JHLE1BQU0sV0FDcEJILEVBQUUsaUJBQWlCVSxZQUFZLHVCQUNuQ0MsSUFJQVgsRUFBRSxtQkFBbUJHLE1BQU0sU0FBU1MsR0FDaENBLEVBQUVDLGlCQUNGLElBQUlDLEVBQUtkLEVBQUVFLE1BQU1hLEtBQUssUUFDdEJmLEVBQUUsYUFBYUksUUFBUSxDQUFDQyxVQUFXTCxFQUFF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QUtnQixNQUFNSyxVQUFZLG9DQUM1QmIsRUFBS04sU0FBU2MsTUFBTUssVUFBWSxtQ0FFaENiLEVBQUtSLEtBQUtnQixNQUFNSyxVQUFZLGlDQUM1QmIsRUFBS04sU0FBU2MsTUFBTUssVUFBWSxtQ0FJeENSLHVCQUF3QixXQUNwQixJQUFJTCxFQUFPaEcsS0FFUGdHLEVBQUtWLGVBQ0xVLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLElBRTlCVixFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxLQUsxQzVCLE9BQU9EIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCcuY29udGFjdF9fYXJyb3cnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAkKHRoaXMpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAnc2xvdycpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59KTsiLCIvLyBvcGVuIG1lbnVcclxuJCgnLm1lbnUnKS5tb3VzZXVwKGZ1bmN0aW9uKCl7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xyXG4gICAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnRvZ2dsZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnRvZ2dsZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykudG9nZ2xlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKCcubWVudV9hY3RpdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuZ1xyXG59KTtcclxuXHJcbi8vc21vb3RoIHNjcm9sbGluZyB0byBibG9ja1xyXG4kKCcuaGVhZGVyX190ZXh0LTEnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJChpZCkub2Zmc2V0KCkudG9wfSwgMTAwMCk7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxufSk7XHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgbWVudVxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5oZWFkZXJfX21lbnUnKTtcclxuICAgIHZhciBjb250YWluZXJNZW51ID0gJCgnLm1lbnUnKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXHJcbiAgICAgICAgKCFjb250YWluZXJNZW51LmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXJNZW51LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSApIHtcclxuXHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcclxuICAgICAgICAkKCcubWFpbl9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxuICAgIH1cclxufSk7IiwiIiwiJCgnLnBvcHVwX19tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJCgnLm1haW5fX3RleHQtNywgLndheV9fdGV4dC01LC5tYWluX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykuaHRtbChcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiPtCe0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LDwvc3Bhbj5cXG4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiPtCyINC60L7RgtC+0YDRi9GFINCy0LDQvCDQutC+0LzRhNC+0YDRgtC90L4g0L7QsdGJ0LDRgtGM0YHRjyAtPC9zcGFuPlxcbicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCIgPtC90LDQv9C40YjQtdC8INCyINC80LXRgdGB0LXQtNC20LXRgCDQuNC70Lgg0L/QtdGA0LXQt9Cy0L7QvdC40LwuPC9zcGFuPidcclxuICAgICk7XHJcbn0pO1xyXG5cclxuJCgnLm1haW5fX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JfQstC+0L3QvtC6INCyINGB0LLQtdGC0LvQvtC1INCx0YPQtNGD0YnQtdC1INCy0LDRiNC10Lkg0LrQvtC80L/QsNC90LjQuCAtINC/0LjRiNC40YLQtSwg0LzRiyDQvdCwINC70LjQvdC40LguJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5hYm91dF9fdGV4dC0yJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQoNCw0YHRgdC60LDQttC40YLQtSDQviDQtNC10LvQtSwg0LrQvtGC0L7RgNC+0LUg0LLQtNC+0YXQvdC+0LLQu9GP0LXRgiDQstCw0YEg0L/RgNC+0YHRi9C/0LDRgtGM0YHRjyDQv9C+INGD0YLRgNCw0LwsINC+INC/0LvQsNC90LDRhSDQuCDQvNC10YfRgtCw0YUg0L3QsCDQsdGD0LTRg9GJ0LXQtS4nKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5sYW5kaW5nLXBvd2VyX190ZXh0LTYnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CS0YDQtdC80Y8g0L/QvtGB0YLQuNGH0Ywg0LTQt9C10L0g0Lgg0L/RgNC10LfQtdC90YLQvtCy0LDRgtGMINC80LjRgNGDINGB0LLQvtC5INCx0LjQt9C90LXRgS4nKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5iaWdfX3JlcHJlc2VudCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KLRg9GCINC90LDRh9C40L3QsNC10YLRgdGPINC/0YPRgtGMINC6INC/0YDQuNC30L3QsNC90LjRjiDQuCDRg9C30L3QsNCy0LDQtdC80L7RgdGC0LguJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuc2FsZXNfcHJvbW90aW9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQp9C10YHRgtC90YvQuSDQv9GD0YLRjCDQuiDRgdC+0LrRgNC+0LLQuNGJ0LDQvCDQuCDQvNC40LvQu9C40L7QvdCw0LwuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcud293X2JyYW5kaW5nJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGLINC90LDRiNC70Lgg0LHQvtC80LHQuNGH0LXRgdC60LjQuSDQvtCz0L7QvdGMINC00LvRjyDQsNCx0YHQvtC70Y7RgtC90L7QuSDQstC70LDRgdGC0Lgg0L3QsNC0INC80LjRgNC+0LwuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuaW5saW5lX190ZXh0LTIsLmlubGluZV9fYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LDQv9C+0LvQvdC40YLQtSDRhNC+0YDQvNGDIC0g0L7RgtC/0YDQsNCy0LjQvCDQstCw0Lwg0L/RgNC10LfQtdC90YLQsNGG0LjRjiDQuCDQv9C+0LzQvtC20LXQvCDRgSDQv9C70LDQvdC+0Lwg0YDQsNC30LLQuNGC0LjQuCDQutC+0LzQv9Cw0L3QuNC4LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBwb3B1cFNhbWUoKSB7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xyXG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLnBvcHVwX19mb3JtJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0J7QsdGB0YPQtNC40YLRjCDQv9GA0L7QtdC60YInKTtcclxufVxyXG5cclxuXHJcbi8vY2hlY2sgaWYgY2xpY2sgb3V0c2lkZSBwb3B1cFxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5wb3B1cCcpO1xyXG4gICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lciBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgIGlmICghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxuICAgIH1cclxufSk7IiwiJCgnLnByaWNlX19jYXJkJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnByaWNlX19jYXJkLCAucHJpY2VfX2ltZyAnKS5yZW1vdmVDbGFzcygnb3BhY2l0eS0xJyk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQoJy5wcmljZV9faW1nLWl0ZW0nKS5yZW1vdmVDbGFzcygncHJpY2VfX2ltZy1pdGVtX2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcucHJpY2VfX2ltZycpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQodGhpcykuZmluZCgnLnByaWNlX19pbWctaXRlbScpLmFkZENsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XHJcbn0pOyIsIi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHBvcnRmb2xpb1NsaWRlcigpO1xyXG4vLyAgICAgJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIHBvcnRmb2xpb1NsaWRlcigpO1xyXG4vLyAgICAgfSk7XHJcbi8vXHJcbi8vXHJcbi8vXHJcbi8vXHJcbi8vICAgICBmdW5jdGlvbiBwb3J0Zm9saW9TbGlkZXIoKXtcclxuLy9cclxuLy8gICAgICAgICB2YXIgc3RhcnQgPSAwO1xyXG4vLyAgICAgICAgIHZhciBjYXJkTm93ID0gMTtcclxuLy8gICAgICAgICAvL9Cx0LXRgNC10YjQuNC8INGI0LjRgNC40L3RgyDQutCw0YDRgtC+0YfQutC4INGBINC+0YLRgdGC0YPQv9Cw0LzQuFxyXG4vLyAgICAgICAgIHZhciB3aWR0aENhcmQgPSAkKCcucG9ydGZvbGlvX19jYXJkJykubGFzdCgpLm91dGVyV2lkdGgodHJ1ZSk7XHJcbi8vICAgICAgICAgLy/QutC+0LvQuNGH0LXRgdGC0LLQviDQutCw0YDRgtC+0YfQtdC6XHJcbi8vICAgICAgICAgdmFyIGNvdW50T2ZDYXJkcyA9ICQoJy5wb3J0Zm9saW9fX2NhcmQnKS5sZW5ndGg7XHJcbi8vICAgICAgICAgLy/Qt9Cw0L/QuNGB0YvQstCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDRjdC70LXQvNC10L3RgtC+0LJcclxuLy8gICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfdG90YWwnKS50ZXh0KCcwJyArIGNvdW50T2ZDYXJkcyk7XHJcbi8vXHJcbi8vICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgICBzbGlkZVJpZ2h0KCk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vXHJcbi8vICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgICBzbGlkZUxlZnQoKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICBmdW5jdGlvbiBzbGlkZVJpZ2h0KCl7XHJcbi8vICAgICAgICAgICAgIGlmKHN0YXJ0IDwgKGNvdW50T2ZDYXJkcyAtIDEpICogd2lkdGhDYXJkKXtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3crKztcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XHJcbi8vICAgICAgICAgICAgICAgICBzdGFydCArPSB3aWR0aENhcmQ7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgc3RhcnQgKyAncHgpJyk7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICB9ZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3cgPSAxO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyBzdGFydCArICdweCknKTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmFkZENsYXNzKCdoaWRlJyk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgaWYoc3RhcnQgPT0gMCl7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHNsaWRlTGVmdCgpe1xyXG4vLyAgICAgICAgICAgICBpZihzdGFydCA+IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgY2FyZE5vdy0tO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcclxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0IC09IHdpZHRoQ2FyZDtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyBzdGFydCArICdweCknKTtcclxuLy8gICAgICAgICAgICAgfWVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FyZE5vdyA9IDE7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHN0YXJ0ICsgJ3B4KScpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGlmKHN0YXJ0ID09IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2wgPSAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpO1xyXG4gICAgb3dsLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBzbWFydFNwZWVkOjc1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xyXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBvd2wudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XHJcblxyXG4gICAgLy9tYWdpYyBmb3Igb3dsIGNhcm91c2VsIHN0YXJ0IHdvcmtcclxuICAgIG93bC5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHByZXZGbGFnID0gdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBvd2wub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgb3dsSXRlbXMgID0gZXZlbnQuaXRlbS5jb3VudDsgICAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgKGNvbnNpc3RlbnQgYW5kIGFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBpdGVtICAgICAgPSBldmVudC5pdGVtLmluZGV4OyAgIC8vIE93bCByZXBvcnRlZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpbmNvbnNpc3RlbnQgYW5kIGluYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcclxuXHJcbiAgICAgICAgLy8gaWYgZnJvbSBwcmV2aW91cyBjbGlja1xyXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxjSXRlbSA9PT0gMCkgeyAgLy8gcmVwb3J0cyAwIGluc3RlYWQgb2YgbGFzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgY2FsY0l0ZW0gPSBvd2xJdGVtczsgLy8gc29sdmUgdGhhdCBwcm9ibGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xyXG4gICAgICAgIGlmKHByZXZGbGFnID09PSBmYWxzZSAmJiBjYWxjSXRlbSA9PT0gMCB8fCBjYWxjSXRlbSA+IG93bEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNhbGNJdGVtID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZGbGFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XHJcblxyXG4gICAgfSlcclxufSk7IiwiJChmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLnBvcHVwX19mb3JtXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgbmFtZSA9ICQoXCIucG9wdXBfX25hbWVcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRlbCA9ICQoXCIucG9wdXBfX3RlbFwiKS52YWwoKTtcclxuICAgICAgICBpZighbmFtZSAmJiBuYW1lICE9ICcnICl7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fbmFtZScpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGVsICYmIHRlbCAhPSAnJyl7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fdGVsJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6ICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpLFxyXG4gICAgICAgICAgICB0ZWw6IHRlbCxcclxuICAgICAgICAgICAgbWVzc2FnZTogJChcIi5wb3B1cF9fZW1haWxcIikudmFsKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwic2VuZE1haWwucGhwXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5zdyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZighYW5zdy5lcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQl9Cw0Y/QstC60LAg0L/RgNC40L3Rj9GC0LAhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCcnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Ce0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAn0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC1cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9C90LDQv9C40YjQtdC8INCyINC80LXRgdGB0LXQtNC20LXRgCDQuNC70Lgg0L/QtdGA0LXQt9Cy0L7QvdC40LwuJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Ci0LXRhS4g0L7RiNC40LHQutCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0J/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtCy0YLQvtGA0LjRgtGMINGH0LXRgNC10Lcg0L3QtdC60L7RgtC+0YDQvtC1INCy0YDQtdC80Y8uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKCcucG9wdXBfX2Zvcm0nKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmNvbnRhY3RfX2Zvcm1fc21hbGxcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHRlbCA9ICQoXCIuY29udGFjdF9faW5wdXQgXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZighdGVsICYmIHRlbCAhPSAnJyl7XHJcbiAgICAgICAgICAgICQoJy5jb250YWN0X19pbnB1dCAnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1IVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pOyIsIi8vIGZ1bmN0aW9uIGlzU2Nyb2xsZWRJbnRvVmlldyhlbCkge1xyXG4vLyAgICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuLy8gICAgIHZhciBlbGVtVG9wID0gcmVjdC50b3A7XHJcbi8vICAgICB2YXIgZWxlbUJvdHRvbSA9IHJlY3QuYm90dG9tO1xyXG4vL1xyXG4vLyAgICAgLy8gT25seSBjb21wbGV0ZWx5IHZpc2libGUgZWxlbWVudHMgcmV0dXJuIHRydWU6XHJcbi8vICAgICB2YXIgaXNWaXNpYmxlID0gKGVsZW1Ub3AgPj0gMCkgJiYgKGVsZW1Cb3R0b20gPD0gd2luZG93LmlubmVySGVpZ2h0KTtcclxuLy8gICAgIC8vIFBhcnRpYWxseSB2aXNpYmxlIGVsZW1lbnRzIHJldHVybiB0cnVlOlxyXG4vLyAgICAgLy9pc1Zpc2libGUgPSBlbGVtVG9wIDwgd2luZG93LmlubmVySGVpZ2h0ICYmIGVsZW1Cb3R0b20gPj0gMDtcclxuLy8gICAgIHJldHVybiBpc1Zpc2libGU7XHJcbi8vIH1cclxuLy9cclxuLy8gJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBjb25zb2xlLmxvZygnaGVyZScpO1xyXG4vLyAgICAgaWYoaXNTY3JvbGxlZEludG9WaWV3KCQoJy53YXlfX3RleHQtNicpWzBdKSl7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcclxuLy8gICAgICAgICAkKCcud2F5X190ZXh0LTYnKS5yZW1vdmVDbGFzcygnd2F5X190ZXh0LTZfbm90VmlzaWJsZScpLmFkZENsYXNzKCd3YXlfX3RleHQtNl9maXhlZCcpO1xyXG4vL1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZSl7XHJcbi8vICAgICBwYXJhbGxheCgpO1xyXG4vLyB9KTtcclxuLy9cclxuLy8gZnVuY3Rpb24gcGFyYWxsYXgoKXtcclxuLy8gICAgIHZhciBzY3JvbGxlZCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuLy8gICAgICQoJy5iYWNrZ3JvdW5kJykuY3NzKCd0b3AnLC0oc2Nyb2xsZWQqMC4xNSkrJ3B4Jyk7XHJcbi8vIH1cclxuXHJcbi8vIG1ha2VzIHRoZSBwYXJhbGxheCBlbGVtZW50c1xyXG5mdW5jdGlvbiBwYXJhbGxheEl0KCkge1xyXG4gICAgLy8gY3JlYXRlIHZhcmlhYmxlc1xyXG4gICAgdmFyICRmd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgdmFyICRjb250ZW50cyA9IFtdO1xyXG4gICAgdmFyICRiYWNrZ3JvdW5kcyA9IFtdO1xyXG5cclxuICAgIC8vIGZvciBlYWNoIG9mIGNvbnRlbnQgcGFyYWxsYXggZWxlbWVudFxyXG4gICAgJCgnW2RhdGEtdHlwZT1cImNvbnRlbnRcIl0nKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlKSB7XHJcbiAgICAgICAgdmFyICRjb250ZW50T2JqID0gJCh0aGlzKTtcclxuICAgICAgICAkY29udGVudE9iai5fX3NwZWVkID0gMjtcclxuICAgICAgICAkY29udGVudE9iai5fX2ZnT2Zmc2V0ID0gJGNvbnRlbnRPYmoub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICRjb250ZW50cy5wdXNoKCRjb250ZW50T2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbnNcclxuICAgICRmd2luZG93Lm9uKCdzY3JvbGwgcmVzaXplJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgJGNvbnRlbnRzLmZvckVhY2goZnVuY3Rpb24oJGNvbnRlbnRPYmopIHtcclxuICAgICAgICAgICAgdmFyIHlQb3MgPSAkY29udGVudE9iai5fX2ZnT2Zmc2V0IC0gc2Nyb2xsVG9wIC8gJGNvbnRlbnRPYmouX19zcGVlZDtcclxuICAgICAgICAgICAgJGNvbnRlbnRPYmouY3NzKCd0b3AnLCB5UG9zICsgOTAwKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8gdHJpZ2dlcnMgd2lub2R3IHNjcm9sbCBmb3IgcmVmcmVzaFxyXG4gICAgJGZ3aW5kb3cudHJpZ2dlcignc2Nyb2xsJyk7XHJcbn07XHJcblxyXG5wYXJhbGxheEl0KCk7XHJcblxyXG4vLyDQtNGD0LzQsNC7INC/0YDQuNCy0Y/Qt9Cw0YLRjNGB0Y8g0Log0LjQvdC00LXQutGB0YMg0LjQu9C4INC6IGlkLCDRgNC10YjQuNC7INC6INC/0L7RgNGP0LTQutGDLCDQvdC1INGD0LLQtdGA0LXQvSwg0YfRgtC+INGN0YLQviDQv9GA0LDQstC40LvRjNC90L5cclxuJCgnLndheV9fdGV4dC0yJykuaG92ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmKCQod2luZG93KS53aWR0aCgpID4gNjAwKXtcclxuICAgICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XHJcbiAgICAgICAgJCgnLndheV9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ3doaXRlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnd2hpdGUnKTtcclxuICAgICAgICBpZihpbmRleCA9PSAwKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0JjQt9GD0YfQsNC10Lwg0LrQvtC80L/QsNC90LjRjiDQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyLCDQvdCw0YXQvtC00LjQvCDQv9GA0LXQuNC80YPRidC10YHRgtCy0LAsINC30LDQutGA0YvQstCw0LXQvCDQstC+0LfRgNCw0LbQtdC90LjRjywg0L3QuNCy0LXQu9C40YDRg9C10Lwg0YHRgtGA0LDRhdC4LCDRgdC+0LfQtNCw0LXQvCDRgdC40LvRjNC90L7QtSDQv9GA0LXQtNC70L7QttC10L3QuNC1LicpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzEucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDEpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQn9GA0L7QstC+0LTQuNC8IGJyYWluIHN0b3JtOiDQv9GA0L7QtNGD0LzRi9Cy0LDQtdC8INGB0YLRgNGD0LrRgtGD0YDRgywg0LHQu9C+0LrQuCwg0YXQsNGA0LDQutGC0LXRgCDQuCDRgdGC0LjQu9GMINC40YHRhdC+0LTRjyDQuNC3INC30LDQtNCw0Ycg0LHQuNC30L3QtdGB0LAuJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMi5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMil7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0L/RgNCw0LLQu9GP0LXQvCDQstC90LjQvNCw0L3QuNC10LwsINGB0L7Qt9C00LDRkdC8INC40L3RgtC10YDQtdGBINC6INGD0YHQu9GD0LPQtS/Qv9GA0L7QtNGD0LrRgtGDINCyINGD0LTQvtCx0L3QvtC5INC90LDQstC40LPQsNGG0LjQuCDQuCDRgdGC0LjQu9GM0L3QvtC8INC00LjQt9Cw0LnQvdC1Jyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMy5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMyl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Ch0L7Qt9C00LDRkdC8INGN0YTRhNC10LrRgiDQv9GA0LjRgdGD0YLRgdGC0LLQuNGPLCDigJzQv9GA0L7QstC+0LTQuNC8INGN0LrRgdC60YPRgNGB0LjRjuKAnSDQv9C+INGB0LDQudGC0YMsINCy0YvQstC+0LTQuNC8INGE0L7QutGD0YEg0L3QsCDRhtC10LvQtdCy0YvQtSDQtNC10LnRgdGC0LLQuNGPLicpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzQucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDQpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQn9C+0LTQsdC40YDQsNC10Lwg0YbQtdC70LXQstGL0LUg0LTQu9GPINC90LjRiNC4INGA0LXQutC70LDQvNC90YvQtSDQv9C70L7RidCw0LTQuCAoUFBDLCBzbW0pINC/0L7QvNC+0LPQsNC10Lwg0L7RgtCx0LjRgtGMINC30LDRgtGA0LDRgtGLINC90LAg0YDQtdC60LvQsNC80YMg0Lgg0LLRi9C50YLQuCDQsiDQv9GA0LjQsdGL0LvRjCcpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzUucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDUpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQo9C60YDQtdC/0LvRj9C10Lwg0LjQvNC40LTQtiDQsdGA0LXQvdC00LAsINGB0L7QsdC40YDQsNC10Lwg0Lgg0L7Qv9GC0LjQvNC40LfQuNGA0YPQtdC8INGA0LXQt9GD0LvRjNGC0LDRgtGLJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNi5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gLy9tb2JpbGUgc2xpZGVyIHN0YXJ0XHJcbi8vIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDYwMCl7XHJcbi8vICAgICB3YXlTbGlkZXIoKTtcclxuLy8gfVxyXG4vL1xyXG4vLyAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XHJcbi8vICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xyXG4vLyAgICAgICAgIHdheVNsaWRlcigpO1xyXG4vLyAgICAgfVxyXG4vLyB9KTtcclxuXHJcbi8vIGZ1bmN0aW9uIHdheVNsaWRlcigpe1xyXG4vLyAgICAgdmFyIGNvdW50T2ZDYXJkID0gJCgnLndheV9fY2FyZCcpLmxlbmd0aDtcclxuLy8gICAgIHZhciB3aWR0aENhcmQgPSAkKCcud2F5X19jYXJkJykub3V0ZXJXaWR0aCh0cnVlKTtcclxuLy9cclxuLy8gICAgICQoJy53YXlfX3RleHQtN190b3RhbCcpLnRleHQoJzAnICsgY291bnRPZkNhcmQpO1xyXG4vL1xyXG4vLyAgICAgLy8g0YLRgNC+0YLQu9C40L3Qs1xyXG4vLyAgICAgJCggJy53YXlfX292ZXJmbG93JyApLnNjcm9sbCh0aHJvdHRsZShmdW5jdGlvbigpe1xyXG4vLyAgICAgICAgICAgICB2YXIgbGVmdCA9ICQoJy53YXlfX292ZXJmbG93Jykuc2Nyb2xsTGVmdCgpO1xyXG4vLyAgICAgICAgICAgICAvL9C40YnRgyDQutCw0LrQvtC5INGN0LvQtdC80LXQvdGC0LAsIDI1INGE0LDQvdGC0L7QvNC90L7QtSDRh9C40YHQu9C+INC00LvRjyDQsdC+0LvQtdC1INC70L7Qs9C40YfQvdGL0YUg0LTQsNC90L3Ri9GFXHJcbi8vICAgICAgICAgICAgICQoJy53YXlfX3RleHQtN19jb3VudCcpLnRleHQoICcwJyArICggKE1hdGguZmxvb3IoIGxlZnQgLyAoIHdpZHRoQ2FyZCAtIDI1ICkpKSArIDEgKSk7XHJcbi8vXHJcbi8vICAgICAgICAgfSw1MClcclxuLy8gICAgICk7XHJcbi8vIH1cclxuLy8gZnVuY3Rpb24gdGhyb3R0bGUoZm4sIHdhaXQpIHtcclxuLy8gICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcclxuLy8gICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICBpZiAoKHRpbWUgKyB3YWl0IC0gRGF0ZS5ub3coKSkgPCAwKSB7XHJcbi8vICAgICAgICAgICAgIGZuKCk7XHJcbi8vICAgICAgICAgICAgIHRpbWUgPSBEYXRlLm5vdygpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfXdheV9fc2xpZGVyXHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2xXYXkgPSAkKCcud2F5X19zbGlkZXInKTtcclxuICAgIG93bFdheS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXHJcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDo3NTBcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG93bEluaXQoZXZlbnQpIHtcclxuICAgICAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG93bFdheS50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLndheV9fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsV2F5LnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJldkZsYWcgPSB0cnVlO1xyXG5cclxuICAgIC8vbWFnaWMgZm9yIG93bCBjYXJvdXNlbCBzdGFydCB3b3JrXHJcbiAgICBvd2xXYXkub24oJ3ByZXYub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBwcmV2RmxhZyA9IHRydWVcclxuICAgIH0pO1xyXG4gICAgb3dsV2F5Lm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcclxuICAgICAgICB2YXIgaXRlbSAgICAgID0gZXZlbnQuaXRlbS5pbmRleDsgICAvLyBPd2wgcmVwb3J0ZWQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaW5jb25zaXN0ZW50IGFuZCBpbmFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBjYWxjSXRlbSAgPSBNYXRoLmZsb29yKGl0ZW0gLSAob3dsSXRlbXMgLyAyKSArIDEpOyAvLyBzbGlnaHRseSBtb3JlIGxvZ2ljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaWYgbm90IGZyb20gcHJldmlvdXMgY2xpY2spXHJcblxyXG4gICAgICAgIC8vIGlmIGZyb20gcHJldmlvdXMgY2xpY2tcclxuICAgICAgICBpZihwcmV2RmxhZykge1xyXG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcclxuICAgICAgICAgICAgICAgIGNhbGNJdGVtID0gb3dsSXRlbXM7IC8vIHNvbHZlIHRoYXQgcHJvYmxlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdmFsdWVzIHRoYXQgZmFsbCBvdXRzaWRlIG9mIGxvZ2ljYWwgbWluL21heCBib3VuZHNcclxuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xyXG4gICAgICAgICAgICBjYWxjSXRlbSA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2RmxhZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICQoJy53YXlfX3RleHQtN19jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xyXG5cclxuICAgIH0pXHJcbn0pOyIsIm5ldyBXT1coKS5pbml0KCk7IiwidmFyIGN1cnNvciA9IHtcclxuICAgIGRlbGF5OiA4LFxyXG4gICAgX3g6IDAsXHJcbiAgICBfeTogMCxcclxuICAgIGVuZFg6ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpLFxyXG4gICAgZW5kWTogKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpLFxyXG4gICAgY3Vyc29yVmlzaWJsZTogdHJ1ZSxcclxuICAgIGN1cnNvckVubGFyZ2VkOiBmYWxzZSxcclxuICAgICRkb3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90JyksXHJcbiAgICAkb3V0bGluZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvci1kb3Qtb3V0bGluZScpLFxyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFNldCB1cCBlbGVtZW50IHNpemVzXHJcbiAgICAgICAgdGhpcy5kb3RTaXplID0gdGhpcy4kZG90Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMub3V0bGluZVNpemUgPSB0aGlzLiRvdXRsaW5lLm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGVEb3RPdXRsaW5lKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldHVwRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gQW5jaG9yIGhvdmVyaW5nXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9jdXN0b20gaG92ZXJcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3Vyc29yJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENsaWNrIGV2ZW50c1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIGN1cnNvclxyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIHRoZSBkb3RcclxuICAgICAgICAgICAgc2VsZi5lbmRYID0gZS5wYWdlWDtcclxuICAgICAgICAgICAgc2VsZi5lbmRZID0gZS5wYWdlWTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRvcCA9IHNlbGYuZW5kWSArICdweCc7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5sZWZ0ID0gc2VsZi5lbmRYICsgJ3B4JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGlkZS9zaG93IGN1cnNvclxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGFuaW1hdGVEb3RPdXRsaW5lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuX3ggKz0gKHNlbGYuZW5kWCAtIHNlbGYuX3gpIC8gc2VsZi5kZWxheTtcclxuICAgICAgICBzZWxmLl95ICs9IChzZWxmLmVuZFkgLSBzZWxmLl95KSAvIHNlbGYuZGVsYXk7XHJcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50b3AgPSBzZWxmLl95ICsgJ3B4JztcclxuICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLmxlZnQgPSBzZWxmLl94ICsgJ3B4JztcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZURvdE91dGxpbmUuYmluZChzZWxmKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUN1cnNvclNpemU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yRW5sYXJnZWQpIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC43NSknO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMiknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpJztcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpJztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUN1cnNvclZpc2liaWxpdHk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY3Vyc29yLmluaXQoKTsiXX0=
