$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){$(window).width()<600&&($(this).hasClass("active")?($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")):($("body").addClass("header__overflow-hidden"),$("html").addClass("header__overflow-hidden"))),$(this).toggleClass("active"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),$(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden"))}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"),$("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")}),$(document).mouseup(function(e){var a=$(".header__menu"),_=$(".menu");a.is(e.target)||0!==a.has(e.target).length||_.is(e.target)||0!==_.has(e.target).length||($(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){if($(window).width()<=1200){var p=window.pageYOffset;$("body").css({top:-p+"px"}),$("body").addClass("overflow-hidden")}$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$("body").css({position:"static"}),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__text-1").text("Обсудить проект"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-1").text("Расскажите о себе"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-1").text("Забрать свою суперсилу"),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-1").text("Big represent"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-1").text("Sales promotion"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-1").text("Wow branding"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-1").text("Презентация"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(function(){function o(p){$.ajax({type:"POST",url:"sendMail.php",data:p,success:function(p){console.log(p),JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();return t?e?($(".popup__name,.popup__tel").removeClass("inputError"),void o({name:t,email:$(".popup__email").val()?$(".popup__email").val():"",tel:e,message:$(".popup__text").val()?$(".popup__text").val():""})):($(".popup__tel").attr("placeholder","Заполните это поле правильно!"),void $(".popup__tel").addClass("inputError")):($(".popup__name").attr("placeholder","Заполните это поле правильно!"),void $(".popup__name").addClass("inputError"))}),$(".contact__form_small").submit(function(p){p.preventDefault();var t=$(".contact__input").val();if(!t||""==t)return $(".contact__input").attr("placeholder","Заполните это поле правильно!"),void $(".contact__input").addClass("inputError");o(t),$(".contact__input").removeClass("inputError")})});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, «проводим экскурсию» по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
(new WOW).init();
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwicHJpY2UvcHJpY2UuanMiLCJzZW5kTWFpbC9zZW5kTWFpbC5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2NvbW1vbi5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ3aW5kb3ciLCJ3aWR0aCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRvZ2dsZUNsYXNzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaWQiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiZG9jdW1lbnQiLCJtb3VzZXVwIiwiY29udGFpbmVyIiwiY29udGFpbmVyTWVudSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwicG9wdXBTYW1lIiwib2Zmc2V0WSIsInBhZ2VZT2Zmc2V0IiwiY3NzIiwicG9zaXRpb24iLCJ0ZXh0IiwiaHRtbCIsInJlYWR5Iiwib3dsIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwib25Jbml0aWFsaXplZCIsImV2ZW50IiwiaXRlbSIsImNvdW50IiwiYXV0b1dpZHRoIiwic21hcnRTcGVlZCIsInRyaWdnZXIiLCJwcmV2RmxhZyIsIm9uIiwib3dsSXRlbXMiLCJpbmRleCIsImNhbGNJdGVtIiwiTWF0aCIsImZsb29yIiwiaG92ZXIiLCJmaW5kIiwiYWpheFNlbmRNYWlsIiwiZGF0YSIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJlcnJvciIsInN1Ym1pdCIsIm5hbWUiLCJ2YWwiLCJ0ZWwiLCJlbWFpbCIsIm1lc3NhZ2UiLCJwYXJhbGxheEl0IiwiJGZ3aW5kb3ciLCJkb2N1bWVudEVsZW1lbnQiLCIkY29udGVudHMiLCIkY29udGVudE9iaiIsIl9fc3BlZWQiLCJfX2ZnT2Zmc2V0IiwicHVzaCIsImZvckVhY2giLCJ5UG9zIiwib3dsV2F5IiwiV09XIiwiaW5pdCIsImN1cnNvciIsImRlbGF5IiwiX3giLCJfeSIsImVuZFgiLCJpbm5lcldpZHRoIiwiZW5kWSIsImlubmVySGVpZ2h0IiwiY3Vyc29yVmlzaWJsZSIsImN1cnNvckVubGFyZ2VkIiwiJGRvdCIsInF1ZXJ5U2VsZWN0b3IiLCIkb3V0bGluZSIsImRvdFNpemUiLCJvZmZzZXRXaWR0aCIsIm91dGxpbmVTaXplIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFuaW1hdGVEb3RPdXRsaW5lIiwic2VsZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDdXJzb3JTaXplIiwidG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSIsInBhZ2VYIiwicGFnZVkiLCJzdHlsZSIsImxlZnQiLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRyYW5zZm9ybSJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUUsbUJBQW1CQyxLQUFLLFdBQ3RCRCxFQUFFRSxNQUFNQyxNQUFNLFdBRVYsT0FEQUgsRUFBRSxhQUFhSSxRQUFRLENBQUVDLFVBQVcsR0FBSyxTQUNsQztBQ0RmTCxFQUFFLFNBQVNHLE1BQU0sV0FDVkgsRUFBRU0sUUFBUUMsUUFBVSxNQUNmUCxFQUFFRSxNQUFNTSxTQUFTLFdBSWpCUixFQUFFLFFBQVFTLFlBQVksMkJBQ3RCVCxFQUFFLFFBQVFTLFlBQVksNkJBSnRCVCxFQUFFLFFBQVFVLFNBQVMsMkJBQ25CVixFQUFFLFFBQVFVLFNBQVMsNkJBTTNCVixFQUFFRSxNQUFNUyxZQUFZLFVBQ3BCWCxFQUFFLGlCQUFpQlcsWUFBWSx1QkFDL0JYLEVBQUUsYUFBYVcsWUFBWSxlQUMzQlgsRUFBRSxpQkFBaUJXLFlBQVksUUFDL0JYLEVBQUUsaUJBQWlCVyxZQUFZLHlCQUduQ1gsRUFBRSxn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YyxNQUFNSyxVQUFZLG1DQUl4Q1IsdUJBQXdCLFdBQ3BCLElBQUlMLEVBQU9uRyxLQUVQbUcsRUFBS1YsZUFDTFUsRUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsSUFFOUJWLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLEtBSzFDNUIsT0FBT0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoJy5jb250YWN0X19hcnJvdycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICdzbG93Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbn0pOyIsIlxyXG4vLyBvcGVuIG1lbnVcclxuJCgnLm1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApe1xyXG4gICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdoZWFkZXJfX292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5oZWFkZXJfX21lbnUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1lbnUgZGl2JykudG9nZ2xlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWFpbl9fdGV4dC0yJykudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICQoJy5tYWluX19zb2NpYWwnKS50b2dnbGVDbGFzcygnbWFpbl9fc29jaWFsX2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbiQoJy5tZW51X2FjdGl2ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5oZWFkZXJfX21lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcclxuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vc21vb3RoIHNjcm9sbGluZyB0byBibG9ja1xyXG4kKCcuaGVhZGVyX190ZXh0LTEnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJChpZCkub2Zmc2V0KCkudG9wfSwgMTAwMCk7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxufSk7XHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgbWVudVxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5oZWFkZXJfX21lbnUnKTtcclxuICAgIHZhciBjb250YWluZXJNZW51ID0gJCgnLm1lbnUnKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXHJcbiAgICAgICAgKCFjb250YWluZXJNZW51LmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXJNZW51LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSApIHtcclxuICAgICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1lbnUgZGl2JykucmVtb3ZlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIiIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgJCgnYm9keScpLmNzcyh7XHJcbiAgICAgICAgJ3Bvc2l0aW9uJzogJ3N0YXRpYydcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxuXHJcbn0pO1xyXG5cclxuJCgnLm1haW5fX3RleHQtNywgLndheV9fdGV4dC01LC5tYWluX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0J7QsdGB0YPQtNC40YLRjCDQv9GA0L7QtdC60YInKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS5odG1sKFxyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCI+0J7RgdGC0LDQstGM0YLQtSDQtNCw0L3QvdGL0LUg0LTQu9GPINGB0LLRj9C30LgsPC9zcGFuPlxcbicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCI+0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC08L3NwYW4+XFxuJyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIiA+0L3QsNC/0LjRiNC10Lwg0LIg0LzQtdGB0YHQtdC00LbQtdGAINC40LvQuCDQv9C10YDQtdC30LLQvtC90LjQvC48L3NwYW4+J1xyXG4gICAgKTtcclxufSk7XHJcblxyXG4kKCcubWFpbl9fdGV4dC0yJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cy0L7QvdC+0Log0LIg0YHQstC10YLQu9C+0LUg0LHRg9C00YPRidC10LUg0LLQsNGI0LXQuSDQutC+0LzQv9Cw0L3QuNC4IC0g0L/QuNGI0LjRgtC1LCDQvNGLINC90LAg0LvQuNC90LjQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLmFib3V0X190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INGB0LXQsdC1Jyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INC00LXQu9C1LCDQutC+0YLQvtGA0L7QtSDQstC00L7RhdC90L7QstC70Y/QtdGCINCy0LDRgSDQv9GA0L7RgdGL0L/QsNGC0YzRgdGPINC/0L4g0YPRgtGA0LDQvCwg0L4g0L/Qu9Cw0L3QsNGFINC4INC80LXRh9GC0LDRhSDQvdCwINCx0YPQtNGD0YnQtdC1LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcubGFuZGluZy1wb3dlcl9fdGV4dC02JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQl9Cw0LHRgNCw0YLRjCDRgdCy0L7RjiDRgdGD0L/QtdGA0YHQuNC70YMnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JLRgNC10LzRjyDQv9C+0YHRgtC40YfRjCDQtNC30LXQvSDQuCDQv9GA0LXQt9C10L3RgtC+0LLQsNGC0Ywg0LzQuNGA0YMg0YHQstC+0Lkg0LHQuNC30L3QtdGBLicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYmlnX19yZXByZXNlbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ0JpZyByZXByZXNlbnQnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KLRg9GCINC90LDRh9C40L3QsNC10YLRgdGPINC/0YPRgtGMINC6INC/0YDQuNC30L3QsNC90LjRjiDQuCDRg9C30L3QsNCy0LDQtdC80L7RgdGC0LguJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5zYWxlc19wcm9tb3Rpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ1NhbGVzIHByb21vdGlvbicpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQp9C10YHRgtC90YvQuSDQv9GD0YLRjCDQuiDRgdC+0LrRgNC+0LLQuNGJ0LDQvCDQuCDQvNC40LvQu9C40L7QvdCw0LwuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy53b3dfYnJhbmRpbmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ1dvdyBicmFuZGluZycpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGLINC90LDRiNC70Lgg0LHQvtC80LHQuNGH0LXRgdC60LjQuSDQvtCz0L7QvdGMINC00LvRjyDQsNCx0YHQvtC70Y7RgtC90L7QuSDQstC70LDRgdGC0Lgg0L3QsNC0INC80LjRgNC+0LwuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5pbmxpbmVfX3RleHQtMiwuaW5saW5lX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Cf0YDQtdC30LXQvdGC0LDRhtC40Y8nKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JfQsNC/0L7Qu9C90LjRgtC1INGE0L7RgNC80YMgLSDQvtGC0L/RgNCw0LLQuNC8INCy0LDQvCDQv9GA0LXQt9C10L3RgtCw0YbQuNGOINC4INC/0L7QvNC+0LbQtdC8INGBINC/0LvQsNC90L7QvCDRgNCw0LfQstC40YLQuNC4INC60L7QvNC/0LDQvdC40LguJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHBvcHVwU2FtZSgpIHtcclxuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDEyMDApe1xyXG4gICAgICAgIHZhciBvZmZzZXRZID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xyXG4gICAgICAgICQoJ2JvZHknKS5jc3Moe1xyXG4gICAgICAgICAgICAndG9wJzogLW9mZnNldFkgKyAncHgnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgIH1cclxuICAgICQoJy5wb3B1cF9fZm9ybScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbn1cclxuXHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgcG9wdXBcclxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcucG9wdXAnKTtcclxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIgbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcbiAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgb3dsID0gJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKTtcclxuICAgIG93bC5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXHJcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDo3NTBcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG93bEluaXQoZXZlbnQpIHtcclxuICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkgeyAgIG93bC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpOyAgICB9KTtcclxuICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmNsaWNrKGZ1bmN0aW9uKCkgeyAgIG93bC50cmlnZ2VyKCdwcmV2Lm93bC5jYXJvdXNlbCcpOyAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJldkZsYWcgPSB0cnVlO1xyXG5cclxuICAgIC8vbWFnaWMgZm9yIG93bCBjYXJvdXNlbCBzdGFydCB3b3JrXHJcbiAgICBvd2wub24oJ3ByZXYub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBwcmV2RmxhZyA9IHRydWVcclxuICAgIH0pO1xyXG4gICAgb3dsLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcclxuICAgICAgICB2YXIgaXRlbSAgICAgID0gZXZlbnQuaXRlbS5pbmRleDsgICAvLyBPd2wgcmVwb3J0ZWQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaW5jb25zaXN0ZW50IGFuZCBpbmFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBjYWxjSXRlbSAgPSBNYXRoLmZsb29yKGl0ZW0gLSAob3dsSXRlbXMgLyAyKSArIDEpOyAvLyBzbGlnaHRseSBtb3JlIGxvZ2ljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaWYgbm90IGZyb20gcHJldmlvdXMgY2xpY2spXHJcblxyXG4gICAgICAgIC8vIGlmIGZyb20gcHJldmlvdXMgY2xpY2tcclxuICAgICAgICBpZihwcmV2RmxhZykge1xyXG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcclxuICAgICAgICAgICAgICAgIGNhbGNJdGVtID0gb3dsSXRlbXM7IC8vIHNvbHZlIHRoYXQgcHJvYmxlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdmFsdWVzIHRoYXQgZmFsbCBvdXRzaWRlIG9mIGxvZ2ljYWwgbWluL21heCBib3VuZHNcclxuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xyXG4gICAgICAgICAgICBjYWxjSXRlbSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByZXZGbGFnID0gZmFsc2U7XHJcblxyXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xyXG4gICAgfSlcclxufSk7IiwiJCgnLnByaWNlX19jYXJkJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnByaWNlX19jYXJkLCAucHJpY2VfX2ltZyAnKS5yZW1vdmVDbGFzcygnb3BhY2l0eS0xJyk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQoJy5wcmljZV9faW1nLWl0ZW0nKS5yZW1vdmVDbGFzcygncHJpY2VfX2ltZy1pdGVtX2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcucHJpY2VfX2ltZycpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQodGhpcykuZmluZCgnLnByaWNlX19pbWctaXRlbScpLmFkZENsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XHJcbn0pOyIsIiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5wb3B1cF9fZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIG5hbWUgPSAkKFwiLnBvcHVwX19uYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLnBvcHVwX190ZWxcIikudmFsKCk7XHJcblxyXG4gICAgICAgIGlmKCFuYW1lKXtcclxuICAgICAgICAgICAgJCgnLnBvcHVwX19uYW1lJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSDQv9GA0LDQstC40LvRjNC90L4hXCIpO1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX25hbWUnKS5hZGRDbGFzcygnaW5wdXRFcnJvcicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKCF0ZWwpe1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX3RlbCcpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUg0L/RgNCw0LLQuNC70YzQvdC+IVwiKTtcclxuICAgICAgICAgICAgJCgnLnBvcHVwX190ZWwnKS5hZGRDbGFzcygnaW5wdXRFcnJvcicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcucG9wdXBfX25hbWUsLnBvcHVwX190ZWwnKS5yZW1vdmVDbGFzcygnaW5wdXRFcnJvcicpO1xyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6ICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpID8gICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpIDogJycsXHJcbiAgICAgICAgICAgIHRlbDogdGVsLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAkKFwiLnBvcHVwX190ZXh0XCIpLnZhbCgpID8gICQoXCIucG9wdXBfX3RleHRcIikudmFsKCkgOiAnJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFqYXhTZW5kTWFpbChkYXRhKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCIuY29udGFjdF9fZm9ybV9zbWFsbFwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHRlbCA9ICQoJy5jb250YWN0X19pbnB1dCcpLnZhbCgpO1xyXG4gICAgICAgIGlmKHRlbCAmJiB0ZWwgIT0gJycpe1xyXG4gICAgICAgICAgICBhamF4U2VuZE1haWwodGVsKTtcclxuICAgICAgICAgICAgJCgnLmNvbnRhY3RfX2lucHV0JykucmVtb3ZlQ2xhc3MoJ2lucHV0RXJyb3InKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgJCgnLmNvbnRhY3RfX2lucHV0JykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSDQv9GA0LDQstC40LvRjNC90L4hXCIpO1xyXG4gICAgICAgICAgICAkKCcuY29udGFjdF9faW5wdXQnKS5hZGRDbGFzcygnaW5wdXRFcnJvcicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFqYXhTZW5kTWFpbChkYXRhKXtcclxuICAgICAgICAvLyB2YXIgZGF0YUpzb24gPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcInNlbmRNYWlsLnBocFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5zdyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZighYW5zdy5lcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQl9Cw0Y/QstC60LAg0L/RgNC40L3Rj9GC0LAhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCcnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Ce0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAn0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC1cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9C90LDQv9C40YjQtdC8INCyINC80LXRgdGB0LXQtNC20LXRgCDQuNC70Lgg0L/QtdGA0LXQt9Cy0L7QvdC40LwuJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Ci0LXRhS4g0L7RiNC40LHQutCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0J/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtCy0YLQvtGA0LjRgtGMINGH0LXRgNC10Lcg0L3QtdC60L7RgtC+0YDQvtC1INCy0YDQtdC80Y8uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKCcucG9wdXBfX2Zvcm0nKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0pOyIsIi8vIG1ha2VzIHRoZSBwYXJhbGxheCBlbGVtZW50c1xyXG5mdW5jdGlvbiBwYXJhbGxheEl0KCkge1xyXG4gICAgLy8gY3JlYXRlIHZhcmlhYmxlc1xyXG4gICAgdmFyICRmd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgdmFyICRjb250ZW50cyA9IFtdO1xyXG4gICAgdmFyICRiYWNrZ3JvdW5kcyA9IFtdO1xyXG5cclxuICAgIC8vIGZvciBlYWNoIG9mIGNvbnRlbnQgcGFyYWxsYXggZWxlbWVudFxyXG4gICAgJCgnW2RhdGEtdHlwZT1cImNvbnRlbnRcIl0nKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlKSB7XHJcbiAgICAgICAgdmFyICRjb250ZW50T2JqID0gJCh0aGlzKTtcclxuICAgICAgICAkY29udGVudE9iai5fX3NwZWVkID0gMjtcclxuICAgICAgICAkY29udGVudE9iai5fX2ZnT2Zmc2V0ID0gJGNvbnRlbnRPYmoub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgICRjb250ZW50cy5wdXNoKCRjb250ZW50T2JqKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbnNcclxuICAgICRmd2luZG93Lm9uKCdzY3JvbGwgcmVzaXplJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgJGNvbnRlbnRzLmZvckVhY2goZnVuY3Rpb24oJGNvbnRlbnRPYmopIHtcclxuICAgICAgICAgICAgdmFyIHlQb3MgPSAkY29udGVudE9iai5fX2ZnT2Zmc2V0IC0gc2Nyb2xsVG9wIC8gJGNvbnRlbnRPYmouX19zcGVlZDtcclxuICAgICAgICAgICAgJGNvbnRlbnRPYmouY3NzKCd0b3AnLCB5UG9zICsgOTAwKTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8gdHJpZ2dlcnMgd2lub2R3IHNjcm9sbCBmb3IgcmVmcmVzaFxyXG4gICAgJGZ3aW5kb3cudHJpZ2dlcignc2Nyb2xsJyk7XHJcbn07XHJcblxyXG5wYXJhbGxheEl0KCk7XHJcblxyXG4vLyDQtNGD0LzQsNC7INC/0YDQuNCy0Y/Qt9Cw0YLRjNGB0Y8g0Log0LjQvdC00LXQutGB0YMg0LjQu9C4INC6IGlkLCDRgNC10YjQuNC7INC6INC/0L7RgNGP0LTQutGDLCDQvdC1INGD0LLQtdGA0LXQvSwg0YfRgtC+INGN0YLQviDQv9GA0LDQstC40LvRjNC90L5cclxuJCgnLndheV9fdGV4dC0yJykuaG92ZXIoZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmKCQod2luZG93KS53aWR0aCgpID4gNjAwKXtcclxuICAgICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XHJcbiAgICAgICAgJCgnLndheV9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ3doaXRlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnd2hpdGUnKTtcclxuICAgICAgICBpZihpbmRleCA9PSAwKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0JjQt9GD0YfQsNC10Lwg0LrQvtC80L/QsNC90LjRjiDQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyLCDQvdCw0YXQvtC00LjQvCDQv9GA0LXQuNC80YPRidC10YHRgtCy0LAsINC30LDQutGA0YvQstCw0LXQvCDQstC+0LfRgNCw0LbQtdC90LjRjywg0L3QuNCy0LXQu9C40YDRg9C10Lwg0YHRgtGA0LDRhdC4LCDRgdC+0LfQtNCw0LXQvCDRgdC40LvRjNC90L7QtSDQv9GA0LXQtNC70L7QttC10L3QuNC1LicpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzEucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDEpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQn9GA0L7QstC+0LTQuNC8IGJyYWluIHN0b3JtOiDQv9GA0L7QtNGD0LzRi9Cy0LDQtdC8INGB0YLRgNGD0LrRgtGD0YDRgywg0LHQu9C+0LrQuCwg0YXQsNGA0LDQutGC0LXRgCDQuCDRgdGC0LjQu9GMINC40YHRhdC+0LTRjyDQuNC3INC30LDQtNCw0Ycg0LHQuNC30L3QtdGB0LAuJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMi5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMil7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0L/RgNCw0LLQu9GP0LXQvCDQstC90LjQvNCw0L3QuNC10LwsINGB0L7Qt9C00LDRkdC8INC40L3RgtC10YDQtdGBINC6INGD0YHQu9GD0LPQtS/Qv9GA0L7QtNGD0LrRgtGDINCyINGD0LTQvtCx0L3QvtC5INC90LDQstC40LPQsNGG0LjQuCDQuCDRgdGC0LjQu9GM0L3QvtC8INC00LjQt9Cw0LnQvdC1Jyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMy5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMyl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Ch0L7Qt9C00LDRkdC8INGN0YTRhNC10LrRgiDQv9GA0LjRgdGD0YLRgdGC0LLQuNGPLCDCq9C/0YDQvtCy0L7QtNC40Lwg0Y3QutGB0LrRg9GA0YHQuNGOwrsg0L/QviDRgdCw0LnRgtGDLCDQstGL0LLQvtC00LjQvCDRhNC+0LrRg9GBINC90LAg0YbQtdC70LXQstGL0LUg0LTQtdC50YHRgtCy0LjRjy4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X180LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSA0KXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/QvtC00LHQuNGA0LDQtdC8INGG0LXQu9C10LLRi9C1INC00LvRjyDQvdC40YjQuCDRgNC10LrQu9Cw0LzQvdGL0LUg0L/Qu9C+0YnQsNC00LggKFBQQywgc21tKSDQv9C+0LzQvtCz0LDQtdC8INC+0YLQsdC40YLRjCDQt9Cw0YLRgNCw0YLRiyDQvdCwINGA0LXQutC70LDQvNGDINC4INCy0YvQudGC0Lgg0LIg0L/RgNC40LHRi9C70YwnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X181LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSA1KXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQutGA0LXQv9C70Y/QtdC8INC40LzQuNC00LYg0LHRgNC10L3QtNCwLCDRgdC+0LHQuNGA0LDQtdC8INC4INC+0L/RgtC40LzQuNC30LjRgNGD0LXQvCDRgNC10LfRg9C70YzRgtCw0YLRiycpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzYucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgdmFyIG93bFdheSA9ICQoJy53YXlfX3NsaWRlcicpO1xyXG4gICAgb3dsV2F5Lm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBzbWFydFNwZWVkOjc1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xyXG4gICAgICAgICQoJy53YXlfX3RleHQtN190b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLndheV9fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsV2F5LnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcud2F5X19hcnJvdy1saW5rX2wnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBvd2xXYXkudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XHJcblxyXG4gICAgLy9tYWdpYyBmb3Igb3dsIGNhcm91c2VsIHN0YXJ0IHdvcmtcclxuICAgIG93bFdheS5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHByZXZGbGFnID0gdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBvd2xXYXkub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgb3dsSXRlbXMgID0gZXZlbnQuaXRlbS5jb3VudDsgICAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgKGNvbnNpc3RlbnQgYW5kIGFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBpdGVtICAgICAgPSBldmVudC5pdGVtLmluZGV4OyAgIC8vIE93bCByZXBvcnRlZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpbmNvbnNpc3RlbnQgYW5kIGluYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcclxuXHJcbiAgICAgICAgLy8gaWYgZnJvbSBwcmV2aW91cyBjbGlja1xyXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxjSXRlbSA9PT0gMCkgeyAgLy8gcmVwb3J0cyAwIGluc3RlYWQgb2YgbGFzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgY2FsY0l0ZW0gPSBvd2xJdGVtczsgLy8gc29sdmUgdGhhdCBwcm9ibGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xyXG4gICAgICAgIGlmKHByZXZGbGFnID09PSBmYWxzZSAmJiBjYWxjSXRlbSA9PT0gMCB8fCBjYWxjSXRlbSA+IG93bEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNhbGNJdGVtID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZGbGFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgJCgnLndheV9fdGV4dC03X2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XHJcblxyXG4gICAgfSlcclxufSk7IiwibmV3IFdPVygpLmluaXQoKTsiLCJ2YXIgY3Vyc29yID0ge1xyXG4gICAgZGVsYXk6IDgsXHJcbiAgICBfeDogMCxcclxuICAgIF95OiAwLFxyXG4gICAgZW5kWDogKHdpbmRvdy5pbm5lcldpZHRoIC8gMiksXHJcbiAgICBlbmRZOiAod2luZG93LmlubmVySGVpZ2h0IC8gMiksXHJcbiAgICBjdXJzb3JWaXNpYmxlOiB0cnVlLFxyXG4gICAgY3Vyc29yRW5sYXJnZWQ6IGZhbHNlLFxyXG4gICAgJGRvdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvci1kb3QnKSxcclxuICAgICRvdXRsaW5lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdC1vdXRsaW5lJyksXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gU2V0IHVwIGVsZW1lbnQgc2l6ZXNcclxuICAgICAgICB0aGlzLmRvdFNpemUgPSB0aGlzLiRkb3Qub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdGhpcy5vdXRsaW5lU2l6ZSA9IHRoaXMuJG91dGxpbmUub2Zmc2V0V2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZURvdE91dGxpbmUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0dXBFdmVudExpc3RlbmVyczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBBbmNob3IgaG92ZXJpbmdcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2N1c3RvbSBob3ZlclxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3InKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2xpY2sgZXZlbnRzXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgY3Vyc29yXHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gUG9zaXRpb24gdGhlIGRvdFxyXG4gICAgICAgICAgICBzZWxmLmVuZFggPSBlLnBhZ2VYO1xyXG4gICAgICAgICAgICBzZWxmLmVuZFkgPSBlLnBhZ2VZO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudG9wID0gc2VsZi5lbmRZICsgJ3B4JztcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLmxlZnQgPSBzZWxmLmVuZFggKyAncHgnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIaWRlL3Nob3cgY3Vyc29yXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgYW5pbWF0ZURvdE91dGxpbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5feCArPSAoc2VsZi5lbmRYIC0gc2VsZi5feCkgLyBzZWxmLmRlbGF5O1xyXG4gICAgICAgIHNlbGYuX3kgKz0gKHNlbGYuZW5kWSAtIHNlbGYuX3kpIC8gc2VsZi5kZWxheTtcclxuICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRvcCA9IHNlbGYuX3kgKyAncHgnO1xyXG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUubGVmdCA9IHNlbGYuX3ggKyAncHgnO1xyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlRG90T3V0bGluZS5iaW5kKHNlbGYpKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlQ3Vyc29yU2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5jdXJzb3JFbmxhcmdlZCkge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgwLjc1KSc7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgyKSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5jdXJzb3JWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jdXJzb3IuaW5pdCgpOyJdfQ==
