$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){console.log($("body").hasClass("overflow-hidden")),$(this).hasClass("active")?($("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden")):($("body").addClass("overflow-hidden"),$("html").addClass("overflow-hidden")),$(this).toggleClass("active"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),$("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden")}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),s=$(".menu");a.is(e.target)||0!==a.has(e.target).length||s.is(e.target)||0!==s.has(e.target).length||($("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=1200&&($("body").addClass("overflow-hidden"),$("html").addClass("overflow-hidden")),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__text-1").text("Обсудить проект"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-1").text("Расскажите о себе"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-1").text("Забрать свою суперсилу"),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-1").text("Big represent"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-1").text("Sales promotion"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-1").text("Wow branding"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-1").text("Презентация"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(function(){$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();t||""==t||$(".popup__name").attr("placeholder","Заполните это поле!"),e||""==e||$(".popup__tel").attr("placeholder","Заполните это поле!");var a={name:t,email:$(".popup__email").val(),tel:e,message:$(".popup__email").val()};console.log(a),$.ajax({type:"POST",url:"sendMail.php",data:a,success:function(p){JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}),$(".contact__form_small").submit(function(p){var t=$(".contact__input ").val();t||""==t||$(".contact__input ").attr("placeholder","Заполните это поле!")})});
(new WOW).init();
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwicHJpY2UvcHJpY2UuanMiLCJzZW5kTWFpbC9zZW5kTWFpbC5qcyIsIl9jb21tb24vY29tbW9uLmpzIiwid2F5L3dheS5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJjb25zb2xlIiwibG9nIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwidG9nZ2xlQ2xhc3MiLCJlIiwicHJldmVudERlZmF1bHQiLCJpZCIsImF0dHIiLCJvZmZzZXQiLCJ0b3AiLCJkb2N1bWVudCIsIm1vdXNldXAiLCJjb250YWluZXIiLCJjb250YWluZXJNZW51IiwiaXMiLCJ0YXJnZXQiLCJoYXMiLCJsZW5ndGgiLCJwb3B1cFNhbWUiLCJ3aW5kb3ciLCJ3aWR0aCIsInRleHQiLCJodG1sIiwicmVhZHkiLCJvd2wiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJvbkluaXRpYWxpemVkIiwiZXZlbnQiLCJpdGVtIiwiY291bnQiLCJhdXRvV2lkdGgiLCJzbWFydFNwZWVkIiwidHJpZ2dlciIsInByZXZGbGFnIiwib24iLCJvd2xJdGVtcyIsImluZGV4IiwiY2FsY0l0ZW0iLCJNYXRoIiwiZmxvb3IiLCJob3ZlciIsImZpbmQiLCJzdWJtaXQiLCJuYW1lIiwidmFsIiwidGVsIiwiZGF0YSIsImVtYWlsIiwibWVzc2FnZSIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiV09XIiwiaW5pdCIsInBhcmFsbGF4SXQiLCIkZndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50IiwiJGNvbnRlbnRzIiwiJGNvbnRlbnRPYmoiLCJfX3NwZWVkIiwiX19mZ09mZnNldCIsInB1c2giLCJmb3JFYWNoIiwieVBvcyIsImNzcyIsIm93bFdheSIsImN1cnNvciIsImRlbGF5IiwiX3giLCJfeSIsImVuZFgiLCJpbm5lcldpZHRoIiwiZW5kWSIsImlubmVySGVpZ2h0IiwiY3Vyc29yVmlzaWJsZSIsImN1cnNvckVubGFyZ2VkIiwiJGRvdCIsInF1ZXJ5U2VsZWN0b3IiLCIkb3V0bGluZSIsImRvdFNpemUiLCJvZmZzZXRXaWR0aCIsIm91dGxpbmVTaXplIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFuaW1hdGVEb3RPdXRsaW5lIiwic2VsZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDdXJzb3JTaXplIiwidG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSIsInBhZ2VYIiwicGFnZVkiLCJzdHlsZSIsImxlZnQiLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRyYW5zZm9ybSJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUUsbUJBQW1CQyxLQUFLLFdBQ3RCRCxFQUFFRSxNQUFNQyxNQUFNLFdBRVYsT0FEQUgsRUFBRSxhQUFhSSxRQUFRLENBQUVDLFVBQVcsR0FBSyxTQUNsQztBQ0RmTCxFQUFFLFNBQVNHLE1BQU0sV0FDYkcsUUFBUUMsSUFBSVAsRUFBRSxRQUFRUSxTQUFTLG9CQUMzQlIsRUFBRUUsTUFBTU0sU0FBUyxXQUlqQlIsRUFBRSxRQUFRUyxZQUFZLG1CQUN0QlQsRUFBRSxRQUFRUyxZQUFZLHFCQUp0QlQsRUFBRSxRQUFRVSxTQUFTLG1CQUNuQlYsRUFBRSxRQUFRVSxTQUFTLG9CQUt2QlYsRUFBRUUsTUFBTVMsWUFBWSxVQUNwQlgsRUFBRSxpQkFBaUJXLFlBQVksdUJBQy9CWCxFQUFFLGFBQWFXLFlBQVksZUFDM0JYLEVBQUUsaUJBQWlCVyxZQUFZLFFBQy9CWCxFQUFFLGlCQUFpQlcsWUFBWSx5QkFHbkNYLEVBQUUsZ0JBQWdCRyxNQUFNLFdBQ3BCSCxFQUFF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QkFBaUIsYUFBYyxTQUFTekYsR0FDN0NzRixFQUFLVixlQUFnQixFQUNyQlUsRUFBS0sseUJBQ0xMLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLEtBSXRDWCxrQkFBbUIsV0FDZixJQUFJQyxFQUFPaEcsS0FFWGdHLEVBQUtoQixLQUFPZ0IsRUFBS2QsS0FBT2MsRUFBS2hCLElBQU1nQixFQUFLakIsTUFDeENpQixFQUFLZixLQUFPZSxFQUFLWixLQUFPWSxFQUFLZixJQUFNZSxFQUFLakIsTUFDeENpQixFQUFLTixTQUFTYyxNQUFNekYsSUFBTWlGLEVBQUtmLEdBQUssS0FDcENlLEVBQUtOLFNBQVNjLE1BQU1DLEtBQU9ULEVBQUtoQixHQUFLLEtBRXJDMkIsc0JBQXNCM0csS0FBSytGLGtCQUFrQmEsS0FBS1osS0FHdERJLGlCQUFrQixXQUNkLElBQUlKLEVBQU9oRyxLQUVQZ0csRUFBS1QsZ0JBQ0xTLEVBQUtSLEtBQUtnQixNQUFNSyxVQUFZLG9DQUM1QmIsRUFBS04sU0FBU2MsTUFBTUssVUFBWSxtQ0FFaENiLEVBQUtSLEtBQUtnQixNQUFNSyxVQUFZLGlDQUM1QmIsRUFBS04sU0FBU2MsTUFBTUssVUFBWSxtQ0FJeENSLHVCQUF3QixXQUNwQixJQUFJTCxFQUFPaEcsS0FFUGdHLEVBQUtWLGVBQ0xVLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLElBRTlCVixFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxLQUsxQzVCLE9BQU9kIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKCcuY29udGFjdF9fYXJyb3cnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAkKHRoaXMpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAnc2xvdycpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59KTsiLCJcclxuLy8gb3BlbiBtZW51XHJcbiQoJy5tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIGNvbnNvbGUubG9nKCQoXCJib2R5XCIpLmhhc0NsYXNzKFwib3ZlcmZsb3ctaGlkZGVuXCIpKTtcclxuICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnRvZ2dsZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnRvZ2dsZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykudG9nZ2xlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKCcubWVudV9hY3RpdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG59KTtcclxuXHJcbi8vc21vb3RoIHNjcm9sbGluZyB0byBibG9ja1xyXG4kKCcuaGVhZGVyX190ZXh0LTEnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJChpZCkub2Zmc2V0KCkudG9wfSwgMTAwMCk7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxufSk7XHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgbWVudVxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5oZWFkZXJfX21lbnUnKTtcclxuICAgIHZhciBjb250YWluZXJNZW51ID0gJCgnLm1lbnUnKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXHJcbiAgICAgICAgKCFjb250YWluZXJNZW51LmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXJNZW51LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSApIHtcclxuXHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICQoJy5oZWFkZXJfX21lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5tYWluX190ZXh0LTInKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICQoJy5tYWluX19zb2NpYWwnKS5yZW1vdmVDbGFzcygnbWFpbl9fc29jaWFsX2FjdGl2ZScpO1xyXG4gICAgfVxyXG59KTsiLCIiLCIkKCcucG9wdXBfX21lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJCgnLm1haW5fX3RleHQtNywgLndheV9fdGV4dC01LC5tYWluX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0J7QsdGB0YPQtNC40YLRjCDQv9GA0L7QtdC60YInKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS5odG1sKFxyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCI+0J7RgdGC0LDQstGM0YLQtSDQtNCw0L3QvdGL0LUg0LTQu9GPINGB0LLRj9C30LgsPC9zcGFuPlxcbicgK1xyXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCI+0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC08L3NwYW4+XFxuJyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIiA+0L3QsNC/0LjRiNC10Lwg0LIg0LzQtdGB0YHQtdC00LbQtdGAINC40LvQuCDQv9C10YDQtdC30LLQvtC90LjQvC48L3NwYW4+J1xyXG4gICAgKTtcclxufSk7XHJcblxyXG4kKCcubWFpbl9fdGV4dC0yJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cy0L7QvdC+0Log0LIg0YHQstC10YLQu9C+0LUg0LHRg9C00YPRidC10LUg0LLQsNGI0LXQuSDQutC+0LzQv9Cw0L3QuNC4IC0g0L/QuNGI0LjRgtC1LCDQvNGLINC90LAg0LvQuNC90LjQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLmFib3V0X190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INGB0LXQsdC1Jyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cg0LDRgdGB0LrQsNC20LjRgtC1INC+INC00LXQu9C1LCDQutC+0YLQvtGA0L7QtSDQstC00L7RhdC90L7QstC70Y/QtdGCINCy0LDRgSDQv9GA0L7RgdGL0L/QsNGC0YzRgdGPINC/0L4g0YPRgtGA0LDQvCwg0L4g0L/Qu9Cw0L3QsNGFINC4INC80LXRh9GC0LDRhSDQvdCwINCx0YPQtNGD0YnQtdC1LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcubGFuZGluZy1wb3dlcl9fdGV4dC02JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQl9Cw0LHRgNCw0YLRjCDRgdCy0L7RjiDRgdGD0L/QtdGA0YHQuNC70YMnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JLRgNC10LzRjyDQv9C+0YHRgtC40YfRjCDQtNC30LXQvSDQuCDQv9GA0LXQt9C10L3RgtC+0LLQsNGC0Ywg0LzQuNGA0YMg0YHQstC+0Lkg0LHQuNC30L3QtdGBLicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYmlnX19yZXByZXNlbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ0JpZyByZXByZXNlbnQnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KLRg9GCINC90LDRh9C40L3QsNC10YLRgdGPINC/0YPRgtGMINC6INC/0YDQuNC30L3QsNC90LjRjiDQuCDRg9C30L3QsNCy0LDQtdC80L7RgdGC0LguJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5zYWxlc19wcm9tb3Rpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ1NhbGVzIHByb21vdGlvbicpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQp9C10YHRgtC90YvQuSDQv9GD0YLRjCDQuiDRgdC+0LrRgNC+0LLQuNGJ0LDQvCDQuCDQvNC40LvQu9C40L7QvdCw0LwuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy53b3dfYnJhbmRpbmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ1dvdyBicmFuZGluZycpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGLINC90LDRiNC70Lgg0LHQvtC80LHQuNGH0LXRgdC60LjQuSDQvtCz0L7QvdGMINC00LvRjyDQsNCx0YHQvtC70Y7RgtC90L7QuSDQstC70LDRgdGC0Lgg0L3QsNC0INC80LjRgNC+0LwuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5pbmxpbmVfX3RleHQtMiwuaW5saW5lX19idXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Cf0YDQtdC30LXQvdGC0LDRhtC40Y8nKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JfQsNC/0L7Qu9C90LjRgtC1INGE0L7RgNC80YMgLSDQvtGC0L/RgNCw0LLQuNC8INCy0LDQvCDQv9GA0LXQt9C10L3RgtCw0YbQuNGOINC4INC/0L7QvNC+0LbQtdC8INGBINC/0LvQsNC90L7QvCDRgNCw0LfQstC40YLQuNC4INC60L7QvNC/0LDQvdC40LguJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHBvcHVwU2FtZSgpIHtcclxuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDEyMDApe1xyXG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgIH1cclxuICAgICQoJy5wb3B1cF9fZm9ybScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbn1cclxuXHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgcG9wdXBcclxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcucG9wdXAnKTtcclxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIgbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcbiAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxuICAgIH1cclxufSk7IiwiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2wgPSAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpO1xyXG4gICAgb3dsLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBzbWFydFNwZWVkOjc1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xyXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7ICAgb3dsLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7ICAgIH0pO1xyXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24oKSB7ICAgb3dsLnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7ICAgIH0pO1xyXG5cclxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XHJcblxyXG4gICAgLy9tYWdpYyBmb3Igb3dsIGNhcm91c2VsIHN0YXJ0IHdvcmtcclxuICAgIG93bC5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHByZXZGbGFnID0gdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBvd2wub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgb3dsSXRlbXMgID0gZXZlbnQuaXRlbS5jb3VudDsgICAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgKGNvbnNpc3RlbnQgYW5kIGFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBpdGVtICAgICAgPSBldmVudC5pdGVtLmluZGV4OyAgIC8vIE93bCByZXBvcnRlZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpbmNvbnNpc3RlbnQgYW5kIGluYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcclxuXHJcbiAgICAgICAgLy8gaWYgZnJvbSBwcmV2aW91cyBjbGlja1xyXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxjSXRlbSA9PT0gMCkgeyAgLy8gcmVwb3J0cyAwIGluc3RlYWQgb2YgbGFzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgY2FsY0l0ZW0gPSBvd2xJdGVtczsgLy8gc29sdmUgdGhhdCBwcm9ibGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xyXG4gICAgICAgIGlmKHByZXZGbGFnID09PSBmYWxzZSAmJiBjYWxjSXRlbSA9PT0gMCB8fCBjYWxjSXRlbSA+IG93bEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNhbGNJdGVtID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJldkZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XHJcbiAgICB9KVxyXG59KTsiLCIkKCcucHJpY2VfX2NhcmQnKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcucHJpY2VfX2NhcmQsIC5wcmljZV9faW1nICcpLnJlbW92ZUNsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQodGhpcykuYWRkQ2xhc3MoJ29wYWNpdHktMScpO1xyXG4gICAgJCgnLnByaWNlX19pbWctaXRlbScpLnJlbW92ZUNsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nJykuYWRkQ2xhc3MoJ29wYWNpdHktMScpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcucHJpY2VfX2ltZy1pdGVtJykuYWRkQ2xhc3MoJ3ByaWNlX19pbWctaXRlbV9hY3RpdmUnKTtcclxufSk7IiwiJChmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLnBvcHVwX19mb3JtXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgbmFtZSA9ICQoXCIucG9wdXBfX25hbWVcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRlbCA9ICQoXCIucG9wdXBfX3RlbFwiKS52YWwoKTtcclxuICAgICAgICBpZighbmFtZSAmJiBuYW1lICE9ICcnICl7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fbmFtZScpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUhXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGVsICYmIHRlbCAhPSAnJyl7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fdGVsJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6ICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpLFxyXG4gICAgICAgICAgICB0ZWw6IHRlbCxcclxuICAgICAgICAgICAgbWVzc2FnZTogJChcIi5wb3B1cF9fZW1haWxcIikudmFsKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICB1cmw6IFwic2VuZE1haWwucGhwXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5zdyA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZighYW5zdy5lcnJvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQl9Cw0Y/QstC60LAg0L/RgNC40L3Rj9GC0LAhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCcnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Ce0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LFxcbicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAn0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC1cXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9C90LDQv9C40YjQtdC8INCyINC80LXRgdGB0LXQtNC20LXRgCDQuNC70Lgg0L/QtdGA0LXQt9Cy0L7QvdC40LwuJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Ci0LXRhS4g0L7RiNC40LHQutCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0J/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtCy0YLQvtGA0LjRgtGMINGH0LXRgNC10Lcg0L3QtdC60L7RgtC+0YDQvtC1INCy0YDQtdC80Y8uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKCcucG9wdXBfX2Zvcm0nKS5hZGRDbGFzcygnaGlkZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmNvbnRhY3RfX2Zvcm1fc21hbGxcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgdmFyIHRlbCA9ICQoXCIuY29udGFjdF9faW5wdXQgXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZighdGVsICYmIHRlbCAhPSAnJyl7XHJcbiAgICAgICAgICAgICQoJy5jb250YWN0X19pbnB1dCAnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1IVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pOyIsIm5ldyBXT1coKS5pbml0KCk7IiwiLy8gbWFrZXMgdGhlIHBhcmFsbGF4IGVsZW1lbnRzXHJcbmZ1bmN0aW9uIHBhcmFsbGF4SXQoKSB7XHJcbiAgICAvLyBjcmVhdGUgdmFyaWFibGVzXHJcbiAgICB2YXIgJGZ3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICB2YXIgJGNvbnRlbnRzID0gW107XHJcbiAgICB2YXIgJGJhY2tncm91bmRzID0gW107XHJcblxyXG4gICAgLy8gZm9yIGVhY2ggb2YgY29udGVudCBwYXJhbGxheCBlbGVtZW50XHJcbiAgICAkKCdbZGF0YS10eXBlPVwiY29udGVudFwiXScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGUpIHtcclxuICAgICAgICB2YXIgJGNvbnRlbnRPYmogPSAkKHRoaXMpO1xyXG4gICAgICAgICRjb250ZW50T2JqLl9fc3BlZWQgPSAyO1xyXG4gICAgICAgICRjb250ZW50T2JqLl9fZmdPZmZzZXQgPSAkY29udGVudE9iai5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgJGNvbnRlbnRzLnB1c2goJGNvbnRlbnRPYmopO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uc1xyXG4gICAgJGZ3aW5kb3cub24oJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICAkY29udGVudHMuZm9yRWFjaChmdW5jdGlvbigkY29udGVudE9iaikge1xyXG4gICAgICAgICAgICB2YXIgeVBvcyA9ICRjb250ZW50T2JqLl9fZmdPZmZzZXQgLSBzY3JvbGxUb3AgLyAkY29udGVudE9iai5fX3NwZWVkO1xyXG4gICAgICAgICAgICAkY29udGVudE9iai5jc3MoJ3RvcCcsIHlQb3MgKyA5MDApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcbiAgICAvLyB0cmlnZ2VycyB3aW5vZHcgc2Nyb2xsIGZvciByZWZyZXNoXHJcbiAgICAkZndpbmRvdy50cmlnZ2VyKCdzY3JvbGwnKTtcclxufTtcclxuXHJcbnBhcmFsbGF4SXQoKTtcclxuXHJcbi8vINC00YPQvNCw0Lsg0L/RgNC40LLRj9C30LDRgtGM0YHRjyDQuiDQuNC90LTQtdC60YHRgyDQuNC70Lgg0LogaWQsINGA0LXRiNC40Lsg0Log0L/QvtGA0Y/QtNC60YMsINC90LUg0YPQstC10YDQtdC9LCDRh9GC0L4g0Y3RgtC+INC/0YDQsNCy0LjQu9GM0L3QvlxyXG4kKCcud2F5X190ZXh0LTInKS5ob3ZlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPiA2MDApe1xyXG4gICAgICAgIHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcclxuICAgICAgICAkKCcud2F5X190ZXh0LTInKS5yZW1vdmVDbGFzcygnd2hpdGUnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd3aGl0ZScpO1xyXG4gICAgICAgIGlmKGluZGV4ID09IDApe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQmNC30YPRh9Cw0LXQvCDQutC+0LzQv9Cw0L3QuNGOINC4INC60L7QvdC60YPRgNC10L3RgtC+0LIsINC90LDRhdC+0LTQuNC8INC/0YDQtdC40LzRg9GJ0LXRgdGC0LLQsCwg0LfQsNC60YDRi9Cy0LDQtdC8INCy0L7Qt9GA0LDQttC10L3QuNGPLCDQvdC40LLQtdC70LjRgNGD0LXQvCDRgdGC0YDQsNGF0LgsINGB0L7Qt9C00LDQtdC8INGB0LjQu9GM0L3QvtC1INC/0YDQtdC00LvQvtC20LXQvdC40LUuJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMS5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMSl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0YDQvtCy0L7QtNC40LwgYnJhaW4gc3Rvcm06INC/0YDQvtC00YPQvNGL0LLQsNC10Lwg0YHRgtGA0YPQutGC0YPRgNGDLCDQsdC70L7QutC4LCDRhdCw0YDQsNC60YLQtdGAINC4INGB0YLQuNC70Ywg0LjRgdGF0L7QtNGPINC40Lcg0LfQsNC00LDRhyDQsdC40LfQvdC10YHQsC4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18yLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAyKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQv9GA0LDQstC70Y/QtdC8INCy0L3QuNC80LDQvdC40LXQvCwg0YHQvtC30LTQsNGR0Lwg0LjQvdGC0LXRgNC10YEg0Log0YPRgdC70YPQs9C1L9C/0YDQvtC00YPQutGC0YMg0LIg0YPQtNC+0LHQvdC+0Lkg0L3QsNCy0LjQs9Cw0YbQuNC4INC4INGB0YLQuNC70YzQvdC+0Lwg0LTQuNC30LDQudC90LUnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18zLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAzKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KHQvtC30LTQsNGR0Lwg0Y3RhNGE0LXQutGCINC/0YDQuNGB0YPRgtGB0YLQstC40Y8sIOKAnNC/0YDQvtCy0L7QtNC40Lwg0Y3QutGB0LrRg9GA0YHQuNGO4oCdINC/0L4g0YHQsNC50YLRgywg0LLRi9Cy0L7QtNC40Lwg0YTQvtC60YPRgSDQvdCwINGG0LXQu9C10LLRi9C1INC00LXQudGB0YLQstC40Y8uJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNC5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNCl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0L7QtNCx0LjRgNCw0LXQvCDRhtC10LvQtdCy0YvQtSDQtNC70Y8g0L3QuNGI0Lgg0YDQtdC60LvQsNC80L3Ri9C1INC/0LvQvtGJ0LDQtNC4IChQUEMsIHNtbSkg0L/QvtC80L7Qs9Cw0LXQvCDQvtGC0LHQuNGC0Ywg0LfQsNGC0YDQsNGC0Ysg0L3QsCDRgNC10LrQu9Cw0LzRgyDQuCDQstGL0LnRgtC4INCyINC/0YDQuNCx0YvQu9GMJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNS5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNSl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0LrRgNC10L/Qu9GP0LXQvCDQuNC80LjQtNC2INCx0YDQtdC90LTQsCwg0YHQvtCx0LjRgNCw0LXQvCDQuCDQvtC/0YLQuNC80LjQt9C40YDRg9C10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X182LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2xXYXkgPSAkKCcud2F5X19zbGlkZXInKTtcclxuICAgIG93bFdheS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXHJcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDo3NTBcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG93bEluaXQoZXZlbnQpIHtcclxuICAgICAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG93bFdheS50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLndheV9fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsV2F5LnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJldkZsYWcgPSB0cnVlO1xyXG5cclxuICAgIC8vbWFnaWMgZm9yIG93bCBjYXJvdXNlbCBzdGFydCB3b3JrXHJcbiAgICBvd2xXYXkub24oJ3ByZXYub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBwcmV2RmxhZyA9IHRydWVcclxuICAgIH0pO1xyXG4gICAgb3dsV2F5Lm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcclxuICAgICAgICB2YXIgaXRlbSAgICAgID0gZXZlbnQuaXRlbS5pbmRleDsgICAvLyBPd2wgcmVwb3J0ZWQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaW5jb25zaXN0ZW50IGFuZCBpbmFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBjYWxjSXRlbSAgPSBNYXRoLmZsb29yKGl0ZW0gLSAob3dsSXRlbXMgLyAyKSArIDEpOyAvLyBzbGlnaHRseSBtb3JlIGxvZ2ljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaWYgbm90IGZyb20gcHJldmlvdXMgY2xpY2spXHJcblxyXG4gICAgICAgIC8vIGlmIGZyb20gcHJldmlvdXMgY2xpY2tcclxuICAgICAgICBpZihwcmV2RmxhZykge1xyXG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcclxuICAgICAgICAgICAgICAgIGNhbGNJdGVtID0gb3dsSXRlbXM7IC8vIHNvbHZlIHRoYXQgcHJvYmxlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdmFsdWVzIHRoYXQgZmFsbCBvdXRzaWRlIG9mIGxvZ2ljYWwgbWluL21heCBib3VuZHNcclxuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xyXG4gICAgICAgICAgICBjYWxjSXRlbSA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2RmxhZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICQoJy53YXlfX3RleHQtN19jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xyXG5cclxuICAgIH0pXHJcbn0pOyIsInZhciBjdXJzb3IgPSB7XHJcbiAgICBkZWxheTogOCxcclxuICAgIF94OiAwLFxyXG4gICAgX3k6IDAsXHJcbiAgICBlbmRYOiAod2luZG93LmlubmVyV2lkdGggLyAyKSxcclxuICAgIGVuZFk6ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSxcclxuICAgIGN1cnNvclZpc2libGU6IHRydWUsXHJcbiAgICBjdXJzb3JFbmxhcmdlZDogZmFsc2UsXHJcbiAgICAkZG90OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdCcpLFxyXG4gICAgJG91dGxpbmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90LW91dGxpbmUnKSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBTZXQgdXAgZWxlbWVudCBzaXplc1xyXG4gICAgICAgIHRoaXMuZG90U2l6ZSA9IHRoaXMuJGRvdC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB0aGlzLm91dGxpbmVTaXplID0gdGhpcy4kb3V0bGluZS5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlRG90T3V0bGluZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIEFuY2hvciBob3ZlcmluZ1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vY3VzdG9tIGhvdmVyXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1cnNvcicpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDbGljayBldmVudHNcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJzb3JcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiB0aGUgZG90XHJcbiAgICAgICAgICAgIHNlbGYuZW5kWCA9IGUucGFnZVg7XHJcbiAgICAgICAgICAgIHNlbGYuZW5kWSA9IGUucGFnZVk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50b3AgPSBzZWxmLmVuZFkgKyAncHgnO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUubGVmdCA9IHNlbGYuZW5kWCArICdweCc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUvc2hvdyBjdXJzb3JcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBhbmltYXRlRG90T3V0bGluZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLl94ICs9IChzZWxmLmVuZFggLSBzZWxmLl94KSAvIHNlbGYuZGVsYXk7XHJcbiAgICAgICAgc2VsZi5feSArPSAoc2VsZi5lbmRZIC0gc2VsZi5feSkgLyBzZWxmLmRlbGF5O1xyXG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudG9wID0gc2VsZi5feSArICdweCc7XHJcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5sZWZ0ID0gc2VsZi5feCArICdweCc7XHJcblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVEb3RPdXRsaW5lLmJpbmQoc2VsZikpO1xyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVDdXJzb3JTaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmN1cnNvckVubGFyZ2VkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDAuNzUpJztcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDIpJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVDdXJzb3JWaXNpYmlsaXR5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmN1cnNvclZpc2libGUpIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmN1cnNvci5pbml0KCk7Il19
