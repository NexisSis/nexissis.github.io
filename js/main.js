$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").mouseup(function(){$(window).width()<=600&&$("body").toggleClass("overflow-hidden"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),g}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),t=$(".menu");a.is(e.target)||0!==a.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||($("body").removeClass("overflow-hidden"),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=600&&$("body").addClass("overflow-hidden"),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active"),$(".popup__text-1").text("Обсудить проект")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(function(){$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();t||""==t||$(".popup__name").attr("placeholder","Заполните это поле!"),e||""==e||$(".popup__tel").attr("placeholder","Заполните это поле!");var a={name:t,email:$(".popup__email").val(),tel:e,message:$(".popup__email").val()};console.log(a),$.ajax({type:"POST",url:"sendMail.php",data:a,success:function(p){JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}),$(".contact__form_small").submit(function(p){var t=$(".contact__input ").val();t||""==t||$(".contact__input ").attr("placeholder","Заполните это поле!")})});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
(new WOW).init();
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwicHJpY2UvcHJpY2UuanMiLCJzZW5kTWFpbC9zZW5kTWFpbC5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2NvbW1vbi5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJtb3VzZXVwIiwid2luZG93Iiwid2lkdGgiLCJ0b2dnbGVDbGFzcyIsInJlbW92ZUNsYXNzIiwiZyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiYXR0ciIsIm9mZnNldCIsInRvcCIsImRvY3VtZW50IiwiY29udGFpbmVyIiwiY29udGFpbmVyTWVudSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwicG9wdXBTYW1lIiwiYWRkQ2xhc3MiLCJ0ZXh0IiwiaHRtbCIsInJlYWR5Iiwib3dsIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwib25Jbml0aWFsaXplZCIsImV2ZW50IiwiaXRlbSIsImNvdW50IiwiYXV0b1dpZHRoIiwic21hcnRTcGVlZCIsInRyaWdnZXIiLCJwcmV2RmxhZyIsIm9uIiwib3dsSXRlbXMiLCJpbmRleCIsImNhbGNJdGVtIiwiTWF0aCIsImZsb29yIiwiaG92ZXIiLCJmaW5kIiwic3VibWl0IiwibmFtZSIsInZhbCIsInRlbCIsImRhdGEiLCJlbWFpbCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJwYXJhbGxheEl0IiwiJGZ3aW5kb3ciLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsIiRjb250ZW50cyIsIiRjb250ZW50T2JqIiwiX19zcGVlZCIsIl9fZmdPZmZzZXQiLCJwdXNoIiwiZm9yRWFjaCIsInlQb3MiLCJjc3MiLCJvd2xXYXkiLCJXT1ciLCJpbml0IiwiY3Vyc29yIiwiZGVsYXkiLCJfeCIsIl95IiwiZW5kWCIsImlubmVyV2lkdGgiLCJlbmRZIiwiaW5uZXJIZWlnaHQiLCJjdXJzb3JWaXNpYmxlIiwiY3Vyc29yRW5sYXJnZWQiLCIkZG90IiwicXVlcnlTZWxlY3RvciIsIiRvdXRsaW5lIiwiZG90U2l6ZSIsIm9mZnNldFdpZHRoIiwib3V0bGluZVNpemUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiYW5pbWF0ZURvdE91dGxpbmUiLCJzZWxmIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZUN1cnNvclNpemUiLCJ0b2dnbGVDdXJzb3JWaXNpYmlsaXR5IiwicGFnZVgiLCJwYWdlWSIsInN0eWxlIiwibGVmdCIsIm9wYWNpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxtQkFBbUJDLEtBQUssV0FDdEJELEVBQUVFLE1BQU1DLE1BQU0sV0FFVixPQURBSCxFQUFFLGFBQWFJLFFBQVEsQ0FBRUMsVUFBVyxHQUFLLFNBQ2xDO0FDRmZMLEVBQUUsU0FBU00sUUFBUSxXQUNaTixFQUFFTyxRQUFRQyxTQUFXLEtBQ3BCUixFQUFFLFFBQVFTLFlBQVksbUJBRTFCVCxFQUFFLGlCQUFpQlMsWUFBWSx1QkFDL0JULEVBQUUsYUFBYVMsWUFBWSxlQUMzQlQsRUFBRSxpQkFBaUJTLFlBQVksUUFDL0JULEVBQUUsaUJBQWlCUyxZQUFZLHlCQUduQ1QsRUFBRSxnQkFBZ0JHLE1BQU0sV0FDcEJILEVBQUUsaUJBQWlCVSxZQUFZLHVCQUNuQ0MsSUFJQVgsRUFBRSxtQkFBbUJHLE1BQU0sU0FBU1MsR0FDaENBLEVBQUVDLGlCQUNGLElBQUlDLEVBQUtkLEVBQUVFLE1BQU1hLEtBQUssUUFDdEJmLEVBQUUsYUFBYUksUUFBUSxDQUFDQyxVQUFXTCxFQUFFYyxHQUFJRSxTQUFTQyxLQUFNLEtBQ3hEakIsRUFBRSxpQkFBaUJVLFlBQVksdUJBQy9CVixFQUFFLGFBQWFVLFlBQVksZUFDM0JWLEVBQUUsaUJBQWlCVSxZQUFZLFFBQy9CVixFQUFFLGlCQUFpQlUsWUFBWSx5QkFJbkNWLEVBQUVrQixVQUFVWixRQUFRLFNBQVNNLEdBQ3pCLElBQUlPLEVBQVluQixFQUFFLGlCQUNkb0IsRUFBZ0JwQixFQUFFLFNBR2hCbUIsRUFBVUUsR0FBR1QsRUFBRVUsU0FBOEMsSUFBbkNILEVBQVVJLElBQUlYLEVBQUVVLFFBQVFFLFFBQ2xESixFQUFjQyxHQUFHVCxFQUFFVSxTQUFrRCxJQUF2Q0YsRUFBY0csSUFBSVgsRUFBRVUsUUFBUUUsU0FFNUR4QixFQUFFLFFBQVFVLFlBQVksbUJBQ3RCVixFQUFFLGlCQUFpQlUsWUFBWSx1QkFDL0JWLEVBQUUsYUFBYVUsWUFBWSxlQUMzQlYsRUFBRSxpQkFBaUJVLFlBQVksUUFDL0JWLEVBQUUsaUJBQWlCVSxZQUFZO0FDeEN2QztBQzhFQSxTQUFTZSxZQUNGekIsRUFBRU8sUUFBUUMsU0FBVyxLQUNwQlIsRUFBRSxRQUFRMEIsU0FBUyxtQkFHdkIxQixFQUFFLGdCQUFnQlUsWUFBWSxRQUM5QlYsRUFBRSxVQUFVMEIsU0FBUyxnQkFDckIxQixFQUFFLGtCQUFrQjJCLEtBQUssbUJBckY3QjNCLEVBQUUsZ0JBQWdCRyxNQUFNLFdBQ3BCSCxFQUFFLFFBQVFVLFlBQVksbUJBQ3RCVixFQUFFLFVBQVVVLFlBQVksa0JBRzVCVixFQUFFLDZDQUE2Q0csTUFBTSxXQUNqRHNCLFlBRUF6QixFQUFFLGlCQUFpQlUsWUFBWSxVQUMvQlYsRUFBRSxnQkFBZ0JVLFlBQVksVUFFOUJWLEVBQUUsa0JBQWtCNEIsS0FDaEIsNk1BTVI1QixFQUFFLGlCQUFpQkcsTUFBTSxXQUNyQnNCLFlBRUF6QixFQUFFLGtCQUFrQjJCLEtBQUssa0VBQ3pCM0IsRUFBRSxpQkFBaUIwQixTQUFTLFVBQzVCMUIsRUFBRSxnQkFBZ0IwQixTQUFTLFlBRy9CMUIsRUFBRSxrQkFBa0JHLE1BQU0sV0FDdEJzQixZQUVBekIsRUFBRSxrQkFBa0IyQixLQUFLLGtHQUV6QjNCLEVBQUUsaUJBQWlCVSxZQUFZLFVBQy9CVixFQUFFLGdCQUFnQlUsWUFBWSxZQUdsQ1YsRUFBRSwwQkFBMEJHLE1BQU0sV0FDOUJzQixZQUVBekIsRUFBRSxrQkFBa0IyQixLQUFLLHVEQUV6QjNCLEVBQUUsaUJBQWlCVSxZQUFZLFVBQy9CVixFQUFFLGdCQUFnQlUsWUFBWSxZQUdsQ1YsRUFBRSxtQkFBbUJHLE1BQU0sV0FDdkJzQixZQUVBekIsRUFBRSxrQkFBa0IyQixLQUFLLG1EQUV6QjNCLEVBQUUsaUJBQWlCVSxZQUFZLFVBQy9CVixFQUFFLGdCQUFnQlUsWUFBWSxZQUdsQ1YsRUFBRSxvQkFBb0JHLE1BQU0sV0FDeEJzQixZQUVBekIsRUFBRSxrQkFBa0IyQixLQUFLLDBDQUV6QjNCLEVBQUUsaUJBQWlCVSxZQUFZLFVBQy9CVixFQUFFLGdCQUFnQlUsWUFBWSxZQUdsQ1YsRUFBRSxpQkFBaUJHLE1BQU0sV0FDckJzQixZQUVBekIsRUFBRSxrQkFBa0IyQixLQUFLLCtEQUV6QjNCLEVBQUUsaUJBQWlCVSxZQUFZLFVBQy9CVixFQUFFLGdCQUFnQlUsWUFBWSxZQUdsQ1YsRUFBRSxtQ0FBbUNHLE1BQU0sV0FDdkNzQixZQUNBekIsRUFBRSxrQkFBa0IyQixLQUFLLG9GQUN6QjNCLEVBQUUsaUJBQWlCMEIsU0FBUyxVQUM1QjFCLEVBQUUsZ0JBQWdCMEIsU0FBUyxZQWUvQjFCLEVBQUVrQixVQUFVWixRQUFRLFNBQVNNLEdBQ3pCLElBQUlPLEVBQVluQixFQUFFLFVBRWJtQixFQUFVRSxHQUFHVCxFQUFFVSxTQUE4QyxJQUFuQ0gsRUFBVUksSUFBSVgsRUFBRVUsUUFBUUUsU0FDbkR4QixFQUFFLFFBQVFVLFlBQVksbUJBQ3RCVixFQUFFLFVBQVVVLFlBQVk7QUM3QmhDVixFQUFFa0IsVUFBVVcsTUFBTSxXQUNkLElBQUlDLEVBQU05QixFQUFFLDJCQUNaOEIsRUFBSUMsWUFBWSxDQUNaQyxNQUFLLEVBQ0xDLGNBS0osU0FBaUJDLEdBQ2JsQyxFQUFFLDRCQUE0QjJCLEtBQUssSUFBTU8sRUFBTUMsS0FBS0MsUUFMcERDLFdBQVUsRUFDVkMsV0FBVyxNQU9mdEMsRUFBRSw0QkFBNEJHLE1BQU0sV0FDaEMyQixFQUFJUyxRQUFRLHVCQUdoQnZDLEVBQUUsNEJBQTRCRyxNQUFNLFdBQ2hDMkIsRUFBSVMsUUFBUSx1QkFHaEIsSUFBSUMsR0FBVyxFQUdmVixFQUFJVyxHQUFHLG9CQUFxQixTQUFTUCxHQUNqQ00sR0FBVyxJQUVmVixFQUFJVyxHQUFHLHVCQUF3QixTQUFTUCxHQUNwQyxJQUFJUSxFQUFZUixFQUFNQyxLQUFLQyxNQUN2QkQsRUFBWUQsRUFBTUMsS0FBS1EsTUFDdkJDLEVBQVlDLEtBQUtDLE1BQU1YLEVBQVFPLEVBQVcsRUFBSyxHQUdoREYsR0FDa0IsSUFBYkksSUFDQUEsRUFBV0YsS0FLSCxJQUFiRixHQUFtQyxJQUFiSSxHQUE2QkYsRUFBWEUsS0FDdkNBLEVBQVcsR0FHZkosR0FBVyxFQUVYeEMsRUFBRSw0QkFBNEIyQixLQUFLLElBQU1pQjtBQ2hIakQ1QyxFQUFFLGdCQUFnQitDLE1BQU0sV0FDcEIvQyxFQUFFLDhCQUE4QlUsWUFBWSxhQUM1Q1YsRUFBRUUsTUFBTXdCLFNBQVMsYUFDakIxQixFQUFFLG9CQUFvQlUsWUFBWSwwQkFDbENWLEVBQUVFLE1BQU04QyxLQUFLLGVBQWV0QixTQUFTLGFBQ3JDMUIsRUFBRUUsTUFBTThDLEtBQUssb0JBQW9CdEIsU0FBUztBQ0w5QzFCLEVBQUUsV0FDRUEsRUFBRSxnQkFBZ0JpRCxPQUFPLFNBQVVyQyxHQUMvQkEsRUFBRUMsaUJBQ0YsSUFBSXFDLEVBQU9sRCxFQUFFLGdCQUFnQm1ELE1BQ3pCQyxFQUFNcEQsRUFBRSxlQUFlbUQsTUFDdkJELEdBQWdCLElBQVJBLEdBQ1JsRCxFQUFFLGdCQUFnQmUsS0FBSyxjQUFlLHVCQUV0Q3FDLEdBQWMsSUFBUEEsR0FDUHBELEVBQUUsZUFBZWUsS0FBSyxjQUFlLHVCQUd6QyxJQUFJc0MsRUFBTyxDQUNQSCxLQUFNQSxFQUNOSSxNQUFPdEQsRUFBRSxpQkFBaUJtRCxNQUMxQkMsSUFBS0EsRUFDTEcsUUFBU3ZELEVBQUUsaUJBQWlCbUQsT0FFaENLLFFBQVFDLElBQUlKLEdBQ1pyRCxFQUFFMEQsS0FBSyxDQUNIQyxLQUFNLE9BQ05DLElBQUssZUFDTFAsS0FBTUEsRUFDTlEsUUFBUyxTQUFVUixHQUNKUyxLQUFLQyxNQUFNVixHQUNiVyxPQU9MaEUsRUFBRSxrQkFBa0IyQixLQUFLLGdCQUN6QjNCLEVBQUUsa0JBQWtCMkIsS0FBSyxpREFQekIzQixFQUFFLGtCQUFrQjJCLEtBQUssbUJBQ3pCM0IsRUFBRSxrQkFBa0IyQixLQUFLLHdHQVE3QjNCLEVBQUUsZ0JBQWdCMEIsU0FBUyxhQUt2QzFCLEVBQUUsd0JBQXdCaUQsT0FBTyxTQUFVckMsR0FDdkMsSUFBSXdDLEVBQU1wRCxFQUFFLG9CQUFvQm1ELE1BRTVCQyxHQUFjLElBQVBBLEdBQ1BwRCxFQUFFLG9CQUFvQmUsS0FBSyxjQUFlO0FDYnRELFNBQVNrRCxhQUVMLElBQUlDLEVBQVdsRSxFQUFFTyxRQUNiRixFQUFZRSxPQUFPNEQsYUFBZWpELFNBQVNrRCxnQkFBZ0IvRCxVQUMzRGdFLEVBQVksR0FJaEJyRSxFQUFFLHlCQUF5QkMsS0FBSyxTQUFTMEMsRUFBTy9CLEdBQzVDLElBQUkwRCxFQUFjdEUsRUFBRUUsTUFDcEJvRSxFQUFZQyxRQUFVLEVBQ3RCRCxFQUFZRSxXQUFhRixFQUFZdEQsU0FBU0MsSUFDOUNvRCxFQUFVSSxLQUFLSCxLQUluQkosRUFBU3pCLEdBQUcsZ0JBQWlCLFdBQ3pCcEMsRUFBWUUsT0FBTzRELGFBQWVqRCxTQUFTa0QsZ0JBQWdCL0QsVUFDM0RnRSxFQUFVSyxRQUFRLFNBQVNKLEdBQ3ZCLElBQUlLLEVBQU9MLEVBQVlFLFdBQWFuRSxFQUFZaUUsRUFBWUMsUUFDNURELEVBQVlNLElBQUksTUFBT0QsRUFBTyxTQUt0Q1QsRUFBUzNCLFFBQVEsVUFHckIwQixhQUdBakUsRUFBRSxnQkFBZ0IrQyxNQUFNLFNBQVVuQyxHQUM5QixHQUF1QixJQUFwQlosRUFBRU8sUUFBUUMsUUFBYyxDQUN2QixJQUFJbUMsRUFBUTNDLEVBQUVFLE1BQU15QyxRQUNwQjNDLEVBQUUsZ0JBQWdCVSxZQUFZLFNBQzlCVixFQUFFRSxNQUFNd0IsU0FBUyxTQUNMLEdBQVRpQixJQUNDM0MsRUFBRSxnQkFBZ0IyQixLQUFLLCtIQUN2QjNCLEVBQUUsY0FBYzRFLElBQUksbUJBQW1CLDJCQUUvQixHQUFUakMsSUFDQzNDLEVBQUUsZ0JBQWdCMkIsS0FBSyxpR0FDdkIzQixFQUFFLGNBQWM0RSxJQUFJLG1CQUFtQiwyQkFFL0IsR0FBVGpDLElBQ0MzQyxFQUFFLGdCQUFnQjJCLEtBQUssaUdBQ3ZCM0IsRUFBRSxjQUFjNEUsSUFBSSxtQkFBbUIsMkJBRS9CLEdBQVRqQyxJQUNDM0MsRUFBRSxnQkFBZ0IyQixLQUFLLGlHQUN2QjNCLEVBQUUsY0FBYzRFLElBQUksbUJBQW1CLDJCQUUvQixHQUFUakMsSUFDQzNDLEVBQUUsZ0JBQWdCMkIsS0FBSyxnSEFDdkIzQixFQUFFLGNBQWM0RSxJQUFJLG1CQUFtQiwyQkFFL0IsR0FBVGpDLElBQ0MzQyxFQUFFLGdCQUFnQjJCLEtBQUssOERBQ3ZCM0IsRUFBRSxjQUFjNEUsSUFBSSxtQkFBbUIsOEJBMENuRDVFLEVBQUVrQixVQUFVVyxNQUFNLFdBQ2QsSUFBSWdELEVBQVM3RSxFQUFFLGdCQUNmNkUsRUFBTzlDLFlBQVksQ0FDZkMsTUFBSyxFQUNMQyxjQUtKLFNBQWlCQyxHQUNibEMsRUFBRSxzQkFBc0IyQixLQUFLLElBQU1PLEVBQU1DLEtBQUtDLFFBTDlDQyxXQUFVLEVBQ1ZDLFdBQVcsTUFPZnRDLEVBQUUsc0JBQXNCRyxNQUFNLFdBQzFCMEUsRUFBT3RDLFFBQVEsdUJBR25CdkMsRUFBRSxzQkFBc0JHLE1BQU0sV0FDMUIwRSxFQUFPdEMsUUFBUSx1QkFHbkIsSUFBSUMsR0FBVyxFQUdmcUMsRUFBT3BDLEdBQUcsb0JBQXFCLFNBQVNQLEdBQ3BDTSxHQUFXLElBRWZxQyxFQUFPcEMsR0FBRyx1QkFBd0IsU0FBU1AsR0FDdkMsSUFBSVEsRUFBWVIsRUFBTUMsS0FBS0MsTUFDdkJELEVBQVlELEVBQU1DLEtBQUtRLE1BQ3ZCQyxFQUFZQyxLQUFLQyxNQUFNWCxFQUFRTyxFQUFXLEVBQUssR0FHaERGLEdBQ2tCLElBQWJJLElBQ0FBLEVBQVdGLEtBS0gsSUFBYkYsR0FBbUMsSUFBYkksR0FBNkJGLEVBQVhFLEtBQ3ZDQSxFQUFXLEdBR2ZKLEdBQVcsRUFFWHhDLEVBQUUsc0JBQXNCMkIsS0FBSyxJQUFNaUI7Q0NqTDNDLElBQUlrQyxLQUFNQztBQ0FWLElBQUlDLE9BQVMsQ0FDVEMsTUFBTyxFQUNQQyxHQUFJLEVBQ0pDLEdBQUksRUFDSkMsS0FBTzdFLE9BQU84RSxXQUFhLEVBQzNCQyxLQUFPL0UsT0FBT2dGLFlBQWMsRUFDNUJDLGVBQWUsRUFDZkMsZ0JBQWdCLEVBQ2hCQyxLQUFNeEUsU0FBU3lFLGNBQWMsZUFDN0JDLFNBQVUxRSxTQUFTeUUsY0FBYyx1QkFFakNaLEtBQU0sV0FFRjdFLEtBQUsyRixRQUFVM0YsS0FBS3dGLEtBQUtJLFlBQ3pCNUYsS0FBSzZGLFlBQWM3RixLQUFLMEYsU0FBU0UsWUFFakM1RixLQUFLOEYsc0JBQ0w5RixLQUFLK0YscUJBR1RELG9CQUFxQixXQUNqQixJQUFJRSxFQUFPaEcsS0FHWGdCLFNBQVNpRixpQkFBaUIsS0FBS3pCLFFBQVEsU0FBUzBCLEdBQzVDQSxFQUFHQyxpQkFBaUIsWUFBYSxXQUM3QkgsRUFBS1QsZ0JBQWlCLEVBQ3RCUyxFQUFLSSxxQkFFVEYsRUFBR0MsaUJBQWlCLFdBQVksV0FDNUJILEVBQUtULGdCQUFpQixFQUN0QlMsRUFBS0ksdUJBS2JwRixTQUFTaUYsaUJBQWlCLFdBQVd6QixRQUFRLFNBQVMwQixHQUNsREEsRUFBR0MsaUJBQWlCLFlBQWEsV0FDN0JILEVBQUtULGdCQUFpQixFQUN0QlMsRUFBS0kscUJBRVRGLEVBQUdDLGlCQUFpQixXQUFZLFdBQzVCSCxFQUFLVCxnQkFBaUIsRUFDdEJTLEVBQUtJLHVCQUlicEYsU0FBU21GLGlCQUFpQixZQUFhLFdBQ25DSCxFQUFLVCxnQkFBaUIsRUFDdEJTLEVBQUtJLHFCQUVUcEYsU0FBU21GLGlCQUFpQixVQUFXLFdBQ2pDSCxFQUFLVCxnQkFBaUIsRUFDdEJTLEVBQUtJLHFCQUdUcEYsU0FBU21GLGlCQUFpQixZQUFhLFNBQVN6RixHQUU1Q3NGLEVBQUtWLGVBQWdCLEVBQ3JCVSxFQUFLSyx5QkFHTEwsRUFBS2QsS0FBT3hFLEVBQUU0RixNQUNkTixFQUFLWixLQUFPMUUsRUFBRTZGLE1BQ2RQLEVBQUtSLEtBQUtnQixNQUFNekYsSUFBTWlGLEVBQUtaLEtBQU8sS0FDbENZLEVBQUtSLEtBQUtnQixNQUFNQyxLQUFPVCxFQUFLZCxLQUFPLE9BSXZDbEUsU0FBU21GLGlCQUFpQixhQUFjLFNBQVN6RixHQUM3Q3NGLEVBQUtWLGVBQWdCLEVBQ3JCVSxFQUFLSyx5QkFDTEwsRUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsSUFHbEMxRixTQUFTbUYsaUJBQWlCLGFBQWMsU0FBU3pGLEdBQzdDc0YsRUFBS1YsZUFBZ0IsRUFDckJVLEVBQUtLLHlCQUNMTCxFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxLQUl0Q1gsa0JBQW1CLFdBQ2YsSUFBSUMsRUFBT2hHLEtBRVhnRyxFQUFLaEIsS0FBT2dCLEVBQUtkLEtBQU9jLEVBQUtoQixJQUFNZ0IsRUFBS2pCLE1BQ3hDaUIsRUFBS2YsS0FBT2UsRUFBS1osS0FBT1ksRUFBS2YsSUFBTWUsRUFBS2pCLE1BQ3hDaUIsRUFBS04sU0FBU2MsTUFBTXpGLElBQU1pRixFQUFLZixHQUFLLEtBQ3BDZSxFQUFLTixTQUFTYyxNQUFNQyxLQUFPVCxFQUFLaEIsR0FBSyxLQUVyQzJCLHNCQUFzQjNHLEtBQUsrRixrQkFBa0JhLEtBQUtaLEtBR3RESSxpQkFBa0IsV0FDZCxJQUFJSixFQUFPaEcsS0FFUGdHLEVBQUtULGdCQUNMUyxFQUFLUixLQUFLZ0IsTUFBTUssVUFBWSxvQ0FDNUJiLEVBQUtOLFNBQVNjLE1BQU1LLFVBQVksbUNBRWhDYixFQUFLUixLQUFLZ0IsTUFBTUssVUFBWSxpQ0FDNUJiLEVBQUtOLFNBQVNjLE1BQU1LLFVBQVksbUNBSXhDUix1QkFBd0IsV0FDcEIsSUFBSUwsRUFBT2hHLEtBRVBnRyxFQUFLVixlQUNMVSxFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxJQUU5QlYsRUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsS0FLMUM1QixPQUFPRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJCgnLmNvbnRhY3RfX2Fycm93JykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgJCh0aGlzKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ3Nsb3cnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxufSk7IiwiLy8gb3BlbiBtZW51XHJcbiQoJy5tZW51JykubW91c2V1cChmdW5jdGlvbigpe1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcclxuICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWVudSBkaXYnKS50b2dnbGVDbGFzcygnbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tYWluX190ZXh0LTInKS50b2dnbGVDbGFzcygnaGlkZScpO1xyXG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnRvZ2dsZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJCgnLm1lbnVfYWN0aXZlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbmdcclxufSk7XHJcblxyXG4vL3Ntb290aCBzY3JvbGxpbmcgdG8gYmxvY2tcclxuJCgnLmhlYWRlcl9fdGV4dC0xJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoaWQpLm9mZnNldCgpLnRvcH0sIDEwMDApO1xyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tYWluX190ZXh0LTInKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuLy9jaGVjayBpZiBjbGljayBvdXRzaWRlIG1lbnVcclxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcuaGVhZGVyX19tZW51Jyk7XHJcbiAgICB2YXIgY29udGFpbmVyTWVudSA9ICQoJy5tZW51Jyk7XHJcblxyXG4gICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lciBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgIGlmICgoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSAmJlxyXG4gICAgICAgICghY29udGFpbmVyTWVudS5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyTWVudS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkgKSB7XHJcblxyXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1lbnUgZGl2JykucmVtb3ZlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIiIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgJCgnLnBvcHVwJykucmVtb3ZlQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbiQoJy5tYWluX190ZXh0LTcsIC53YXlfX3RleHQtNSwubWFpbl9fYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLmh0bWwoXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCw8L3NwYW4+XFxuJyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QsiDQutC+0YLQvtGA0YvRhSDQstCw0Lwg0LrQvtC80YTQvtGA0YLQvdC+INC+0LHRidCw0YLRjNGB0Y8gLTwvc3Bhbj5cXG4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiID7QvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8Ljwvc3Bhbj4nXHJcbiAgICApO1xyXG59KTtcclxuXHJcbiQoJy5tYWluX190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LLQvtC90L7QuiDQsiDRgdCy0LXRgtC70L7QtSDQsdGD0LTRg9GJ0LXQtSDQstCw0YjQtdC5INC60L7QvNC/0LDQvdC40LggLSDQv9C40YjQuNGC0LUsINC80Ysg0L3QsCDQu9C40L3QuNC4LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYWJvdXRfX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KDQsNGB0YHQutCw0LbQuNGC0LUg0L4g0LTQtdC70LUsINC60L7RgtC+0YDQvtC1INCy0LTQvtGF0L3QvtCy0LvRj9C10YIg0LLQsNGBINC/0YDQvtGB0YvQv9Cw0YLRjNGB0Y8g0L/QviDRg9GC0YDQsNC8LCDQviDQv9C70LDQvdCw0YUg0Lgg0LzQtdGH0YLQsNGFINC90LAg0LHRg9C00YPRidC10LUuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcubGFuZGluZy1wb3dlcl9fdGV4dC02JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGA0LXQvNGPINC/0L7RgdGC0LjRh9GMINC00LfQtdC9INC4INC/0YDQtdC30LXQvdGC0L7QstCw0YLRjCDQvNC40YDRgyDRgdCy0L7QuSDQsdC40LfQvdC10YEuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYmlnX19yZXByZXNlbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Ci0YPRgiDQvdCw0YfQuNC90LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9GA0LjQt9C90LDQvdC40Y4g0Lgg0YPQt9C90LDQstCw0LXQvNC+0YHRgtC4LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLnNhbGVzX3Byb21vdGlvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KfQtdGB0YLQvdGL0Lkg0L/Rg9GC0Ywg0Log0YHQvtC60YDQvtCy0LjRidCw0Lwg0Lgg0LzQuNC70LvQuNC+0L3QsNC8LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLndvd19icmFuZGluZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JLRiyDQvdCw0YjQu9C4INCx0L7QvNCx0LjRh9C10YHQutC40Lkg0L7Qs9C+0L3RjCDQtNC70Y8g0LDQsdGB0L7Qu9GO0YLQvdC+0Lkg0LLQu9Cw0YHRgtC4INC90LDQtCDQvNC40YDQvtC8LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLmlubGluZV9fdGV4dC0yLC5pbmxpbmVfX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cw0L/QvtC70L3QuNGC0LUg0YTQvtGA0LzRgyAtINC+0YLQv9GA0LDQstC40Lwg0LLQsNC8INC/0YDQtdC30LXQvdGC0LDRhtC40Y4g0Lgg0L/QvtC80L7QttC10Lwg0YEg0L/Qu9Cw0L3QvtC8INGA0LDQt9Cy0LjRgtC40Lgg0LrQvtC80L/QsNC90LjQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcG9wdXBTYW1lKCkge1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcclxuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5wb3B1cF9fZm9ybScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9Ce0LHRgdGD0LTQuNGC0Ywg0L/RgNC+0LXQutGCJyk7XHJcbn1cclxuXHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgcG9wdXBcclxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcucG9wdXAnKTtcclxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIgbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXHJcbiAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCcucG9wdXAnKS5yZW1vdmVDbGFzcygncG9wdXBfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHBvcnRmb2xpb1NsaWRlcigpO1xyXG4vLyAgICAgJCggd2luZG93ICkucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIHBvcnRmb2xpb1NsaWRlcigpO1xyXG4vLyAgICAgfSk7XHJcbi8vXHJcbi8vXHJcbi8vXHJcbi8vXHJcbi8vICAgICBmdW5jdGlvbiBwb3J0Zm9saW9TbGlkZXIoKXtcclxuLy9cclxuLy8gICAgICAgICB2YXIgc3RhcnQgPSAwO1xyXG4vLyAgICAgICAgIHZhciBjYXJkTm93ID0gMTtcclxuLy8gICAgICAgICAvL9Cx0LXRgNC10YjQuNC8INGI0LjRgNC40L3RgyDQutCw0YDRgtC+0YfQutC4INGBINC+0YLRgdGC0YPQv9Cw0LzQuFxyXG4vLyAgICAgICAgIHZhciB3aWR0aENhcmQgPSAkKCcucG9ydGZvbGlvX19jYXJkJykubGFzdCgpLm91dGVyV2lkdGgodHJ1ZSk7XHJcbi8vICAgICAgICAgLy/QutC+0LvQuNGH0LXRgdGC0LLQviDQutCw0YDRgtC+0YfQtdC6XHJcbi8vICAgICAgICAgdmFyIGNvdW50T2ZDYXJkcyA9ICQoJy5wb3J0Zm9saW9fX2NhcmQnKS5sZW5ndGg7XHJcbi8vICAgICAgICAgLy/Qt9Cw0L/QuNGB0YvQstCw0LXQvCDQutC+0LvQuNGH0LXRgdGC0LLQviDRjdC70LXQvNC10L3RgtC+0LJcclxuLy8gICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfdG90YWwnKS50ZXh0KCcwJyArIGNvdW50T2ZDYXJkcyk7XHJcbi8vXHJcbi8vICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgICBzbGlkZVJpZ2h0KCk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vXHJcbi8vICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgICBzbGlkZUxlZnQoKTtcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgICAgICBmdW5jdGlvbiBzbGlkZVJpZ2h0KCl7XHJcbi8vICAgICAgICAgICAgIGlmKHN0YXJ0IDwgKGNvdW50T2ZDYXJkcyAtIDEpICogd2lkdGhDYXJkKXtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3crKztcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XHJcbi8vICAgICAgICAgICAgICAgICBzdGFydCArPSB3aWR0aENhcmQ7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgc3RhcnQgKyAncHgpJyk7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICB9ZWxzZXtcclxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3cgPSAxO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyBzdGFydCArICdweCknKTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmFkZENsYXNzKCdoaWRlJyk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgaWYoc3RhcnQgPT0gMCl7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGZ1bmN0aW9uIHNsaWRlTGVmdCgpe1xyXG4vLyAgICAgICAgICAgICBpZihzdGFydCA+IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgY2FyZE5vdy0tO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcclxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0IC09IHdpZHRoQ2FyZDtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyBzdGFydCArICdweCknKTtcclxuLy8gICAgICAgICAgICAgfWVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xyXG4vLyAgICAgICAgICAgICAgICAgY2FyZE5vdyA9IDE7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHN0YXJ0ICsgJ3B4KScpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGlmKHN0YXJ0ID09IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2wgPSAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpO1xyXG4gICAgb3dsLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBzbWFydFNwZWVkOjc1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xyXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBvd2wudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XHJcblxyXG4gICAgLy9tYWdpYyBmb3Igb3dsIGNhcm91c2VsIHN0YXJ0IHdvcmtcclxuICAgIG93bC5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHByZXZGbGFnID0gdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBvd2wub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgb3dsSXRlbXMgID0gZXZlbnQuaXRlbS5jb3VudDsgICAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgKGNvbnNpc3RlbnQgYW5kIGFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBpdGVtICAgICAgPSBldmVudC5pdGVtLmluZGV4OyAgIC8vIE93bCByZXBvcnRlZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpbmNvbnNpc3RlbnQgYW5kIGluYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcclxuXHJcbiAgICAgICAgLy8gaWYgZnJvbSBwcmV2aW91cyBjbGlja1xyXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxjSXRlbSA9PT0gMCkgeyAgLy8gcmVwb3J0cyAwIGluc3RlYWQgb2YgbGFzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgY2FsY0l0ZW0gPSBvd2xJdGVtczsgLy8gc29sdmUgdGhhdCBwcm9ibGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xyXG4gICAgICAgIGlmKHByZXZGbGFnID09PSBmYWxzZSAmJiBjYWxjSXRlbSA9PT0gMCB8fCBjYWxjSXRlbSA+IG93bEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNhbGNJdGVtID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZGbGFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XHJcblxyXG4gICAgfSlcclxufSk7IiwiJCgnLnByaWNlX19jYXJkJykuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLnByaWNlX19jYXJkLCAucHJpY2VfX2ltZyAnKS5yZW1vdmVDbGFzcygnb3BhY2l0eS0xJyk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQoJy5wcmljZV9faW1nLWl0ZW0nKS5yZW1vdmVDbGFzcygncHJpY2VfX2ltZy1pdGVtX2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcucHJpY2VfX2ltZycpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQodGhpcykuZmluZCgnLnByaWNlX19pbWctaXRlbScpLmFkZENsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XHJcbn0pOyIsIiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5wb3B1cF9fZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIG5hbWUgPSAkKFwiLnBvcHVwX19uYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLnBvcHVwX190ZWxcIikudmFsKCk7XHJcbiAgICAgICAgaWYoIW5hbWUgJiYgbmFtZSAhPSAnJyApe1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX25hbWUnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXRlbCAmJiB0ZWwgIT0gJycpe1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX3RlbCcpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUhXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiAkKFwiLnBvcHVwX19lbWFpbFwiKS52YWwoKSxcclxuICAgICAgICAgICAgdGVsOiB0ZWwsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcInNlbmRNYWlsLnBocFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuc3cgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWFuc3cuZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0JfQsNGP0LLQutCwINC/0YDQuNC90Y/RgtCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgnJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCxcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9CyINC60L7RgtC+0YDRi9GFINCy0LDQvCDQutC+0LzRhNC+0YDRgtC90L4g0L7QsdGJ0LDRgtGM0YHRjyAtXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8LicpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQotC10YUuINC+0YjQuNCx0LrQsCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7QstGC0L7RgNC40YLRjCDRh9C10YDQtdC3INC90LXQutC+0YLQvtGA0L7QtSDQstGA0LXQvNGPLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnLnBvcHVwX19mb3JtJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jb250YWN0X19mb3JtX3NtYWxsXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLmNvbnRhY3RfX2lucHV0IFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYoIXRlbCAmJiB0ZWwgIT0gJycpe1xyXG4gICAgICAgICAgICAkKCcuY29udGFjdF9faW5wdXQgJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KTsiLCIvLyBmdW5jdGlvbiBpc1Njcm9sbGVkSW50b1ZpZXcoZWwpIHtcclxuLy8gICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbi8vICAgICB2YXIgZWxlbVRvcCA9IHJlY3QudG9wO1xyXG4vLyAgICAgdmFyIGVsZW1Cb3R0b20gPSByZWN0LmJvdHRvbTtcclxuLy9cclxuLy8gICAgIC8vIE9ubHkgY29tcGxldGVseSB2aXNpYmxlIGVsZW1lbnRzIHJldHVybiB0cnVlOlxyXG4vLyAgICAgdmFyIGlzVmlzaWJsZSA9IChlbGVtVG9wID49IDApICYmIChlbGVtQm90dG9tIDw9IHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbi8vICAgICAvLyBQYXJ0aWFsbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcclxuLy8gICAgIC8vaXNWaXNpYmxlID0gZWxlbVRvcCA8IHdpbmRvdy5pbm5lckhlaWdodCAmJiBlbGVtQm90dG9tID49IDA7XHJcbi8vICAgICByZXR1cm4gaXNWaXNpYmxlO1xyXG4vLyB9XHJcbi8vXHJcbi8vICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgY29uc29sZS5sb2coJ2hlcmUnKTtcclxuLy8gICAgIGlmKGlzU2Nyb2xsZWRJbnRvVmlldygkKCcud2F5X190ZXh0LTYnKVswXSkpe1xyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdoZXJlJyk7XHJcbi8vICAgICAgICAgJCgnLndheV9fdGV4dC02JykucmVtb3ZlQ2xhc3MoJ3dheV9fdGV4dC02X25vdFZpc2libGUnKS5hZGRDbGFzcygnd2F5X190ZXh0LTZfZml4ZWQnKTtcclxuLy9cclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKGUpe1xyXG4vLyAgICAgcGFyYWxsYXgoKTtcclxuLy8gfSk7XHJcbi8vXHJcbi8vIGZ1bmN0aW9uIHBhcmFsbGF4KCl7XHJcbi8vICAgICB2YXIgc2Nyb2xsZWQgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XHJcbi8vICAgICAkKCcuYmFja2dyb3VuZCcpLmNzcygndG9wJywtKHNjcm9sbGVkKjAuMTUpKydweCcpO1xyXG4vLyB9XHJcblxyXG4vLyBtYWtlcyB0aGUgcGFyYWxsYXggZWxlbWVudHNcclxuZnVuY3Rpb24gcGFyYWxsYXhJdCgpIHtcclxuICAgIC8vIGNyZWF0ZSB2YXJpYWJsZXNcclxuICAgIHZhciAkZndpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHZhciAkY29udGVudHMgPSBbXTtcclxuICAgIHZhciAkYmFja2dyb3VuZHMgPSBbXTtcclxuXHJcbiAgICAvLyBmb3IgZWFjaCBvZiBjb250ZW50IHBhcmFsbGF4IGVsZW1lbnRcclxuICAgICQoJ1tkYXRhLXR5cGU9XCJjb250ZW50XCJdJykuZWFjaChmdW5jdGlvbihpbmRleCwgZSkge1xyXG4gICAgICAgIHZhciAkY29udGVudE9iaiA9ICQodGhpcyk7XHJcbiAgICAgICAgJGNvbnRlbnRPYmouX19zcGVlZCA9IDI7XHJcbiAgICAgICAgJGNvbnRlbnRPYmouX19mZ09mZnNldCA9ICRjb250ZW50T2JqLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAkY29udGVudHMucHVzaCgkY29udGVudE9iaik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB1cGRhdGUgcG9zaXRpb25zXHJcbiAgICAkZndpbmRvdy5vbignc2Nyb2xsIHJlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICRjb250ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKCRjb250ZW50T2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB5UG9zID0gJGNvbnRlbnRPYmouX19mZ09mZnNldCAtIHNjcm9sbFRvcCAvICRjb250ZW50T2JqLl9fc3BlZWQ7XHJcbiAgICAgICAgICAgICRjb250ZW50T2JqLmNzcygndG9wJywgeVBvcyArIDkwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuICAgIC8vIHRyaWdnZXJzIHdpbm9kdyBzY3JvbGwgZm9yIHJlZnJlc2hcclxuICAgICRmd2luZG93LnRyaWdnZXIoJ3Njcm9sbCcpO1xyXG59O1xyXG5cclxucGFyYWxsYXhJdCgpO1xyXG5cclxuLy8g0LTRg9C80LDQuyDQv9GA0LjQstGP0LfQsNGC0YzRgdGPINC6INC40L3QtNC10LrRgdGDINC40LvQuCDQuiBpZCwg0YDQtdGI0LjQuyDQuiDQv9C+0YDRj9C00LrRgywg0L3QtSDRg9Cy0LXRgNC10L0sINGH0YLQviDRjdGC0L4g0L/RgNCw0LLQuNC70YzQvdC+XHJcbiQoJy53YXlfX3RleHQtMicpLmhvdmVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+IDYwMCl7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgICAgICQoJy53YXlfX3RleHQtMicpLnJlbW92ZUNsYXNzKCd3aGl0ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3doaXRlJyk7XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMCl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9CY0LfRg9GH0LDQtdC8INC60L7QvNC/0LDQvdC40Y4g0Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsiwg0L3QsNGF0L7QtNC40Lwg0L/RgNC10LjQvNGD0YnQtdGB0YLQstCwLCDQt9Cw0LrRgNGL0LLQsNC10Lwg0LLQvtC30YDQsNC20LXQvdC40Y8sINC90LjQstC10LvQuNGA0YPQtdC8INGB0YLRgNCw0YXQuCwg0YHQvtC30LTQsNC10Lwg0YHQuNC70YzQvdC+0LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtS4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18xLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAxKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/RgNC+0LLQvtC00LjQvCBicmFpbiBzdG9ybTog0L/RgNC+0LTRg9C80YvQstCw0LXQvCDRgdGC0YDRg9C60YLRg9GA0YMsINCx0LvQvtC60LgsINGF0LDRgNCw0LrRgtC10YAg0Lgg0YHRgtC40LvRjCDQuNGB0YXQvtC00Y8g0LjQtyDQt9Cw0LTQsNGHINCx0LjQt9C90LXRgdCwLicpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzIucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDIpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQo9C/0YDQsNCy0LvRj9C10Lwg0LLQvdC40LzQsNC90LjQtdC8LCDRgdC+0LfQtNCw0ZHQvCDQuNC90YLQtdGA0LXRgSDQuiDRg9GB0LvRg9Cz0LUv0L/RgNC+0LTRg9C60YLRgyDQsiDRg9C00L7QsdC90L7QuSDQvdCw0LLQuNCz0LDRhtC40Lgg0Lgg0YHRgtC40LvRjNC90L7QvCDQtNC40LfQsNC50L3QtScpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzMucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDMpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQodC+0LfQtNCw0ZHQvCDRjdGE0YTQtdC60YIg0L/RgNC40YHRg9GC0YHRgtCy0LjRjywg4oCc0L/RgNC+0LLQvtC00LjQvCDRjdC60YHQutGD0YDRgdC40Y7igJ0g0L/QviDRgdCw0LnRgtGDLCDQstGL0LLQvtC00LjQvCDRhNC+0LrRg9GBINC90LAg0YbQtdC70LXQstGL0LUg0LTQtdC50YHRgtCy0LjRjy4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X180LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSA0KXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/QvtC00LHQuNGA0LDQtdC8INGG0LXQu9C10LLRi9C1INC00LvRjyDQvdC40YjQuCDRgNC10LrQu9Cw0LzQvdGL0LUg0L/Qu9C+0YnQsNC00LggKFBQQywgc21tKSDQv9C+0LzQvtCz0LDQtdC8INC+0YLQsdC40YLRjCDQt9Cw0YLRgNCw0YLRiyDQvdCwINGA0LXQutC70LDQvNGDINC4INCy0YvQudGC0Lgg0LIg0L/RgNC40LHRi9C70YwnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X181LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSA1KXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQutGA0LXQv9C70Y/QtdC8INC40LzQuNC00LYg0LHRgNC10L3QtNCwLCDRgdC+0LHQuNGA0LDQtdC8INC4INC+0L/RgtC40LzQuNC30LjRgNGD0LXQvCDRgNC10LfRg9C70YzRgtCw0YLRiycpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzYucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIC8vbW9iaWxlIHNsaWRlciBzdGFydFxyXG4vLyBpZigkKHdpbmRvdykud2lkdGgoKSA8PSA2MDApe1xyXG4vLyAgICAgd2F5U2xpZGVyKCk7XHJcbi8vIH1cclxuLy9cclxuLy8gJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpe1xyXG4vLyAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcclxuLy8gICAgICAgICB3YXlTbGlkZXIoKTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG4vLyBmdW5jdGlvbiB3YXlTbGlkZXIoKXtcclxuLy8gICAgIHZhciBjb3VudE9mQ2FyZCA9ICQoJy53YXlfX2NhcmQnKS5sZW5ndGg7XHJcbi8vICAgICB2YXIgd2lkdGhDYXJkID0gJCgnLndheV9fY2FyZCcpLm91dGVyV2lkdGgodHJ1ZSk7XHJcbi8vXHJcbi8vICAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGNvdW50T2ZDYXJkKTtcclxuLy9cclxuLy8gICAgIC8vINGC0YDQvtGC0LvQuNC90LNcclxuLy8gICAgICQoICcud2F5X19vdmVyZmxvdycgKS5zY3JvbGwodGhyb3R0bGUoZnVuY3Rpb24oKXtcclxuLy8gICAgICAgICAgICAgdmFyIGxlZnQgPSAkKCcud2F5X19vdmVyZmxvdycpLnNjcm9sbExlZnQoKTtcclxuLy8gICAgICAgICAgICAgLy/QuNGJ0YMg0LrQsNC60L7QuSDRjdC70LXQvNC10L3RgtCwLCAyNSDRhNCw0L3RgtC+0LzQvdC+0LUg0YfQuNGB0LvQviDQtNC70Y8g0LHQvtC70LXQtSDQu9C+0LPQuNGH0L3Ri9GFINC00LDQvdC90YvRhVxyXG4vLyAgICAgICAgICAgICAkKCcud2F5X190ZXh0LTdfY291bnQnKS50ZXh0KCAnMCcgKyAoIChNYXRoLmZsb29yKCBsZWZ0IC8gKCB3aWR0aENhcmQgLSAyNSApKSkgKyAxICkpO1xyXG4vL1xyXG4vLyAgICAgICAgIH0sNTApXHJcbi8vICAgICApO1xyXG4vLyB9XHJcbi8vIGZ1bmN0aW9uIHRocm90dGxlKGZuLCB3YWl0KSB7XHJcbi8vICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XHJcbi8vICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgaWYgKCh0aW1lICsgd2FpdCAtIERhdGUubm93KCkpIDwgMCkge1xyXG4vLyAgICAgICAgICAgICBmbigpO1xyXG4vLyAgICAgICAgICAgICB0aW1lID0gRGF0ZS5ub3coKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH13YXlfX3NsaWRlclxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgb3dsV2F5ID0gJCgnLndheV9fc2xpZGVyJyk7XHJcbiAgICBvd2xXYXkub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6dHJ1ZSxcclxuICAgICAgICBvbkluaXRpYWxpemVkOiBvd2xJbml0LFxyXG4gICAgICAgIGF1dG9XaWR0aDp0cnVlLFxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6NzUwXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvd2xJbml0KGV2ZW50KSB7XHJcbiAgICAgICAgJCgnLndheV9fdGV4dC03X3RvdGFsJykudGV4dCgnMCcgKyBldmVudC5pdGVtLmNvdW50KTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcud2F5X19hcnJvdy1saW5rX3InKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBvd2xXYXkudHJpZ2dlcignbmV4dC5vd2wuY2Fyb3VzZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG93bFdheS50cmlnZ2VyKCdwcmV2Lm93bC5jYXJvdXNlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHByZXZGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAvL21hZ2ljIGZvciBvd2wgY2Fyb3VzZWwgc3RhcnQgd29ya1xyXG4gICAgb3dsV2F5Lm9uKCdwcmV2Lm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgcHJldkZsYWcgPSB0cnVlXHJcbiAgICB9KTtcclxuICAgIG93bFdheS5vbignY2hhbmdlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBvd2xJdGVtcyAgPSBldmVudC5pdGVtLmNvdW50OyAgIC8vIFRvdGFsIG51bWJlciBvZiBpdGVtcyAoY29uc2lzdGVudCBhbmQgYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGl0ZW0gICAgICA9IGV2ZW50Lml0ZW0uaW5kZXg7ICAgLy8gT3dsIHJlcG9ydGVkIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGluY29uc2lzdGVudCBhbmQgaW5hY2N1cmF0ZSlcclxuICAgICAgICB2YXIgY2FsY0l0ZW0gID0gTWF0aC5mbG9vcihpdGVtIC0gKG93bEl0ZW1zIC8gMikgKyAxKTsgLy8gc2xpZ2h0bHkgbW9yZSBsb2dpY2FsIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGlmIG5vdCBmcm9tIHByZXZpb3VzIGNsaWNrKVxyXG5cclxuICAgICAgICAvLyBpZiBmcm9tIHByZXZpb3VzIGNsaWNrXHJcbiAgICAgICAgaWYocHJldkZsYWcpIHtcclxuICAgICAgICAgICAgaWYgKGNhbGNJdGVtID09PSAwKSB7ICAvLyByZXBvcnRzIDAgaW5zdGVhZCBvZiBsYXN0IHZhbHVlXHJcbiAgICAgICAgICAgICAgICBjYWxjSXRlbSA9IG93bEl0ZW1zOyAvLyBzb2x2ZSB0aGF0IHByb2JsZW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaGFuZGxlIHZhbHVlcyB0aGF0IGZhbGwgb3V0c2lkZSBvZiBsb2dpY2FsIG1pbi9tYXggYm91bmRzXHJcbiAgICAgICAgaWYocHJldkZsYWcgPT09IGZhbHNlICYmIGNhbGNJdGVtID09PSAwIHx8IGNhbGNJdGVtID4gb3dsSXRlbXMpIHtcclxuICAgICAgICAgICAgY2FsY0l0ZW0gPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJldkZsYWcgPSBmYWxzZVxyXG5cclxuICAgICAgICAkKCcud2F5X190ZXh0LTdfY291bnQnKS50ZXh0KCcwJyArIGNhbGNJdGVtKTtcclxuXHJcbiAgICB9KVxyXG59KTsiLCJuZXcgV09XKCkuaW5pdCgpOyIsInZhciBjdXJzb3IgPSB7XHJcbiAgICBkZWxheTogOCxcclxuICAgIF94OiAwLFxyXG4gICAgX3k6IDAsXHJcbiAgICBlbmRYOiAod2luZG93LmlubmVyV2lkdGggLyAyKSxcclxuICAgIGVuZFk6ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSxcclxuICAgIGN1cnNvclZpc2libGU6IHRydWUsXHJcbiAgICBjdXJzb3JFbmxhcmdlZDogZmFsc2UsXHJcbiAgICAkZG90OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdCcpLFxyXG4gICAgJG91dGxpbmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90LW91dGxpbmUnKSxcclxuXHJcbiAgICBpbml0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBTZXQgdXAgZWxlbWVudCBzaXplc1xyXG4gICAgICAgIHRoaXMuZG90U2l6ZSA9IHRoaXMuJGRvdC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB0aGlzLm91dGxpbmVTaXplID0gdGhpcy4kb3V0bGluZS5vZmZzZXRXaWR0aDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlRG90T3V0bGluZSgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzZXR1cEV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIC8vIEFuY2hvciBob3ZlcmluZ1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vY3VzdG9tIGhvdmVyXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1cnNvcicpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDbGljayBldmVudHNcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJzb3JcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiB0aGUgZG90XHJcbiAgICAgICAgICAgIHNlbGYuZW5kWCA9IGUucGFnZVg7XHJcbiAgICAgICAgICAgIHNlbGYuZW5kWSA9IGUucGFnZVk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50b3AgPSBzZWxmLmVuZFkgKyAncHgnO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUubGVmdCA9IHNlbGYuZW5kWCArICdweCc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhpZGUvc2hvdyBjdXJzb3JcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBhbmltYXRlRG90T3V0bGluZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLl94ICs9IChzZWxmLmVuZFggLSBzZWxmLl94KSAvIHNlbGYuZGVsYXk7XHJcbiAgICAgICAgc2VsZi5feSArPSAoc2VsZi5lbmRZIC0gc2VsZi5feSkgLyBzZWxmLmRlbGF5O1xyXG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudG9wID0gc2VsZi5feSArICdweCc7XHJcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5sZWZ0ID0gc2VsZi5feCArICdweCc7XHJcblxyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVEb3RPdXRsaW5lLmJpbmQoc2VsZikpO1xyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVDdXJzb3JTaXplOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmN1cnNvckVubGFyZ2VkKSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDAuNzUpJztcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDIpJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB0b2dnbGVDdXJzb3JWaXNpYmlsaXR5OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmN1cnNvclZpc2libGUpIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmN1cnNvci5pbml0KCk7Il19
