(new WOW).init();
$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){$(window).width()<600&&($(this).hasClass("active")?($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")):($("body").addClass("header__overflow-hidden"),$("html").addClass("header__overflow-hidden"))),$(this).toggleClass("active"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),$(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden"))}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),_=$(".menu");a.is(e.target)||0!==a.has(e.target).length||_.is(e.target)||0!==_.has(e.target).length||($(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=1200&&($("body").addClass("overflow-hidden"),$("html").addClass("overflow-hidden")),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__text-1").text("Обсудить проект"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-1").text("Расскажите о себе"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-1").text("Забрать свою суперсилу"),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-1").text("Big represent"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-1").text("Sales promotion"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-1").text("Wow branding"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-1").text("Презентация"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(function(){$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();t||""==t||$(".popup__name").attr("placeholder","Заполните это поле!"),e||""==e||$(".popup__tel").attr("placeholder","Заполните это поле!");var a={name:t,email:$(".popup__email").val(),tel:e,message:$(".popup__email").val()};console.log(a),$.ajax({type:"POST",url:"sendMail.php",data:a,success:function(p){JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}),$(".contact__form_small").submit(function(p){var t=$(".contact__input ").val();t||""==t||$(".contact__input ").attr("placeholder","Заполните это поле!")})});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9jb21tb24vY29tbW9uLmpzIiwiZm9vdGVyL2Zvb3Rlci5qcyIsImhlYWRlci9oZWFkZXIuanMiLCJtYWluL21haW4uanMiLCJwb3B1cC9wb3B1cC5qcyIsInBvcnRmb2xpby9wb3J0Zm9saW8uanMiLCJwcmljZS9wcmljZS5qcyIsInNlbmRNYWlsL3NlbmRNYWlsLmpzIiwid2F5L3dheS5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyJXT1ciLCJpbml0IiwiJCIsImVhY2giLCJ0aGlzIiwiY2xpY2siLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwid2luZG93Iiwid2lkdGgiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwiYXR0ciIsIm9mZnNldCIsInRvcCIsImRvY3VtZW50IiwibW91c2V1cCIsImNvbnRhaW5lciIsImNvbnRhaW5lck1lbnUiLCJpcyIsInRhcmdldCIsImhhcyIsImxlbmd0aCIsInBvcHVwU2FtZSIsInRleHQiLCJodG1sIiwicmVhZHkiLCJvd2wiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJvbkluaXRpYWxpemVkIiwiZXZlbnQiLCJpdGVtIiwiY291bnQiLCJhdXRvV2lkdGgiLCJzbWFydFNwZWVkIiwidHJpZ2dlciIsInByZXZGbGFnIiwib24iLCJvd2xJdGVtcyIsImluZGV4IiwiY2FsY0l0ZW0iLCJNYXRoIiwiZmxvb3IiLCJob3ZlciIsImZpbmQiLCJzdWJtaXQiLCJuYW1lIiwidmFsIiwidGVsIiwiZGF0YSIsImVtYWlsIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJhamF4IiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJKU09OIiwicGFyc2UiLCJlcnJvciIsInBhcmFsbGF4SXQiLCIkZndpbmRvdyIsInBhZ2VZT2Zmc2V0IiwiZG9jdW1lbnRFbGVtZW50IiwiJGNvbnRlbnRzIiwiJGNvbnRlbnRPYmoiLCJfX3NwZWVkIiwiX19mZ09mZnNldCIsInB1c2giLCJmb3JFYWNoIiwieVBvcyIsImNzcyIsIm93bFdheSIsImN1cnNvciIsImRlbGF5IiwiX3giLCJfeSIsImVuZFgiLCJpbm5lcldpZHRoIiwiZW5kWSIsImlubmVySGVpZ2h0IiwiY3Vyc29yVmlzaWJsZSIsImN1cnNvckVubGFyZ2VkIiwiJGRvdCIsInF1ZXJ5U2VsZWN0b3IiLCIkb3V0bGluZSIsImRvdFNpemUiLCJvZmZzZXRXaWR0aCIsIm91dGxpbmVTaXplIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFuaW1hdGVEb3RPdXRsaW5lIiwic2VsZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDdXJzb3JTaXplIiwidG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSIsInBhZ2VYIiwicGFnZVkiLCJzdHlsZSIsImxlZnQiLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRyYW5zZm9ybSJdLCJtYXBwaW5ncyI6IkNBQUEsSUFBSUEsS0FBTUM7QUNBVkMsRUFBRSxtQkFBbUJDLEtBQUssV0FDdEJELEVBQUVFLE1BQU1DLE1BQU0sV0FFVixPQURBSCxFQUFFLGFBQWFJLFFBQVEsQ0FBRUMsVUFBVyxHQUFLLFNBQ2xDO0FDRGZMLEVBQUUsU0FBU0csTUFBTSxXQUNWSCxFQUFFTSxRQUFRQyxRQUFVLE1BQ2ZQLEVBQUVFLE1BQU1NLFNBQVMsV0FJakJSLEVBQUUsUUFBUVMsWUFBWSwyQkFDdEJULEVBQUUsUUFBUVMsWUFBWSw2QkFKdEJULEVBQUUsUUFBUVUsU0FBUywyQkFDbkJWLEVBQUUsUUFBUVUsU0FBUyw2QkFNM0JWLEVBQUVFLE1BQU1TLFlBQVksVUFDcEJYLEVBQUUsaUJBQWlCVyxZQUFZLHVCQUMvQlgsRUFBRSxhQUFhVyxZQUFZLGVBQzNCWCxFQUFFLGlCQUFpQlcsWUFBWSxRQUMvQlgsRUFBRSxpQkFBaUJXLFlBQVkseUJBR25DWCxFQUFFLGdCQUFnQkcsTUFBTSxXQUNwQkgs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QU1FLFFBQVUsSUFHbEN4RixTQUFTaUYsaUJBQWlCLGFBQWMsU0FBU3ZGLEdBQzdDb0YsRUFBS1YsZUFBZ0IsRUFDckJVLEVBQUtLLHlCQUNMTCxFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxLQUl0Q1gsa0JBQW1CLFdBQ2YsSUFBSUMsRUFBTzlGLEtBRVg4RixFQUFLaEIsS0FBT2dCLEVBQUtkLEtBQU9jLEVBQUtoQixJQUFNZ0IsRUFBS2pCLE1BQ3hDaUIsRUFBS2YsS0FBT2UsRUFBS1osS0FBT1ksRUFBS2YsSUFBTWUsRUFBS2pCLE1BQ3hDaUIsRUFBS04sU0FBU2MsTUFBTXZGLElBQU0rRSxFQUFLZixHQUFLLEtBQ3BDZSxFQUFLTixTQUFTYyxNQUFNQyxLQUFPVCxFQUFLaEIsR0FBSyxLQUVyQzJCLHNCQUFzQnpHLEtBQUs2RixrQkFBa0JhLEtBQUtaLEtBR3RESSxpQkFBa0IsV0FDZCxJQUFJSixFQUFPOUYsS0FFUDhGLEVBQUtULGdCQUNMUyxFQUFLUixLQUFLZ0IsTUFBTUssVUFBWSxvQ0FDNUJiLEVBQUtOLFNBQVNjLE1BQU1LLFVBQVksbUNBRWhDYixFQUFLUixLQUFLZ0IsTUFBTUssVUFBWSxpQ0FDNUJiLEVBQUtOLFNBQVNjLE1BQU1LLFVBQVksbUNBSXhDUix1QkFBd0IsV0FDcEIsSUFBSUwsRUFBTzlGLEtBRVA4RixFQUFLVixlQUNMVSxFQUFLUixLQUFLZ0IsTUFBTUUsUUFBVSxFQUMxQlYsRUFBS04sU0FBU2MsTUFBTUUsUUFBVSxJQUU5QlYsRUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsS0FLMUM1QixPQUFPL0UiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm5ldyBXT1coKS5pbml0KCk7IiwiJCgnLmNvbnRhY3RfX2Fycm93JykuZWFjaChmdW5jdGlvbigpe1xuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAnc2xvdycpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59KTsiLCJcbi8vIG9wZW4gbWVudVxuJCgnLm1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDwgNjAwKXtcbiAgICAgICAgaWYoISQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XG4gICAgJCgnLm1lbnUgZGl2JykudG9nZ2xlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XG4gICAgJCgnLm1haW5fX3RleHQtMicpLnRvZ2dsZUNsYXNzKCdoaWRlJyk7XG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnRvZ2dsZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XG59KTtcblxuJCgnLm1lbnVfYWN0aXZlJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5oZWFkZXJfX21lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xuICAgIGlmKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX292ZXJmbG93LWhpZGRlbicpO1xuICAgIH1cbn0pO1xuXG4vL3Ntb290aCBzY3JvbGxpbmcgdG8gYmxvY2tcbiQoJy5oZWFkZXJfX3RleHQtMScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiAkKGlkKS5vZmZzZXQoKS50b3B9LCAxMDAwKTtcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcbiAgICAkKCcubWFpbl9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcbn0pO1xuXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgbWVudVxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcbiAgICB2YXIgY29udGFpbmVyID0gJCgnLmhlYWRlcl9fbWVudScpO1xuICAgIHZhciBjb250YWluZXJNZW51ID0gJCgnLm1lbnUnKTtcblxuICAgIC8vIGlmIHRoZSB0YXJnZXQgb2YgdGhlIGNsaWNrIGlzbid0IHRoZSBjb250YWluZXIgbm9yIGEgZGVzY2VuZGFudCBvZiB0aGUgY29udGFpbmVyXG4gICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXG4gICAgICAgICghY29udGFpbmVyTWVudS5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyTWVudS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkgKSB7XG4gICAgICAgIGlmKCQod2luZG93KS53aWR0aCgpIDwgNjAwKSB7XG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICAgICAkKCdodG1sJykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XG4gICAgICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xuICAgICAgICAkKCcubWFpbl9fdGV4dC0yJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XG4gICAgfVxufSk7IiwiIiwiJCgnLnBvcHVwX19tZW51JykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgJCgnLnBvcHVwJykucmVtb3ZlQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xufSk7XG5cbiQoJy5tYWluX190ZXh0LTcsIC53YXlfX3RleHQtNSwubWFpbl9fYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0J7QsdGB0YPQtNC40YLRjCDQv9GA0L7QtdC60YInKTtcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcblxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykuaHRtbChcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCw8L3NwYW4+XFxuJyArXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCI+0LIg0LrQvtGC0L7RgNGL0YUg0LLQsNC8INC60L7QvNGE0L7RgNGC0L3QviDQvtCx0YnQsNGC0YzRgdGPIC08L3NwYW4+XFxuJyArXG4gICAgICAgICc8c3BhbiBjbGFzcz1cInNtYXJ0LWJyZWFrXCIgPtC90LDQv9C40YjQtdC8INCyINC80LXRgdGB0LXQtNC20LXRgCDQuNC70Lgg0L/QtdGA0LXQt9Cy0L7QvdC40LwuPC9zcGFuPidcbiAgICApO1xufSk7XG5cbiQoJy5tYWluX190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgcG9wdXBTYW1lKCk7XG5cbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LLQvtC90L7QuiDQsiDRgdCy0LXRgtC70L7QtSDQsdGD0LTRg9GJ0LXQtSDQstCw0YjQtdC5INC60L7QvNC/0LDQvdC40LggLSDQv9C40YjQuNGC0LUsINC80Ysg0L3QsCDQu9C40L3QuNC4LicpO1xuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xufSk7XG5cbiQoJy5hYm91dF9fdGV4dC0yJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQoNCw0YHRgdC60LDQttC40YLQtSDQviDRgdC10LHQtScpO1xuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KDQsNGB0YHQutCw0LbQuNGC0LUg0L4g0LTQtdC70LUsINC60L7RgtC+0YDQvtC1INCy0LTQvtGF0L3QvtCy0LvRj9C10YIg0LLQsNGBINC/0YDQvtGB0YvQv9Cw0YLRjNGB0Y8g0L/QviDRg9GC0YDQsNC8LCDQviDQv9C70LDQvdCw0YUg0Lgg0LzQtdGH0YLQsNGFINC90LAg0LHRg9C00YPRidC10LUuJyk7XG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmxhbmRpbmctcG93ZXJfX3RleHQtNicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBwb3B1cFNhbWUoKTtcblxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0JfQsNCx0YDQsNGC0Ywg0YHQstC+0Y4g0YHRg9C/0LXRgNGB0LjQu9GDJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGA0LXQvNGPINC/0L7RgdGC0LjRh9GMINC00LfQtdC9INC4INC/0YDQtdC30LXQvdGC0L7QstCw0YLRjCDQvNC40YDRgyDRgdCy0L7QuSDQsdC40LfQvdC10YEuJyk7XG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG59KTtcblxuJCgnLmJpZ19fcmVwcmVzZW50JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCdCaWcgcmVwcmVzZW50Jyk7XG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQotGD0YIg0L3QsNGH0LjQvdCw0LXRgtGB0Y8g0L/Rg9GC0Ywg0Log0L/RgNC40LfQvdCw0L3QuNGOINC4INGD0LfQvdCw0LLQsNC10LzQvtGB0YLQuC4nKTtcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbn0pO1xuXG4kKCcuc2FsZXNfcHJvbW90aW9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCdTYWxlcyBwcm9tb3Rpb24nKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cn0LXRgdGC0L3Ri9C5INC/0YPRgtGMINC6INGB0L7QutGA0L7QstC40YnQsNC8INC4INC80LjQu9C70LjQvtC90LDQvC4nKTtcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbn0pO1xuXG4kKCcud293X2JyYW5kaW5nJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCdXb3cgYnJhbmRpbmcnKTtcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CS0Ysg0L3QsNGI0LvQuCDQsdC+0LzQsdC40YfQtdGB0LrQuNC5INC+0LPQvtC90Ywg0LTQu9GPINCw0LHRgdC+0LvRjtGC0L3QvtC5INCy0LvQsNGB0YLQuCDQvdCw0LQg0LzQuNGA0L7QvC4nKTtcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbn0pO1xuXG4kKCcuaW5saW5lX190ZXh0LTIsLmlubGluZV9fYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwU2FtZSgpO1xuXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQn9GA0LXQt9C10L3RgtCw0YbQuNGPJyk7XG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cw0L/QvtC70L3QuNGC0LUg0YTQvtGA0LzRgyAtINC+0YLQv9GA0LDQstC40Lwg0LLQsNC8INC/0YDQtdC30LXQvdGC0LDRhtC40Y4g0Lgg0L/QvtC80L7QttC10Lwg0YEg0L/Qu9Cw0L3QvtC8INGA0LDQt9Cy0LjRgtC40Lgg0LrQvtC80L/QsNC90LjQuC4nKTtcbiAgICAkKCcucG9wdXBfX2VtYWlsJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xuICAgICQoJy5wb3B1cF9fdGV4dCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcbn0pO1xuXG5mdW5jdGlvbiBwb3B1cFNhbWUoKSB7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gMTIwMCl7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICQoJ2h0bWwnKS5hZGRDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgfVxuICAgICQoJy5wb3B1cF9fZm9ybScpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xufVxuXG5cbi8vY2hlY2sgaWYgY2xpY2sgb3V0c2lkZSBwb3B1cFxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcbiAgICB2YXIgY29udGFpbmVyID0gJCgnLnBvcHVwJyk7XG4gICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lciBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcbiAgICBpZiAoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9hY3RpdmUnKTtcbiAgICB9XG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgIHZhciBvd2wgPSAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpO1xuICAgIG93bC5vd2xDYXJvdXNlbCh7XG4gICAgICAgIGxvb3A6dHJ1ZSxcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXG4gICAgICAgIHNtYXJ0U3BlZWQ6NzUwXG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvd2xJbml0KGV2ZW50KSB7XG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl90b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XG4gICAgfVxuXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7ICAgb3dsLnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7ICAgIH0pO1xuICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmNsaWNrKGZ1bmN0aW9uKCkgeyAgIG93bC50cmlnZ2VyKCdwcmV2Lm93bC5jYXJvdXNlbCcpOyAgICB9KTtcblxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XG5cbiAgICAvL21hZ2ljIGZvciBvd2wgY2Fyb3VzZWwgc3RhcnQgd29ya1xuICAgIG93bC5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBwcmV2RmxhZyA9IHRydWVcbiAgICB9KTtcbiAgICBvd2wub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcbiAgICAgICAgdmFyIGl0ZW0gICAgICA9IGV2ZW50Lml0ZW0uaW5kZXg7ICAgLy8gT3dsIHJlcG9ydGVkIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGluY29uc2lzdGVudCBhbmQgaW5hY2N1cmF0ZSlcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcblxuICAgICAgICAvLyBpZiBmcm9tIHByZXZpb3VzIGNsaWNrXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcbiAgICAgICAgICAgICAgICBjYWxjSXRlbSA9IG93bEl0ZW1zOyAvLyBzb2x2ZSB0aGF0IHByb2JsZW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xuICAgICAgICAgICAgY2FsY0l0ZW0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIHByZXZGbGFnID0gZmFsc2U7XG5cbiAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XG4gICAgfSlcbn0pOyIsIiQoJy5wcmljZV9fY2FyZCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAkKCcucHJpY2VfX2NhcmQsIC5wcmljZV9faW1nICcpLnJlbW92ZUNsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdvcGFjaXR5LTEnKTtcbiAgICAkKCcucHJpY2VfX2ltZy1pdGVtJykucmVtb3ZlQ2xhc3MoJ3ByaWNlX19pbWctaXRlbV9hY3RpdmUnKTtcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nJykuYWRkQ2xhc3MoJ29wYWNpdHktMScpO1xuICAgICQodGhpcykuZmluZCgnLnByaWNlX19pbWctaXRlbScpLmFkZENsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiLnBvcHVwX19mb3JtXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBuYW1lID0gJChcIi5wb3B1cF9fbmFtZVwiKS52YWwoKTtcbiAgICAgICAgdmFyIHRlbCA9ICQoXCIucG9wdXBfX3RlbFwiKS52YWwoKTtcbiAgICAgICAgaWYoIW5hbWUgJiYgbmFtZSAhPSAnJyApe1xuICAgICAgICAgICAgJCgnLnBvcHVwX19uYW1lJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXRlbCAmJiB0ZWwgIT0gJycpe1xuICAgICAgICAgICAgJCgnLnBvcHVwX190ZWwnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1IVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiAkKFwiLnBvcHVwX19lbWFpbFwiKS52YWwoKSxcbiAgICAgICAgICAgIHRlbDogdGVsLFxuICAgICAgICAgICAgbWVzc2FnZTogJChcIi5wb3B1cF9fZW1haWxcIikudmFsKClcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJzZW5kTWFpbC5waHBcIixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBhbnN3ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICBpZighYW5zdy5lcnJvcil7XG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0JfQsNGP0LLQutCwINC/0YDQuNC90Y/RgtCwIScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ9Ce0YHRgtCw0LLRjNGC0LUg0LTQsNC90L3Ri9C1INC00LvRjyDRgdCy0Y/Qt9C4LFxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ9CyINC60L7RgtC+0YDRi9GFINCy0LDQvCDQutC+0LzRhNC+0YDRgtC90L4g0L7QsdGJ0LDRgtGM0YHRjyAtXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAn0L3QsNC/0LjRiNC10Lwg0LIg0LzQtdGB0YHQtdC00LbQtdGAINC40LvQuCDQv9C10YDQtdC30LLQvtC90LjQvC4nKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQotC10YUuINC+0YjQuNCx0LrQsCEnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQn9C+0L/RgNC+0LHRg9C50YLQtSDQv9C+0LLRgtC+0YDQuNGC0Ywg0YfQtdGA0LXQtyDQvdC10LrQvtGC0L7RgNC+0LUg0LLRgNC10LzRjy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJCgnLnBvcHVwX19mb3JtJykuYWRkQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmNvbnRhY3RfX2Zvcm1fc21hbGxcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLmNvbnRhY3RfX2lucHV0IFwiKS52YWwoKTtcblxuICAgICAgICBpZighdGVsICYmIHRlbCAhPSAnJyl7XG4gICAgICAgICAgICAkKCcuY29udGFjdF9faW5wdXQgJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSk7IiwiLy8gbWFrZXMgdGhlIHBhcmFsbGF4IGVsZW1lbnRzXG5mdW5jdGlvbiBwYXJhbGxheEl0KCkge1xuICAgIC8vIGNyZWF0ZSB2YXJpYWJsZXNcbiAgICB2YXIgJGZ3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgdmFyIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgIHZhciAkY29udGVudHMgPSBbXTtcbiAgICB2YXIgJGJhY2tncm91bmRzID0gW107XG5cbiAgICAvLyBmb3IgZWFjaCBvZiBjb250ZW50IHBhcmFsbGF4IGVsZW1lbnRcbiAgICAkKCdbZGF0YS10eXBlPVwiY29udGVudFwiXScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGUpIHtcbiAgICAgICAgdmFyICRjb250ZW50T2JqID0gJCh0aGlzKTtcbiAgICAgICAgJGNvbnRlbnRPYmouX19zcGVlZCA9IDI7XG4gICAgICAgICRjb250ZW50T2JqLl9fZmdPZmZzZXQgPSAkY29udGVudE9iai5vZmZzZXQoKS50b3A7XG4gICAgICAgICRjb250ZW50cy5wdXNoKCRjb250ZW50T2JqKTtcbiAgICB9KTtcblxuICAgIC8vIHVwZGF0ZSBwb3NpdGlvbnNcbiAgICAkZndpbmRvdy5vbignc2Nyb2xsIHJlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgJGNvbnRlbnRzLmZvckVhY2goZnVuY3Rpb24oJGNvbnRlbnRPYmopIHtcbiAgICAgICAgICAgIHZhciB5UG9zID0gJGNvbnRlbnRPYmouX19mZ09mZnNldCAtIHNjcm9sbFRvcCAvICRjb250ZW50T2JqLl9fc3BlZWQ7XG4gICAgICAgICAgICAkY29udGVudE9iai5jc3MoJ3RvcCcsIHlQb3MgKyA5MDApO1xuICAgICAgICB9KVxuXG4gICAgfSk7XG4gICAgLy8gdHJpZ2dlcnMgd2lub2R3IHNjcm9sbCBmb3IgcmVmcmVzaFxuICAgICRmd2luZG93LnRyaWdnZXIoJ3Njcm9sbCcpO1xufTtcblxucGFyYWxsYXhJdCgpO1xuXG4vLyDQtNGD0LzQsNC7INC/0YDQuNCy0Y/Qt9Cw0YLRjNGB0Y8g0Log0LjQvdC00LXQutGB0YMg0LjQu9C4INC6IGlkLCDRgNC10YjQuNC7INC6INC/0L7RgNGP0LTQutGDLCDQvdC1INGD0LLQtdGA0LXQvSwg0YfRgtC+INGN0YLQviDQv9GA0LDQstC40LvRjNC90L5cbiQoJy53YXlfX3RleHQtMicpLmhvdmVyKGZ1bmN0aW9uIChlKSB7XG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPiA2MDApe1xuICAgICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XG4gICAgICAgICQoJy53YXlfX3RleHQtMicpLnJlbW92ZUNsYXNzKCd3aGl0ZScpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd3aGl0ZScpO1xuICAgICAgICBpZihpbmRleCA9PSAwKXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9CY0LfRg9GH0LDQtdC8INC60L7QvNC/0LDQvdC40Y4g0Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsiwg0L3QsNGF0L7QtNC40Lwg0L/RgNC10LjQvNGD0YnQtdGB0YLQstCwLCDQt9Cw0LrRgNGL0LLQsNC10Lwg0LLQvtC30YDQsNC20LXQvdC40Y8sINC90LjQstC10LvQuNGA0YPQtdC8INGB0YLRgNCw0YXQuCwg0YHQvtC30LTQsNC10Lwg0YHQuNC70YzQvdC+0LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtS4nKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMS5wbmcpJylcbiAgICAgICAgfVxuICAgICAgICBpZihpbmRleCA9PSAxKXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0YDQvtCy0L7QtNC40LwgYnJhaW4gc3Rvcm06INC/0YDQvtC00YPQvNGL0LLQsNC10Lwg0YHRgtGA0YPQutGC0YPRgNGDLCDQsdC70L7QutC4LCDRhdCw0YDQsNC60YLQtdGAINC4INGB0YLQuNC70Ywg0LjRgdGF0L7QtNGPINC40Lcg0LfQsNC00LDRhyDQsdC40LfQvdC10YHQsC4nKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMi5wbmcpJylcbiAgICAgICAgfVxuICAgICAgICBpZihpbmRleCA9PSAyKXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0L/RgNCw0LLQu9GP0LXQvCDQstC90LjQvNCw0L3QuNC10LwsINGB0L7Qt9C00LDRkdC8INC40L3RgtC10YDQtdGBINC6INGD0YHQu9GD0LPQtS/Qv9GA0L7QtNGD0LrRgtGDINCyINGD0LTQvtCx0L3QvtC5INC90LDQstC40LPQsNGG0LjQuCDQuCDRgdGC0LjQu9GM0L3QvtC8INC00LjQt9Cw0LnQvdC1Jyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzMucG5nKScpXG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5kZXggPT0gMyl7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQodC+0LfQtNCw0ZHQvCDRjdGE0YTQtdC60YIg0L/RgNC40YHRg9GC0YHRgtCy0LjRjywg4oCc0L/RgNC+0LLQvtC00LjQvCDRjdC60YHQutGD0YDRgdC40Y7igJ0g0L/QviDRgdCw0LnRgtGDLCDQstGL0LLQvtC00LjQvCDRhNC+0LrRg9GBINC90LAg0YbQtdC70LXQstGL0LUg0LTQtdC50YHRgtCy0LjRjy4nKTtcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNC5wbmcpJylcbiAgICAgICAgfVxuICAgICAgICBpZihpbmRleCA9PSA0KXtcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0L7QtNCx0LjRgNCw0LXQvCDRhtC10LvQtdCy0YvQtSDQtNC70Y8g0L3QuNGI0Lgg0YDQtdC60LvQsNC80L3Ri9C1INC/0LvQvtGJ0LDQtNC4IChQUEMsIHNtbSkg0L/QvtC80L7Qs9Cw0LXQvCDQvtGC0LHQuNGC0Ywg0LfQsNGC0YDQsNGC0Ysg0L3QsCDRgNC10LrQu9Cw0LzRgyDQuCDQstGL0LnRgtC4INCyINC/0YDQuNCx0YvQu9GMJyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzUucG5nKScpXG4gICAgICAgIH1cbiAgICAgICAgaWYoaW5kZXggPT0gNSl7XG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQo9C60YDQtdC/0LvRj9C10Lwg0LjQvNC40LTQtiDQsdGA0LXQvdC00LAsINGB0L7QsdC40YDQsNC10Lwg0Lgg0L7Qv9GC0LjQvNC40LfQuNGA0YPQtdC8INGA0LXQt9GD0LvRjNGC0LDRgtGLJyk7XG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzYucG5nKScpXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgIHZhciBvd2xXYXkgPSAkKCcud2F5X19zbGlkZXInKTtcbiAgICBvd2xXYXkub3dsQ2Fyb3VzZWwoe1xuICAgICAgICBsb29wOnRydWUsXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXG4gICAgICAgIGF1dG9XaWR0aDp0cnVlLFxuICAgICAgICBzbWFydFNwZWVkOjc1MFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xuICAgICAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xuICAgIH1cblxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBvd2xXYXkudHJpZ2dlcignbmV4dC5vd2wuY2Fyb3VzZWwnKTtcbiAgICB9KTtcblxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBvd2xXYXkudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTtcbiAgICB9KTtcblxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XG5cbiAgICAvL21hZ2ljIGZvciBvd2wgY2Fyb3VzZWwgc3RhcnQgd29ya1xuICAgIG93bFdheS5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBwcmV2RmxhZyA9IHRydWVcbiAgICB9KTtcbiAgICBvd2xXYXkub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcbiAgICAgICAgdmFyIGl0ZW0gICAgICA9IGV2ZW50Lml0ZW0uaW5kZXg7ICAgLy8gT3dsIHJlcG9ydGVkIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGluY29uc2lzdGVudCBhbmQgaW5hY2N1cmF0ZSlcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcblxuICAgICAgICAvLyBpZiBmcm9tIHByZXZpb3VzIGNsaWNrXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcbiAgICAgICAgICAgICAgICBjYWxjSXRlbSA9IG93bEl0ZW1zOyAvLyBzb2x2ZSB0aGF0IHByb2JsZW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xuICAgICAgICAgICAgY2FsY0l0ZW0gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldkZsYWcgPSBmYWxzZVxuXG4gICAgICAgICQoJy53YXlfX3RleHQtN19jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xuXG4gICAgfSlcbn0pOyIsInZhciBjdXJzb3IgPSB7XG4gICAgZGVsYXk6IDgsXG4gICAgX3g6IDAsXG4gICAgX3k6IDAsXG4gICAgZW5kWDogKHdpbmRvdy5pbm5lcldpZHRoIC8gMiksXG4gICAgZW5kWTogKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpLFxuICAgIGN1cnNvclZpc2libGU6IHRydWUsXG4gICAgY3Vyc29yRW5sYXJnZWQ6IGZhbHNlLFxuICAgICRkb3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90JyksXG4gICAgJG91dGxpbmU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90LW91dGxpbmUnKSxcblxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTZXQgdXAgZWxlbWVudCBzaXplc1xuICAgICAgICB0aGlzLmRvdFNpemUgPSB0aGlzLiRkb3Qub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRoaXMub3V0bGluZVNpemUgPSB0aGlzLiRvdXRsaW5lLm9mZnNldFdpZHRoO1xuXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmFuaW1hdGVEb3RPdXRsaW5lKCk7XG4gICAgfSxcblxuICAgIHNldHVwRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gQW5jaG9yIGhvdmVyaW5nXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9jdXN0b20gaG92ZXJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmN1cnNvcicpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2xpY2sgZXZlbnRzXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvLyBTaG93IHRoZSBjdXJzb3JcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcblxuICAgICAgICAgICAgLy8gUG9zaXRpb24gdGhlIGRvdFxuICAgICAgICAgICAgc2VsZi5lbmRYID0gZS5wYWdlWDtcbiAgICAgICAgICAgIHNlbGYuZW5kWSA9IGUucGFnZVk7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudG9wID0gc2VsZi5lbmRZICsgJ3B4JztcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5sZWZ0ID0gc2VsZi5lbmRYICsgJ3B4JztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSGlkZS9zaG93IGN1cnNvclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhbmltYXRlRG90T3V0bGluZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLl94ICs9IChzZWxmLmVuZFggLSBzZWxmLl94KSAvIHNlbGYuZGVsYXk7XG4gICAgICAgIHNlbGYuX3kgKz0gKHNlbGYuZW5kWSAtIHNlbGYuX3kpIC8gc2VsZi5kZWxheTtcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50b3AgPSBzZWxmLl95ICsgJ3B4JztcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5sZWZ0ID0gc2VsZi5feCArICdweCc7XG5cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZURvdE91dGxpbmUuYmluZChzZWxmKSk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUN1cnNvclNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yRW5sYXJnZWQpIHtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDAuNzUpJztcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgyKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKSc7XG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHRvZ2dsZUN1cnNvclZpc2liaWxpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yVmlzaWJsZSkge1xuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmN1cnNvci5pbml0KCk7Il19
