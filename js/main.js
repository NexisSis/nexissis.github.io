$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){$(window).width()<600&&($(this).hasClass("active")?($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")):($("body").addClass("header__overflow-hidden"),$("html").addClass("header__overflow-hidden"))),$(this).toggleClass("active"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),$(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden"))}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"),$("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")}),$(document).mouseup(function(e){var a=$(".header__menu"),_=$(".menu");a.is(e.target)||0!==a.has(e.target).length||_.is(e.target)||0!==_.has(e.target).length||($(window).width()<600&&($("body").removeClass("header__overflow-hidden"),$("html").removeClass("header__overflow-hidden")),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=1200&&($("body").addClass("overflow-hidden"),$("html").addClass("overflow-hidden")),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__text-1").text("Обсудить проект"),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-1").text("Расскажите о себе"),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-1").text("Забрать свою суперсилу"),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-1").text("Big represent"),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-1").text("Sales promotion"),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-1").text("Wow branding"),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-1").text("Презентация"),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
$(function(){function o(p){$.ajax({type:"POST",url:"sendMail.php",data:p,success:function(p){console.log(p),JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();return t?e?($(".popup__name,.popup__tel").removeClass("inputError"),void o({name:t,email:$(".popup__email").val()?$(".popup__email").val():"",tel:e,message:$(".popup__text").val()?$(".popup__text").val():""})):($(".popup__tel").attr("placeholder","Заполните это поле правильно!"),void $(".popup__tel").addClass("inputError")):($(".popup__name").attr("placeholder","Заполните это поле правильно!"),void $(".popup__name").addClass("inputError"))}),$(".contact__form_small").submit(function(p){p.preventDefault();var t=$(".contact__input").val();if(!t||""==t)return $(".contact__input").attr("placeholder","Заполните это поле правильно!"),void $(".contact__input").addClass("inputError");o(t),$(".contact__input").removeClass("inputError")})});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, «проводим экскурсию» по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
(new WOW).init();
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwicHJpY2UvcHJpY2UuanMiLCJzZW5kTWFpbC9zZW5kTWFpbC5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2NvbW1vbi5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ3aW5kb3ciLCJ3aWR0aCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInRvZ2dsZUNsYXNzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaWQiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiZG9jdW1lbnQiLCJtb3VzZXVwIiwiY29udGFpbmVyIiwiY29udGFpbmVyTWVudSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwicG9wdXBTYW1lIiwidGV4dCIsImh0bWwiLCJyZWFkeSIsIm93bCIsIm93bENhcm91c2VsIiwibG9vcCIsIm9uSW5pdGlhbGl6ZWQiLCJldmVudCIsIml0ZW0iLCJjb3VudCIsImF1dG9XaWR0aCIsInNtYXJ0U3BlZWQiLCJ0cmlnZ2VyIiwicHJldkZsYWciLCJvbiIsIm93bEl0ZW1zIiwiaW5kZXgiLCJjYWxjSXRlbSIsIk1hdGgiLCJmbG9vciIsImhvdmVyIiwiZmluZCIsImFqYXhTZW5kTWFpbCIsImRhdGEiLCJhamF4IiwidHlwZSIsInVybCIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJzdWJtaXQiLCJuYW1lIiwidmFsIiwidGVsIiwiZW1haWwiLCJtZXNzYWdlIiwicGFyYWxsYXhJdCIsIiRmd2luZG93IiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCIkY29udGVudHMiLCIkY29udGVudE9iaiIsIl9fc3BlZWQiLCJfX2ZnT2Zmc2V0IiwicHVzaCIsImZvckVhY2giLCJ5UG9zIiwiY3NzIiwib3dsV2F5IiwiV09XIiwiaW5pdCIsImN1cnNvciIsImRlbGF5IiwiX3giLCJfeSIsImVuZFgiLCJpbm5lcldpZHRoIiwiZW5kWSIsImlubmVySGVpZ2h0IiwiY3Vyc29yVmlzaWJsZSIsImN1cnNvckVubGFyZ2VkIiwiJGRvdCIsInF1ZXJ5U2VsZWN0b3IiLCIkb3V0bGluZSIsImRvdFNpemUiLCJvZmZzZXRXaWR0aCIsIm91dGxpbmVTaXplIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFuaW1hdGVEb3RPdXRsaW5lIiwic2VsZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVDdXJzb3JTaXplIiwidG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSIsInBhZ2VYIiwicGFnZVkiLCJzdHlsZSIsImxlZnQiLCJvcGFjaXR5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInRyYW5zZm9ybSJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUUsbUJBQW1CQyxLQUFLLFdBQ3RCRCxFQUFFRSxNQUFNQyxNQUFNLFdBRVYsT0FEQUgsRUFBRSxhQUFhSSxRQUFRLENBQUVDLFVBQVcsR0FBSyxTQUNsQztBQ0RmTCxFQUFFLFNBQVNHLE1BQU0sV0FDVkgsRUFBRU0sUUFBUUMsUUFBVSxNQUNmUCxFQUFFRSxNQUFNTSxTQUFTLFdBSWpCUixFQUFFLFFBQVFTLFlBQVksMkJBQ3RCVCxFQUFFLFFBQVFTLFlBQVksNkJBSnRCVCxFQUFFLFFBQVFVLFNBQVMsMkJBQ25CVixFQUFFLFFBQVFVLFNBQVMsNkJBTTNCVixFQUFFRSxNQUFNUyxZQUFZLFVBQ3BCWCxFQUFFLGlCQUFpQlcsWUFBWSx1QkFDL0JYLEVBQUUsYUFBYVcsWUFBWSxlQUMzQlgsRUFBRSxpQkFBaUJXLFlBQVksUUFDL0JYLEVBQUUsaUJBQWlCVyxZQUFZLHlCQUduQ1gsRUFBRSxnQkFBZ0JHLE1BQU0sV0FDcEJILEVB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RUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsSUFFOUJWLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLEtBSzFDNUIsT0FBT0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoJy5jb250YWN0X19hcnJvdycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICdzbG93Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbn0pOyIsIlxyXG4vLyBvcGVuIG1lbnVcclxuJCgnLm1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApe1xyXG4gICAgICAgIGlmKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAgICAgJCgnaHRtbCcpLmFkZENsYXNzKCdoZWFkZXJfX292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5oZWFkZXJfX21lbnUnKS50b2dnbGVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1lbnUgZGl2JykudG9nZ2xlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWFpbl9fdGV4dC0yJykudG9nZ2xlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICQoJy5tYWluX19zb2NpYWwnKS50b2dnbGVDbGFzcygnbWFpbl9fc29jaWFsX2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbiQoJy5tZW51X2FjdGl2ZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5oZWFkZXJfX21lbnUnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19tZW51X2FjdGl2ZScpO1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA2MDApIHtcclxuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vc21vb3RoIHNjcm9sbGluZyB0byBibG9ja1xyXG4kKCcuaGVhZGVyX190ZXh0LTEnKS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoe3Njcm9sbFRvcDogJChpZCkub2Zmc2V0KCkudG9wfSwgMTAwMCk7XHJcbiAgICAkKCcuaGVhZGVyX19tZW51JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tZW51IGRpdicpLnJlbW92ZUNsYXNzKCdtZW51X2FjdGl2ZScpO1xyXG4gICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAkKCcubWFpbl9fc29jaWFsJykucmVtb3ZlQ2xhc3MoJ21haW5fX3NvY2lhbF9hY3RpdmUnKTtcclxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxufSk7XHJcblxyXG4vL2NoZWNrIGlmIGNsaWNrIG91dHNpZGUgbWVudVxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5oZWFkZXJfX21lbnUnKTtcclxuICAgIHZhciBjb250YWluZXJNZW51ID0gJCgnLm1lbnUnKTtcclxuXHJcbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgaWYgKCghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApICYmXHJcbiAgICAgICAgKCFjb250YWluZXJNZW51LmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXJNZW51LmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSApIHtcclxuICAgICAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8IDYwMCkge1xyXG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2hlYWRlcl9fb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnaGVhZGVyX19vdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1lbnUgZGl2JykucmVtb3ZlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIiIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgJCgnaHRtbCcpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxufSk7XHJcblxyXG4kKCcubWFpbl9fdGV4dC03LCAud2F5X190ZXh0LTUsLm1haW5fX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQntCx0YHRg9C00LjRgtGMINC/0YDQvtC10LrRgicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLmh0bWwoXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCw8L3NwYW4+XFxuJyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QsiDQutC+0YLQvtGA0YvRhSDQstCw0Lwg0LrQvtC80YTQvtGA0YLQvdC+INC+0LHRidCw0YLRjNGB0Y8gLTwvc3Bhbj5cXG4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiID7QvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8Ljwvc3Bhbj4nXHJcbiAgICApO1xyXG59KTtcclxuXHJcbiQoJy5tYWluX190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LLQvtC90L7QuiDQsiDRgdCy0LXRgtC70L7QtSDQsdGD0LTRg9GJ0LXQtSDQstCw0YjQtdC5INC60L7QvNC/0LDQvdC40LggLSDQv9C40YjQuNGC0LUsINC80Ysg0L3QsCDQu9C40L3QuNC4LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYWJvdXRfX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0KDQsNGB0YHQutCw0LbQuNGC0LUg0L4g0YHQtdCx0LUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KDQsNGB0YHQutCw0LbQuNGC0LUg0L4g0LTQtdC70LUsINC60L7RgtC+0YDQvtC1INCy0LTQvtGF0L3QvtCy0LvRj9C10YIg0LLQsNGBINC/0YDQvtGB0YvQv9Cw0YLRjNGB0Y8g0L/QviDRg9GC0YDQsNC8LCDQviDQv9C70LDQvdCw0YUg0Lgg0LzQtdGH0YLQsNGFINC90LAg0LHRg9C00YPRidC10LUuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5sYW5kaW5nLXBvd2VyX190ZXh0LTYnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMScpLnRleHQoJ9CX0LDQsdGA0LDRgtGMINGB0LLQvtGOINGB0YPQv9C10YDRgdC40LvRgycpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGA0LXQvNGPINC/0L7RgdGC0LjRh9GMINC00LfQtdC9INC4INC/0YDQtdC30LXQvdGC0L7QstCw0YLRjCDQvNC40YDRgyDRgdCy0L7QuSDQsdC40LfQvdC10YEuJyk7XHJcbiAgICAkKCcucG9wdXBfX2VtYWlsJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59KTtcclxuXHJcbiQoJy5iaWdfX3JlcHJlc2VudCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgnQmlnIHJlcHJlc2VudCcpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQotGD0YIg0L3QsNGH0LjQvdCw0LXRgtGB0Y8g0L/Rg9GC0Ywg0Log0L/RgNC40LfQvdCw0L3QuNGOINC4INGD0LfQvdCw0LLQsNC10LzQvtGB0YLQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLnNhbGVzX3Byb21vdGlvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgnU2FsZXMgcHJvbW90aW9uJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cn0LXRgdGC0L3Ri9C5INC/0YPRgtGMINC6INGB0L7QutGA0L7QstC40YnQsNC8INC4INC80LjQu9C70LjQvtC90LDQvC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLndvd19icmFuZGluZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgnV293IGJyYW5kaW5nJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CS0Ysg0L3QsNGI0LvQuCDQsdC+0LzQsdC40YfQtdGB0LrQuNC5INC+0LPQvtC90Ywg0LTQu9GPINCw0LHRgdC+0LvRjtGC0L3QvtC5INCy0LvQsNGB0YLQuCDQvdCw0LQg0LzQuNGA0L7QvC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLmlubGluZV9fdGV4dC0yLC5pbmxpbmVfX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0J/RgNC10LfQtdC90YLQsNGG0LjRjycpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cw0L/QvtC70L3QuNGC0LUg0YTQvtGA0LzRgyAtINC+0YLQv9GA0LDQstC40Lwg0LLQsNC8INC/0YDQtdC30LXQvdGC0LDRhtC40Y4g0Lgg0L/QvtC80L7QttC10Lwg0YEg0L/Qu9Cw0L3QvtC8INGA0LDQt9Cy0LjRgtC40Lgg0LrQvtC80L/QsNC90LjQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcG9wdXBTYW1lKCkge1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gMTIwMCl7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgICAgICAkKCdodG1sJykuYWRkQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgJCgnLnBvcHVwX19mb3JtJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9hY3RpdmUnKTtcclxufVxyXG5cclxuXHJcbi8vY2hlY2sgaWYgY2xpY2sgb3V0c2lkZSBwb3B1cFxyXG4kKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uKGUpe1xyXG4gICAgdmFyIGNvbnRhaW5lciA9ICQoJy5wb3B1cCcpO1xyXG4gICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lciBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgIGlmICghY29udGFpbmVyLmlzKGUudGFyZ2V0KSAmJiBjb250YWluZXIuaGFzKGUudGFyZ2V0KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnLnBvcHVwJykucmVtb3ZlQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgfVxyXG59KTsiLCIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgdmFyIG93bCA9ICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJyk7XHJcbiAgICBvd2wub3dsQ2Fyb3VzZWwoe1xyXG4gICAgICAgIGxvb3A6dHJ1ZSxcclxuICAgICAgICBvbkluaXRpYWxpemVkOiBvd2xJbml0LFxyXG4gICAgICAgIGF1dG9XaWR0aDp0cnVlLFxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6NzUwXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvd2xJbml0KGV2ZW50KSB7XHJcbiAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX3RvdGFsJykudGV4dCgnMCcgKyBldmVudC5pdGVtLmNvdW50KTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX3InKS5jbGljayhmdW5jdGlvbigpIHsgICBvd2wudHJpZ2dlcignbmV4dC5vd2wuY2Fyb3VzZWwnKTsgICAgfSk7XHJcbiAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5jbGljayhmdW5jdGlvbigpIHsgICBvd2wudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTsgICAgfSk7XHJcblxyXG4gICAgdmFyIHByZXZGbGFnID0gdHJ1ZTtcclxuXHJcbiAgICAvL21hZ2ljIGZvciBvd2wgY2Fyb3VzZWwgc3RhcnQgd29ya1xyXG4gICAgb3dsLm9uKCdwcmV2Lm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgcHJldkZsYWcgPSB0cnVlXHJcbiAgICB9KTtcclxuICAgIG93bC5vbignY2hhbmdlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBvd2xJdGVtcyAgPSBldmVudC5pdGVtLmNvdW50OyAgIC8vIFRvdGFsIG51bWJlciBvZiBpdGVtcyAoY29uc2lzdGVudCBhbmQgYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGl0ZW0gICAgICA9IGV2ZW50Lml0ZW0uaW5kZXg7ICAgLy8gT3dsIHJlcG9ydGVkIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGluY29uc2lzdGVudCBhbmQgaW5hY2N1cmF0ZSlcclxuICAgICAgICB2YXIgY2FsY0l0ZW0gID0gTWF0aC5mbG9vcihpdGVtIC0gKG93bEl0ZW1zIC8gMikgKyAxKTsgLy8gc2xpZ2h0bHkgbW9yZSBsb2dpY2FsIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0gKGlmIG5vdCBmcm9tIHByZXZpb3VzIGNsaWNrKVxyXG5cclxuICAgICAgICAvLyBpZiBmcm9tIHByZXZpb3VzIGNsaWNrXHJcbiAgICAgICAgaWYocHJldkZsYWcpIHtcclxuICAgICAgICAgICAgaWYgKGNhbGNJdGVtID09PSAwKSB7ICAvLyByZXBvcnRzIDAgaW5zdGVhZCBvZiBsYXN0IHZhbHVlXHJcbiAgICAgICAgICAgICAgICBjYWxjSXRlbSA9IG93bEl0ZW1zOyAvLyBzb2x2ZSB0aGF0IHByb2JsZW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaGFuZGxlIHZhbHVlcyB0aGF0IGZhbGwgb3V0c2lkZSBvZiBsb2dpY2FsIG1pbi9tYXggYm91bmRzXHJcbiAgICAgICAgaWYocHJldkZsYWcgPT09IGZhbHNlICYmIGNhbGNJdGVtID09PSAwIHx8IGNhbGNJdGVtID4gb3dsSXRlbXMpIHtcclxuICAgICAgICAgICAgY2FsY0l0ZW0gPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcmV2RmxhZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhbGNJdGVtKTtcclxuICAgIH0pXHJcbn0pOyIsIiQoJy5wcmljZV9fY2FyZCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5wcmljZV9fY2FyZCwgLnByaWNlX19pbWcgJykucmVtb3ZlQ2xhc3MoJ29wYWNpdHktMScpO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnb3BhY2l0eS0xJyk7XHJcbiAgICAkKCcucHJpY2VfX2ltZy1pdGVtJykucmVtb3ZlQ2xhc3MoJ3ByaWNlX19pbWctaXRlbV9hY3RpdmUnKTtcclxuICAgICQodGhpcykuZmluZCgnLnByaWNlX19pbWcnKS5hZGRDbGFzcygnb3BhY2l0eS0xJyk7XHJcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nLWl0ZW0nKS5hZGRDbGFzcygncHJpY2VfX2ltZy1pdGVtX2FjdGl2ZScpO1xyXG59KTsiLCIkKGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIucG9wdXBfX2Zvcm1cIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBuYW1lID0gJChcIi5wb3B1cF9fbmFtZVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgdGVsID0gJChcIi5wb3B1cF9fdGVsXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZighbmFtZSl7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fbmFtZScpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUg0L/RgNCw0LLQuNC70YzQvdC+IVwiKTtcclxuICAgICAgICAgICAgJCgnLnBvcHVwX19uYW1lJykuYWRkQ2xhc3MoJ2lucHV0RXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZighdGVsKXtcclxuICAgICAgICAgICAgJCgnLnBvcHVwX190ZWwnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1INC/0YDQsNCy0LjQu9GM0L3QviFcIik7XHJcbiAgICAgICAgICAgICQoJy5wb3B1cF9fdGVsJykuYWRkQ2xhc3MoJ2lucHV0RXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnLnBvcHVwX19uYW1lLC5wb3B1cF9fdGVsJykucmVtb3ZlQ2xhc3MoJ2lucHV0RXJyb3InKTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiAkKFwiLnBvcHVwX19lbWFpbFwiKS52YWwoKSA/ICAkKFwiLnBvcHVwX19lbWFpbFwiKS52YWwoKSA6ICcnLFxyXG4gICAgICAgICAgICB0ZWw6IHRlbCxcclxuICAgICAgICAgICAgbWVzc2FnZTogJChcIi5wb3B1cF9fdGV4dFwiKS52YWwoKSA/ICAkKFwiLnBvcHVwX190ZXh0XCIpLnZhbCgpIDogJydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhamF4U2VuZE1haWwoZGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKFwiLmNvbnRhY3RfX2Zvcm1fc21hbGxcIikuc3VibWl0KGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKCcuY29udGFjdF9faW5wdXQnKS52YWwoKTtcclxuICAgICAgICBpZih0ZWwgJiYgdGVsICE9ICcnKXtcclxuICAgICAgICAgICAgYWpheFNlbmRNYWlsKHRlbCk7XHJcbiAgICAgICAgICAgICQoJy5jb250YWN0X19pbnB1dCcpLnJlbW92ZUNsYXNzKCdpbnB1dEVycm9yJyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICQoJy5jb250YWN0X19pbnB1dCcpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUg0L/RgNCw0LLQuNC70YzQvdC+IVwiKTtcclxuICAgICAgICAgICAgJCgnLmNvbnRhY3RfX2lucHV0JykuYWRkQ2xhc3MoJ2lucHV0RXJyb3InKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBhamF4U2VuZE1haWwoZGF0YSl7XHJcbiAgICAgICAgLy8gdmFyIGRhdGFKc29uID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJzZW5kTWFpbC5waHBcIixcclxuICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuc3cgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWFuc3cuZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0JfQsNGP0LLQutCwINC/0YDQuNC90Y/RgtCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgnJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCxcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9CyINC60L7RgtC+0YDRi9GFINCy0LDQvCDQutC+0LzRhNC+0YDRgtC90L4g0L7QsdGJ0LDRgtGM0YHRjyAtXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8LicpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQotC10YUuINC+0YjQuNCx0LrQsCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7QstGC0L7RgNC40YLRjCDRh9C10YDQtdC3INC90LXQutC+0YLQvtGA0L7QtSDQstGA0LXQvNGPLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnLnBvcHVwX19mb3JtJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KTsiLCIvLyBtYWtlcyB0aGUgcGFyYWxsYXggZWxlbWVudHNcclxuZnVuY3Rpb24gcGFyYWxsYXhJdCgpIHtcclxuICAgIC8vIGNyZWF0ZSB2YXJpYWJsZXNcclxuICAgIHZhciAkZndpbmRvdyA9ICQod2luZG93KTtcclxuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgIHZhciAkY29udGVudHMgPSBbXTtcclxuICAgIHZhciAkYmFja2dyb3VuZHMgPSBbXTtcclxuXHJcbiAgICAvLyBmb3IgZWFjaCBvZiBjb250ZW50IHBhcmFsbGF4IGVsZW1lbnRcclxuICAgICQoJ1tkYXRhLXR5cGU9XCJjb250ZW50XCJdJykuZWFjaChmdW5jdGlvbihpbmRleCwgZSkge1xyXG4gICAgICAgIHZhciAkY29udGVudE9iaiA9ICQodGhpcyk7XHJcbiAgICAgICAgJGNvbnRlbnRPYmouX19zcGVlZCA9IDI7XHJcbiAgICAgICAgJGNvbnRlbnRPYmouX19mZ09mZnNldCA9ICRjb250ZW50T2JqLm9mZnNldCgpLnRvcDtcclxuICAgICAgICAkY29udGVudHMucHVzaCgkY29udGVudE9iaik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB1cGRhdGUgcG9zaXRpb25zXHJcbiAgICAkZndpbmRvdy5vbignc2Nyb2xsIHJlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG4gICAgICAgICRjb250ZW50cy5mb3JFYWNoKGZ1bmN0aW9uKCRjb250ZW50T2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB5UG9zID0gJGNvbnRlbnRPYmouX19mZ09mZnNldCAtIHNjcm9sbFRvcCAvICRjb250ZW50T2JqLl9fc3BlZWQ7XHJcbiAgICAgICAgICAgICRjb250ZW50T2JqLmNzcygndG9wJywgeVBvcyArIDkwMCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KTtcclxuICAgIC8vIHRyaWdnZXJzIHdpbm9kdyBzY3JvbGwgZm9yIHJlZnJlc2hcclxuICAgICRmd2luZG93LnRyaWdnZXIoJ3Njcm9sbCcpO1xyXG59O1xyXG5cclxucGFyYWxsYXhJdCgpO1xyXG5cclxuLy8g0LTRg9C80LDQuyDQv9GA0LjQstGP0LfQsNGC0YzRgdGPINC6INC40L3QtNC10LrRgdGDINC40LvQuCDQuiBpZCwg0YDQtdGI0LjQuyDQuiDQv9C+0YDRj9C00LrRgywg0L3QtSDRg9Cy0LXRgNC10L0sINGH0YLQviDRjdGC0L4g0L/RgNCw0LLQuNC70YzQvdC+XHJcbiQoJy53YXlfX3RleHQtMicpLmhvdmVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA+IDYwMCl7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgICAgICQoJy53YXlfX3RleHQtMicpLnJlbW92ZUNsYXNzKCd3aGl0ZScpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3doaXRlJyk7XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMCl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9CY0LfRg9GH0LDQtdC8INC60L7QvNC/0LDQvdC40Y4g0Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsiwg0L3QsNGF0L7QtNC40Lwg0L/RgNC10LjQvNGD0YnQtdGB0YLQstCwLCDQt9Cw0LrRgNGL0LLQsNC10Lwg0LLQvtC30YDQsNC20LXQvdC40Y8sINC90LjQstC10LvQuNGA0YPQtdC8INGB0YLRgNCw0YXQuCwg0YHQvtC30LTQsNC10Lwg0YHQuNC70YzQvdC+0LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtS4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18xLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAxKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0J/RgNC+0LLQvtC00LjQvCBicmFpbiBzdG9ybTog0L/RgNC+0LTRg9C80YvQstCw0LXQvCDRgdGC0YDRg9C60YLRg9GA0YMsINCx0LvQvtC60LgsINGF0LDRgNCw0LrRgtC10YAg0Lgg0YHRgtC40LvRjCDQuNGB0YXQvtC00Y8g0LjQtyDQt9Cw0LTQsNGHINCx0LjQt9C90LXRgdCwLicpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzIucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDIpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQo9C/0YDQsNCy0LvRj9C10Lwg0LLQvdC40LzQsNC90LjQtdC8LCDRgdC+0LfQtNCw0ZHQvCDQuNC90YLQtdGA0LXRgSDQuiDRg9GB0LvRg9Cz0LUv0L/RgNC+0LTRg9C60YLRgyDQsiDRg9C00L7QsdC90L7QuSDQvdCw0LLQuNCz0LDRhtC40Lgg0Lgg0YHRgtC40LvRjNC90L7QvCDQtNC40LfQsNC50L3QtScpO1xyXG4gICAgICAgICAgICAkKCcud2F5X19pY29uJykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywndXJsKC4uL2ltZy93YXlfXzMucG5nKScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGluZGV4ID09IDMpe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQodC+0LfQtNCw0ZHQvCDRjdGE0YTQtdC60YIg0L/RgNC40YHRg9GC0YHRgtCy0LjRjywgwqvQv9GA0L7QstC+0LTQuNC8INGN0LrRgdC60YPRgNGB0LjRjsK7INC/0L4g0YHQsNC50YLRgywg0LLRi9Cy0L7QtNC40Lwg0YTQvtC60YPRgSDQvdCwINGG0LXQu9C10LLRi9C1INC00LXQudGB0YLQstC40Y8uJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNC5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNCl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0L7QtNCx0LjRgNCw0LXQvCDRhtC10LvQtdCy0YvQtSDQtNC70Y8g0L3QuNGI0Lgg0YDQtdC60LvQsNC80L3Ri9C1INC/0LvQvtGJ0LDQtNC4IChQUEMsIHNtbSkg0L/QvtC80L7Qs9Cw0LXQvCDQvtGC0LHQuNGC0Ywg0LfQsNGC0YDQsNGC0Ysg0L3QsCDRgNC10LrQu9Cw0LzRgyDQuCDQstGL0LnRgtC4INCyINC/0YDQuNCx0YvQu9GMJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNS5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNSl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0LrRgNC10L/Qu9GP0LXQvCDQuNC80LjQtNC2INCx0YDQtdC90LTQsCwg0YHQvtCx0LjRgNCw0LXQvCDQuCDQvtC/0YLQuNC80LjQt9C40YDRg9C10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X182LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgIHZhciBvd2xXYXkgPSAkKCcud2F5X19zbGlkZXInKTtcclxuICAgIG93bFdheS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXHJcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDo3NTBcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG93bEluaXQoZXZlbnQpIHtcclxuICAgICAgICAkKCcud2F5X190ZXh0LTdfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy53YXlfX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG93bFdheS50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLndheV9fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsV2F5LnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJldkZsYWcgPSB0cnVlO1xyXG5cclxuICAgIC8vbWFnaWMgZm9yIG93bCBjYXJvdXNlbCBzdGFydCB3b3JrXHJcbiAgICBvd2xXYXkub24oJ3ByZXYub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBwcmV2RmxhZyA9IHRydWVcclxuICAgIH0pO1xyXG4gICAgb3dsV2F5Lm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcclxuICAgICAgICB2YXIgaXRlbSAgICAgID0gZXZlbnQuaXRlbS5pbmRleDsgICAvLyBPd2wgcmVwb3J0ZWQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaW5jb25zaXN0ZW50IGFuZCBpbmFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBjYWxjSXRlbSAgPSBNYXRoLmZsb29yKGl0ZW0gLSAob3dsSXRlbXMgLyAyKSArIDEpOyAvLyBzbGlnaHRseSBtb3JlIGxvZ2ljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaWYgbm90IGZyb20gcHJldmlvdXMgY2xpY2spXHJcblxyXG4gICAgICAgIC8vIGlmIGZyb20gcHJldmlvdXMgY2xpY2tcclxuICAgICAgICBpZihwcmV2RmxhZykge1xyXG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcclxuICAgICAgICAgICAgICAgIGNhbGNJdGVtID0gb3dsSXRlbXM7IC8vIHNvbHZlIHRoYXQgcHJvYmxlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdmFsdWVzIHRoYXQgZmFsbCBvdXRzaWRlIG9mIGxvZ2ljYWwgbWluL21heCBib3VuZHNcclxuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xyXG4gICAgICAgICAgICBjYWxjSXRlbSA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2RmxhZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICQoJy53YXlfX3RleHQtN19jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xyXG5cclxuICAgIH0pXHJcbn0pOyIsIm5ldyBXT1coKS5pbml0KCk7IiwidmFyIGN1cnNvciA9IHtcclxuICAgIGRlbGF5OiA4LFxyXG4gICAgX3g6IDAsXHJcbiAgICBfeTogMCxcclxuICAgIGVuZFg6ICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpLFxyXG4gICAgZW5kWTogKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpLFxyXG4gICAgY3Vyc29yVmlzaWJsZTogdHJ1ZSxcclxuICAgIGN1cnNvckVubGFyZ2VkOiBmYWxzZSxcclxuICAgICRkb3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jdXJzb3ItZG90JyksXHJcbiAgICAkb3V0bGluZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvci1kb3Qtb3V0bGluZScpLFxyXG5cclxuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFNldCB1cCBlbGVtZW50IHNpemVzXHJcbiAgICAgICAgdGhpcy5kb3RTaXplID0gdGhpcy4kZG90Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHRoaXMub3V0bGluZVNpemUgPSB0aGlzLiRvdXRsaW5lLm9mZnNldFdpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGVEb3RPdXRsaW5lKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNldHVwRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gQW5jaG9yIGhvdmVyaW5nXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9jdXN0b20gaG92ZXJcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY3Vyc29yJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENsaWNrIGV2ZW50c1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yU2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIGN1cnNvclxyXG4gICAgICAgICAgICBzZWxmLmN1cnNvclZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclZpc2liaWxpdHkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIHRoZSBkb3RcclxuICAgICAgICAgICAgc2VsZi5lbmRYID0gZS5wYWdlWDtcclxuICAgICAgICAgICAgc2VsZi5lbmRZID0gZS5wYWdlWTtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRvcCA9IHNlbGYuZW5kWSArICdweCc7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5sZWZ0ID0gc2VsZi5lbmRYICsgJ3B4JztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGlkZS9zaG93IGN1cnNvclxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGFuaW1hdGVEb3RPdXRsaW5lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuX3ggKz0gKHNlbGYuZW5kWCAtIHNlbGYuX3gpIC8gc2VsZi5kZWxheTtcclxuICAgICAgICBzZWxmLl95ICs9IChzZWxmLmVuZFkgLSBzZWxmLl95KSAvIHNlbGYuZGVsYXk7XHJcbiAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50b3AgPSBzZWxmLl95ICsgJ3B4JztcclxuICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLmxlZnQgPSBzZWxmLl94ICsgJ3B4JztcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZURvdE91dGxpbmUuYmluZChzZWxmKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUN1cnNvclNpemU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yRW5sYXJnZWQpIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC43NSknO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMiknO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpJztcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpJztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRvZ2dsZUN1cnNvclZpc2liaWxpdHk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuY3Vyc29yVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY3Vyc29yLmluaXQoKTsiXX0=
