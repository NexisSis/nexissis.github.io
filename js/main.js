$(".contact__arrow").each(function(){$(this).click(function(){return $("html,body").animate({scrollTop:0},"slow"),!1})});
$(".menu").click(function(){$(window).width()<=1200&&$("body").toggleClass("overflow-hidden"),$(".header__menu").toggleClass("header__menu_active"),$(".menu div").toggleClass("menu_active"),$(".main__text-2").toggleClass("hide"),$(".main__social").toggleClass("main__social_active")}),$(".menu_active").click(function(){$(".header__menu").removeClass("header__menu_active"),g}),$(".header__text-1").click(function(e){e.preventDefault();var a=$(this).attr("href");$("html,body").animate({scrollTop:$(a).offset().top},1e3),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active")}),$(document).mouseup(function(e){var a=$(".header__menu"),t=$(".menu");a.is(e.target)||0!==a.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||($("body").removeClass("overflow-hidden"),$(".header__menu").removeClass("header__menu_active"),$(".menu div").removeClass("menu_active"),$(".main__text-2").removeClass("hide"),$(".main__social").removeClass("main__social_active"))});

function popupSame(){$(window).width()<=1200&&$("body").addClass("overflow-hidden"),$(".popup__form").removeClass("hide"),$(".popup").addClass("popup_active"),$(".popup__text-1").text("Обсудить проект")}$(".popup__menu").click(function(){$("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active")}),$(".main__text-7, .way__text-5,.main__button").click(function(){popupSame(),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none"),$(".popup__text-2").html('<span class="smart-break">Оставьте данные для связи,</span>\n<span class="smart-break">в которых вам комфортно общаться -</span>\n<span class="smart-break" >напишем в месседжер или перезвоним.</span>')}),$(".main__text-2").click(function(){popupSame(),$(".popup__text-2").text("Звонок в светлое будущее вашей компании - пишите, мы на линии."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(".about__text-2").click(function(){popupSame(),$(".popup__text-2").text("Расскажите о деле, которое вдохновляет вас просыпаться по утрам, о планах и мечтах на будущее."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".landing-power__text-6").click(function(){popupSame(),$(".popup__text-2").text("Время постичь дзен и презентовать миру свой бизнес."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".big__represent").click(function(){popupSame(),$(".popup__text-2").text("Тут начинается путь к признанию и узнаваемости."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".sales_promotion").click(function(){popupSame(),$(".popup__text-2").text("Честный путь к сокровищам и миллионам."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".wow_branding").click(function(){popupSame(),$(".popup__text-2").text("Вы нашли бомбический огонь для абсолютной власти над миром."),$(".popup__email").removeClass("d-none"),$(".popup__text").removeClass("d-none")}),$(".inline__text-2,.inline__button").click(function(){popupSame(),$(".popup__text-2").text("Заполните форму - отправим вам презентацию и поможем с планом развитии компании."),$(".popup__email").addClass("d-none"),$(".popup__text").addClass("d-none")}),$(document).mouseup(function(p){var e=$(".popup");e.is(p.target)||0!==e.has(p.target).length||($("body").removeClass("overflow-hidden"),$(".popup").removeClass("popup_active"))});
$(document).ready(function(){var o=$(".portfolio__container-2");o.owlCarousel({loop:!0,onInitialized:function(o){$(".portfolio__text-2_total").text("0"+o.item.count)},autoWidth:!0,smartSpeed:750}),$(".portfolio__arrow-link_r").click(function(){o.trigger("next.owl.carousel")}),$(".portfolio__arrow-link_l").click(function(){o.trigger("prev.owl.carousel")});var i=!0;o.on("prev.owl.carousel",function(o){i=!0}),o.on("changed.owl.carousel",function(o){var t=o.item.count,r=o.item.index,n=Math.floor(r-t/2+1);i&&0===n&&(n=t),(!1===i&&0===n||t<n)&&(n=1),i=!1,$(".portfolio__text-2_count").text("0"+n)})});
$(function(){$(".popup__form").submit(function(p){p.preventDefault();var t=$(".popup__name").val(),e=$(".popup__tel").val();t||""==t||$(".popup__name").attr("placeholder","Заполните это поле!"),e||""==e||$(".popup__tel").attr("placeholder","Заполните это поле!");var a={name:t,email:$(".popup__email").val(),tel:e,message:$(".popup__email").val()};console.log(a),$.ajax({type:"POST",url:"sendMail.php",data:a,success:function(p){JSON.parse(p).error?($(".popup__text-1").text("Тех. ошибка!"),$(".popup__text-2").text("Попробуйте повторить через некоторое время.")):($(".popup__text-1").text("Заявка принята!"),$(".popup__text-2").text("Оставьте данные для связи,\nв которых вам комфортно общаться -\nнапишем в месседжер или перезвоним.")),$(".popup__form").addClass("hide")}})}),$(".contact__form_small").submit(function(p){var t=$(".contact__input ").val();t||""==t||$(".contact__input ").attr("placeholder","Заполните это поле!")})});
$(".price__card").hover(function(){$(".price__card, .price__img ").removeClass("opacity-1"),$(this).addClass("opacity-1"),$(".price__img-item").removeClass("price__img-item_active"),$(this).find(".price__img").addClass("opacity-1"),$(this).find(".price__img-item").addClass("price__img-item_active")});
function parallaxIt(){var t=$(window),a=window.pageYOffset||document.documentElement.scrollTop,o=[];$('[data-type="content"]').each(function(t,e){var a=$(this);a.__speed=2,a.__fgOffset=a.offset().top,o.push(a)}),t.on("scroll resize",function(){a=window.pageYOffset||document.documentElement.scrollTop,o.forEach(function(t){var e=t.__fgOffset-a/t.__speed;t.css("top",e+900)})}),t.trigger("scroll")}parallaxIt(),$(".way__text-2").hover(function(t){if(600<$(window).width()){var e=$(this).index();$(".way__text-2").removeClass("white"),$(this).addClass("white"),0==e&&($(".way__text-3").text("Изучаем компанию и конкурентов, находим преимущества, закрываем возражения, нивелируем страхи, создаем сильное предложение."),$(".way__icon").css("background-image","url(../img/way__1.png)")),1==e&&($(".way__text-3").text("Проводим brain storm: продумываем структуру, блоки, характер и стиль исходя из задач бизнеса."),$(".way__icon").css("background-image","url(../img/way__2.png)")),2==e&&($(".way__text-3").text("Управляем вниманием, создаём интерес к услуге/продукту в удобной навигации и стильном дизайне"),$(".way__icon").css("background-image","url(../img/way__3.png)")),3==e&&($(".way__text-3").text("Создаём эффект присутствия, “проводим экскурсию” по сайту, выводим фокус на целевые действия."),$(".way__icon").css("background-image","url(../img/way__4.png)")),4==e&&($(".way__text-3").text("Подбираем целевые для ниши рекламные площади (PPC, smm) помогаем отбить затраты на рекламу и выйти в прибыль"),$(".way__icon").css("background-image","url(../img/way__5.png)")),5==e&&($(".way__text-3").text("Укрепляем имидж бренда, собираем и оптимизируем результаты"),$(".way__icon").css("background-image","url(../img/way__6.png)"))}}),$(document).ready(function(){var t=$(".way__slider");t.owlCarousel({loop:!0,onInitialized:function(t){$(".way__text-7_total").text("0"+t.item.count)},autoWidth:!0,smartSpeed:750}),$(".way__arrow-link_r").click(function(){t.trigger("next.owl.carousel")}),$(".way__arrow-link_l").click(function(){t.trigger("prev.owl.carousel")});var n=!0;t.on("prev.owl.carousel",function(t){n=!0}),t.on("changed.owl.carousel",function(t){var e=t.item.count,a=t.item.index,o=Math.floor(a-e/2+1);n&&0===o&&(o=e),(!1===n&&0===o||e<o)&&(o=1),n=!1,$(".way__text-7_count").text("0"+o)})});
(new WOW).init();
var cursor={delay:8,_x:0,_y:0,endX:window.innerWidth/2,endY:window.innerHeight/2,cursorVisible:!0,cursorEnlarged:!1,$dot:document.querySelector(".cursor-dot"),$outline:document.querySelector(".cursor-dot-outline"),init:function(){this.dotSize=this.$dot.offsetWidth,this.outlineSize=this.$outline.offsetWidth,this.setupEventListeners(),this.animateDotOutline()},setupEventListeners:function(){var t=this;document.querySelectorAll("a").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.querySelectorAll(".cursor").forEach(function(e){e.addEventListener("mouseover",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),e.addEventListener("mouseout",function(){t.cursorEnlarged=!1,t.toggleCursorSize()})}),document.addEventListener("mousedown",function(){t.cursorEnlarged=!0,t.toggleCursorSize()}),document.addEventListener("mouseup",function(){t.cursorEnlarged=!1,t.toggleCursorSize()}),document.addEventListener("mousemove",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.endX=e.pageX,t.endY=e.pageY,t.$dot.style.top=t.endY+"px",t.$dot.style.left=t.endX+"px"}),document.addEventListener("mouseenter",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=1,t.$outline.style.opacity=1}),document.addEventListener("mouseleave",function(e){t.cursorVisible=!0,t.toggleCursorVisibility(),t.$dot.style.opacity=0,t.$outline.style.opacity=0})},animateDotOutline:function(){var e=this;e._x+=(e.endX-e._x)/e.delay,e._y+=(e.endY-e._y)/e.delay,e.$outline.style.top=e._y+"px",e.$outline.style.left=e._x+"px",requestAnimationFrame(this.animateDotOutline.bind(e))},toggleCursorSize:function(){var e=this;e.cursorEnlarged?(e.$dot.style.transform="translate(-50%, -50%) scale(0.75)",e.$outline.style.transform="translate(-50%, -50%) scale(2)"):(e.$dot.style.transform="translate(-50%, -50%) scale(1)",e.$outline.style.transform="translate(-50%, -50%) scale(1)")},toggleCursorVisibility:function(){var e=this;e.cursorVisible?(e.$dot.style.opacity=1,e.$outline.style.opacity=1):(e.$dot.style.opacity=0,e.$outline.style.opacity=0)}};cursor.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiLCJoZWFkZXIvaGVhZGVyLmpzIiwibWFpbi9tYWluLmpzIiwicG9wdXAvcG9wdXAuanMiLCJwb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwic2VuZE1haWwvc2VuZE1haWwuanMiLCJwcmljZS9wcmljZS5qcyIsIndheS93YXkuanMiLCJfY29tbW9uL2NvbW1vbi5qcyIsIl9jb21tb24vY3Vyc29yL2N1cnNvci5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsInRoaXMiLCJjbGljayIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJ3aW5kb3ciLCJ3aWR0aCIsInRvZ2dsZUNsYXNzIiwicmVtb3ZlQ2xhc3MiLCJnIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaWQiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiZG9jdW1lbnQiLCJtb3VzZXVwIiwiY29udGFpbmVyIiwiY29udGFpbmVyTWVudSIsImlzIiwidGFyZ2V0IiwiaGFzIiwibGVuZ3RoIiwicG9wdXBTYW1lIiwiYWRkQ2xhc3MiLCJ0ZXh0IiwiaHRtbCIsInJlYWR5Iiwib3dsIiwib3dsQ2Fyb3VzZWwiLCJsb29wIiwib25Jbml0aWFsaXplZCIsImV2ZW50IiwiaXRlbSIsImNvdW50IiwiYXV0b1dpZHRoIiwic21hcnRTcGVlZCIsInRyaWdnZXIiLCJwcmV2RmxhZyIsIm9uIiwib3dsSXRlbXMiLCJpbmRleCIsImNhbGNJdGVtIiwiTWF0aCIsImZsb29yIiwic3VibWl0IiwibmFtZSIsInZhbCIsInRlbCIsImRhdGEiLCJlbWFpbCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJob3ZlciIsImZpbmQiLCJwYXJhbGxheEl0IiwiJGZ3aW5kb3ciLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsIiRjb250ZW50cyIsIiRjb250ZW50T2JqIiwiX19zcGVlZCIsIl9fZmdPZmZzZXQiLCJwdXNoIiwiZm9yRWFjaCIsInlQb3MiLCJjc3MiLCJvd2xXYXkiLCJXT1ciLCJpbml0IiwiY3Vyc29yIiwiZGVsYXkiLCJfeCIsIl95IiwiZW5kWCIsImlubmVyV2lkdGgiLCJlbmRZIiwiaW5uZXJIZWlnaHQiLCJjdXJzb3JWaXNpYmxlIiwiY3Vyc29yRW5sYXJnZWQiLCIkZG90IiwicXVlcnlTZWxlY3RvciIsIiRvdXRsaW5lIiwiZG90U2l6ZSIsIm9mZnNldFdpZHRoIiwib3V0bGluZVNpemUiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiYW5pbWF0ZURvdE91dGxpbmUiLCJzZWxmIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZUN1cnNvclNpemUiLCJ0b2dnbGVDdXJzb3JWaXNpYmlsaXR5IiwicGFnZVgiLCJwYWdlWSIsInN0eWxlIiwibGVmdCIsIm9wYWNpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwidHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxtQkFBbUJDLEtBQUssV0FDdEJELEVBQUVFLE1BQU1DLE1BQU0sV0FFVixPQURBSCxFQUFFLGFBQWFJLFFBQVEsQ0FBRUMsVUFBVyxHQUFLLFNBQ2xDO0FDRmZMLEVBQUUsU0FBU0csTUFBTSxXQUNWSCxFQUFFTSxRQUFRQyxTQUFXLE1BQ3BCUCxFQUFFLFFBQVFRLFlBQVksbUJBRTFCUixFQUFFLGlCQUFpQlEsWUFBWSx1QkFDL0JSLEVBQUUsYUFBYVEsWUFBWSxlQUMzQlIsRUFBRSxpQkFBaUJRLFlBQVksUUFDL0JSLEVBQUUsaUJBQWlCUSxZQUFZLHlCQUduQ1IsRUFBRSxnQkFBZ0JHLE1BQU0sV0FDcEJILEVBQUUsaUJBQWlCUyxZQUFZLHVCQUNuQ0MsSUFJQVYsRUFBRSxtQkFBbUJHLE1BQU0sU0FBU1EsR0FDaENBLEVBQUVDLGlCQUNGLElBQUlDLEVBQUtiLEVBQUVFLE1BQU1ZLEtBQUssUUFDdEJkLEVBQUUsYUFBYUksUUFBUSxDQUFDQyxVQUFXTCxFQUFF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S0FBS2dCLE1BQU1LLFVBQVksb0NBQzVCYixFQUFLTixTQUFTYyxNQUFNSyxVQUFZLG1DQUVoQ2IsRUFBS1IsS0FBS2dCLE1BQU1LLFVBQVksaUNBQzVCYixFQUFLTixTQUFTYyxNQUFNSyxVQUFZLG1DQUl4Q1IsdUJBQXdCLFdBQ3BCLElBQUlMLEVBQU9oRyxLQUVQZ0csRUFBS1YsZUFDTFUsRUFBS1IsS0FBS2dCLE1BQU1FLFFBQVUsRUFDMUJWLEVBQUtOLFNBQVNjLE1BQU1FLFFBQVUsSUFFOUJWLEVBQUtSLEtBQUtnQixNQUFNRSxRQUFVLEVBQzFCVixFQUFLTixTQUFTYyxNQUFNRSxRQUFVLEtBSzFDNUIsT0FBT0QiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoJy5jb250YWN0X19hcnJvdycpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICdzbG93Jyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbn0pOyIsIi8vIG9wZW4gbWVudVxyXG4kKCcubWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICBpZigkKHdpbmRvdykud2lkdGgoKSA8PSAxMjAwKXtcclxuICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgfVxyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWVudSBkaXYnKS50b2dnbGVDbGFzcygnbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tYWluX190ZXh0LTInKS50b2dnbGVDbGFzcygnaGlkZScpO1xyXG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnRvZ2dsZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJCgnLm1lbnVfYWN0aXZlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbmdcclxufSk7XHJcblxyXG4vL3Ntb290aCBzY3JvbGxpbmcgdG8gYmxvY2tcclxuJCgnLmhlYWRlcl9fdGV4dC0xJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6ICQoaWQpLm9mZnNldCgpLnRvcH0sIDEwMDApO1xyXG4gICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAkKCcubWVudSBkaXYnKS5yZW1vdmVDbGFzcygnbWVudV9hY3RpdmUnKTtcclxuICAgICQoJy5tYWluX190ZXh0LTInKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuLy9jaGVjayBpZiBjbGljayBvdXRzaWRlIG1lbnVcclxuJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZhciBjb250YWluZXIgPSAkKCcuaGVhZGVyX19tZW51Jyk7XHJcbiAgICB2YXIgY29udGFpbmVyTWVudSA9ICQoJy5tZW51Jyk7XHJcblxyXG4gICAgLy8gaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgaXNuJ3QgdGhlIGNvbnRhaW5lciBub3IgYSBkZXNjZW5kYW50IG9mIHRoZSBjb250YWluZXJcclxuICAgIGlmICgoIWNvbnRhaW5lci5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyLmhhcyhlLnRhcmdldCkubGVuZ3RoID09PSAwKSAmJlxyXG4gICAgICAgICghY29udGFpbmVyTWVudS5pcyhlLnRhcmdldCkgJiYgY29udGFpbmVyTWVudS5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkgKSB7XHJcblxyXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnLmhlYWRlcl9fbWVudScpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1lbnUgZGl2JykucmVtb3ZlQ2xhc3MoJ21lbnVfYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3RleHQtMicpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgJCgnLm1haW5fX3NvY2lhbCcpLnJlbW92ZUNsYXNzKCdtYWluX19zb2NpYWxfYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pOyIsIiIsIiQoJy5wb3B1cF9fbWVudScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LWhpZGRlbicpO1xyXG4gICAgJCgnLnBvcHVwJykucmVtb3ZlQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbiQoJy5tYWluX190ZXh0LTcsIC53YXlfX3RleHQtNSwubWFpbl9fYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLmh0bWwoXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCw8L3NwYW4+XFxuJyArXHJcbiAgICAgICAgJzxzcGFuIGNsYXNzPVwic21hcnQtYnJlYWtcIj7QsiDQutC+0YLQvtGA0YvRhSDQstCw0Lwg0LrQvtC80YTQvtGA0YLQvdC+INC+0LHRidCw0YLRjNGB0Y8gLTwvc3Bhbj5cXG4nICtcclxuICAgICAgICAnPHNwYW4gY2xhc3M9XCJzbWFydC1icmVha1wiID7QvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8Ljwvc3Bhbj4nXHJcbiAgICApO1xyXG59KTtcclxuXHJcbiQoJy5tYWluX190ZXh0LTInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9CX0LLQvtC90L7QuiDQsiDRgdCy0LXRgtC70L7QtSDQsdGD0LTRg9GJ0LXQtSDQstCw0YjQtdC5INC60L7QvNC/0LDQvdC40LggLSDQv9C40YjQuNGC0LUsINC80Ysg0L3QsCDQu9C40L3QuNC4LicpO1xyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYWJvdXRfX3RleHQtMicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KDQsNGB0YHQutCw0LbQuNGC0LUg0L4g0LTQtdC70LUsINC60L7RgtC+0YDQvtC1INCy0LTQvtGF0L3QvtCy0LvRj9C10YIg0LLQsNGBINC/0YDQvtGB0YvQv9Cw0YLRjNGB0Y8g0L/QviDRg9GC0YDQsNC8LCDQviDQv9C70LDQvdCw0YUg0Lgg0LzQtdGH0YLQsNGFINC90LAg0LHRg9C00YPRidC10LUuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcubGFuZGluZy1wb3dlcl9fdGV4dC02JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgcG9wdXBTYW1lKCk7XHJcblxyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQktGA0LXQvNGPINC/0L7RgdGC0LjRh9GMINC00LfQtdC9INC4INC/0YDQtdC30LXQvdGC0L7QstCw0YLRjCDQvNC40YDRgyDRgdCy0L7QuSDQsdC40LfQvdC10YEuJyk7XHJcblxyXG4gICAgJCgnLnBvcHVwX19lbWFpbCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICQoJy5wb3B1cF9fdGV4dCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufSk7XHJcblxyXG4kKCcuYmlnX19yZXByZXNlbnQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBwb3B1cFNhbWUoKTtcclxuXHJcbiAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Ci0YPRgiDQvdCw0YfQuNC90LDQtdGC0YHRjyDQv9GD0YLRjCDQuiDQv9GA0LjQt9C90LDQvdC40Y4g0Lgg0YPQt9C90LDQstCw0LXQvNC+0YHRgtC4LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLnNhbGVzX3Byb21vdGlvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0KfQtdGB0YLQvdGL0Lkg0L/Rg9GC0Ywg0Log0YHQvtC60YDQvtCy0LjRidCw0Lwg0Lgg0LzQuNC70LvQuNC+0L3QsNC8LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLndvd19icmFuZGluZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgn0JLRiyDQvdCw0YjQu9C4INCx0L7QvNCx0LjRh9C10YHQutC40Lkg0L7Qs9C+0L3RjCDQtNC70Y8g0LDQsdGB0L7Qu9GO0YLQvdC+0Lkg0LLQu9Cw0YHRgtC4INC90LDQtCDQvNC40YDQvtC8LicpO1xyXG5cclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuJCgnLmlubGluZV9fdGV4dC0yLC5pbmxpbmVfX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHBvcHVwU2FtZSgpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTInKS50ZXh0KCfQl9Cw0L/QvtC70L3QuNGC0LUg0YTQvtGA0LzRgyAtINC+0YLQv9GA0LDQstC40Lwg0LLQsNC8INC/0YDQtdC30LXQvdGC0LDRhtC40Y4g0Lgg0L/QvtC80L7QttC10Lwg0YEg0L/Qu9Cw0L3QvtC8INGA0LDQt9Cy0LjRgtC40Lgg0LrQvtC80L/QsNC90LjQuC4nKTtcclxuICAgICQoJy5wb3B1cF9fZW1haWwnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcucG9wdXBfX3RleHQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gcG9wdXBTYW1lKCkge1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gMTIwMCl7XHJcbiAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1oaWRkZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcucG9wdXBfX2Zvcm0nKS5yZW1vdmVDbGFzcygnaGlkZScpO1xyXG4gICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQntCx0YHRg9C00LjRgtGMINC/0YDQvtC10LrRgicpO1xyXG59XHJcblxyXG5cclxuLy9jaGVjayBpZiBjbGljayBvdXRzaWRlIHBvcHVwXHJcbiQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24oZSl7XHJcbiAgICB2YXIgY29udGFpbmVyID0gJCgnLnBvcHVwJyk7XHJcbiAgICAvLyBpZiB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBpc24ndCB0aGUgY29udGFpbmVyIG5vciBhIGRlc2NlbmRhbnQgb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgaWYgKCFjb250YWluZXIuaXMoZS50YXJnZXQpICYmIGNvbnRhaW5lci5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnb3ZlcmZsb3ctaGlkZGVuJyk7XHJcbiAgICAgICAgJCgnLnBvcHVwJykucmVtb3ZlQ2xhc3MoJ3BvcHVwX2FjdGl2ZScpO1xyXG4gICAgfVxyXG59KTsiLCIvLyAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbi8vICAgICBwb3J0Zm9saW9TbGlkZXIoKTtcclxuLy8gICAgICQoIHdpbmRvdyApLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuLy8gICAgICAgICBwb3J0Zm9saW9TbGlkZXIoKTtcclxuLy8gICAgIH0pO1xyXG4vL1xyXG4vL1xyXG4vL1xyXG4vL1xyXG4vLyAgICAgZnVuY3Rpb24gcG9ydGZvbGlvU2xpZGVyKCl7XHJcbi8vXHJcbi8vICAgICAgICAgdmFyIHN0YXJ0ID0gMDtcclxuLy8gICAgICAgICB2YXIgY2FyZE5vdyA9IDE7XHJcbi8vICAgICAgICAgLy/QsdC10YDQtdGI0LjQvCDRiNC40YDQuNC90YMg0LrQsNGA0YLQvtGH0LrQuCDRgSDQvtGC0YHRgtGD0L/QsNC80LhcclxuLy8gICAgICAgICB2YXIgd2lkdGhDYXJkID0gJCgnLnBvcnRmb2xpb19fY2FyZCcpLmxhc3QoKS5vdXRlcldpZHRoKHRydWUpO1xyXG4vLyAgICAgICAgIC8v0LrQvtC70LjRh9C10YHRgtCy0L4g0LrQsNGA0YLQvtGH0LXQulxyXG4vLyAgICAgICAgIHZhciBjb3VudE9mQ2FyZHMgPSAkKCcucG9ydGZvbGlvX19jYXJkJykubGVuZ3RoO1xyXG4vLyAgICAgICAgIC8v0LfQsNC/0LjRgdGL0LLQsNC10Lwg0LrQvtC70LjRh9C10YHRgtCy0L4g0Y3Qu9C10LzQtdC90YLQvtCyXHJcbi8vICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX3RvdGFsJykudGV4dCgnMCcgKyBjb3VudE9mQ2FyZHMpO1xyXG4vL1xyXG4vLyAgICAgICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgc2xpZGVSaWdodCgpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vL1xyXG4vLyAgICAgICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgc2xpZGVMZWZ0KCk7XHJcbi8vICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgZnVuY3Rpb24gc2xpZGVSaWdodCgpe1xyXG4vLyAgICAgICAgICAgICBpZihzdGFydCA8IChjb3VudE9mQ2FyZHMgLSAxKSAqIHdpZHRoQ2FyZCl7XHJcbi8vICAgICAgICAgICAgICAgICBjYXJkTm93Kys7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfY291bnQnKS50ZXh0KCcwJyArIGNhcmROb3cpO1xyXG4vLyAgICAgICAgICAgICAgICAgc3RhcnQgKz0gd2lkdGhDYXJkO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKS5jc3MoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgtJyArIHN0YXJ0ICsgJ3B4KScpO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcclxuLy8gICAgICAgICAgICAgfWVsc2V7XHJcbi8vICAgICAgICAgICAgICAgICBzdGFydCA9IDA7XHJcbi8vICAgICAgICAgICAgICAgICBjYXJkTm93ID0gMTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgc3RhcnQgKyAncHgpJyk7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19hcnJvdy1saW5rX2wnKS5hZGRDbGFzcygnaGlkZScpO1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIGlmKHN0YXJ0ID09IDApe1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBmdW5jdGlvbiBzbGlkZUxlZnQoKXtcclxuLy8gICAgICAgICAgICAgaWYoc3RhcnQgPiAwKXtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3ctLTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FyZE5vdyk7XHJcbi8vICAgICAgICAgICAgICAgICBzdGFydCAtPSB3aWR0aENhcmQ7XHJcbi8vICAgICAgICAgICAgICAgICAkKCcucG9ydGZvbGlvX19jb250YWluZXItMicpLmNzcygndHJhbnNmb3JtJywndHJhbnNsYXRlKC0nICsgc3RhcnQgKyAncHgpJyk7XHJcbi8vICAgICAgICAgICAgIH1lbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuLy8gICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuLy8gICAgICAgICAgICAgICAgIGNhcmROb3cgPSAxO1xyXG4vLyAgICAgICAgICAgICAgICAgJCgnLnBvcnRmb2xpb19fdGV4dC0yX2NvdW50JykudGV4dCgnMCcgKyBjYXJkTm93KTtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2NvbnRhaW5lci0yJykuY3NzKCd0cmFuc2Zvcm0nLCd0cmFuc2xhdGUoLScgKyBzdGFydCArICdweCknKTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICBpZihzdGFydCA9PSAwKXtcclxuLy8gICAgICAgICAgICAgICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfbCcpLmFkZENsYXNzKCdoaWRlJyk7XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgb3dsID0gJCgnLnBvcnRmb2xpb19fY29udGFpbmVyLTInKTtcclxuICAgIG93bC5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDp0cnVlLFxyXG4gICAgICAgIG9uSW5pdGlhbGl6ZWQ6IG93bEluaXQsXHJcbiAgICAgICAgYXV0b1dpZHRoOnRydWUsXHJcbiAgICAgICAgc21hcnRTcGVlZDo3NTBcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG93bEluaXQoZXZlbnQpIHtcclxuICAgICAgICAkKCcucG9ydGZvbGlvX190ZXh0LTJfdG90YWwnKS50ZXh0KCcwJyArIGV2ZW50Lml0ZW0uY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5wb3J0Zm9saW9fX2Fycm93LWxpbmtfcicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIG93bC50cmlnZ2VyKCduZXh0Lm93bC5jYXJvdXNlbCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnBvcnRmb2xpb19fYXJyb3ctbGlua19sJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsLnRyaWdnZXIoJ3ByZXYub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcHJldkZsYWcgPSB0cnVlO1xyXG5cclxuICAgIC8vbWFnaWMgZm9yIG93bCBjYXJvdXNlbCBzdGFydCB3b3JrXHJcbiAgICBvd2wub24oJ3ByZXYub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBwcmV2RmxhZyA9IHRydWVcclxuICAgIH0pO1xyXG4gICAgb3dsLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIG93bEl0ZW1zICA9IGV2ZW50Lml0ZW0uY291bnQ7ICAgLy8gVG90YWwgbnVtYmVyIG9mIGl0ZW1zIChjb25zaXN0ZW50IGFuZCBhY2N1cmF0ZSlcclxuICAgICAgICB2YXIgaXRlbSAgICAgID0gZXZlbnQuaXRlbS5pbmRleDsgICAvLyBPd2wgcmVwb3J0ZWQgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaW5jb25zaXN0ZW50IGFuZCBpbmFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBjYWxjSXRlbSAgPSBNYXRoLmZsb29yKGl0ZW0gLSAob3dsSXRlbXMgLyAyKSArIDEpOyAvLyBzbGlnaHRseSBtb3JlIGxvZ2ljYWwgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbSAoaWYgbm90IGZyb20gcHJldmlvdXMgY2xpY2spXHJcblxyXG4gICAgICAgIC8vIGlmIGZyb20gcHJldmlvdXMgY2xpY2tcclxuICAgICAgICBpZihwcmV2RmxhZykge1xyXG4gICAgICAgICAgICBpZiAoY2FsY0l0ZW0gPT09IDApIHsgIC8vIHJlcG9ydHMgMCBpbnN0ZWFkIG9mIGxhc3QgdmFsdWVcclxuICAgICAgICAgICAgICAgIGNhbGNJdGVtID0gb3dsSXRlbXM7IC8vIHNvbHZlIHRoYXQgcHJvYmxlbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoYW5kbGUgdmFsdWVzIHRoYXQgZmFsbCBvdXRzaWRlIG9mIGxvZ2ljYWwgbWluL21heCBib3VuZHNcclxuICAgICAgICBpZihwcmV2RmxhZyA9PT0gZmFsc2UgJiYgY2FsY0l0ZW0gPT09IDAgfHwgY2FsY0l0ZW0gPiBvd2xJdGVtcykge1xyXG4gICAgICAgICAgICBjYWxjSXRlbSA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcmV2RmxhZyA9IGZhbHNlXHJcblxyXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX3RleHQtMl9jb3VudCcpLnRleHQoJzAnICsgY2FsY0l0ZW0pO1xyXG5cclxuICAgIH0pXHJcbn0pOyIsIiQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5wb3B1cF9fZm9ybVwiKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIG5hbWUgPSAkKFwiLnBvcHVwX19uYW1lXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLnBvcHVwX190ZWxcIikudmFsKCk7XHJcbiAgICAgICAgaWYoIW5hbWUgJiYgbmFtZSAhPSAnJyApe1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX25hbWUnKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCLQl9Cw0L/QvtC70L3QuNGC0LUg0Y3RgtC+INC/0L7Qu9C1IVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIXRlbCAmJiB0ZWwgIT0gJycpe1xyXG4gICAgICAgICAgICAkKCcucG9wdXBfX3RlbCcpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcItCX0LDQv9C+0LvQvdC40YLQtSDRjdGC0L4g0L/QvtC70LUhXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiAkKFwiLnBvcHVwX19lbWFpbFwiKS52YWwoKSxcclxuICAgICAgICAgICAgdGVsOiB0ZWwsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICQoXCIucG9wdXBfX2VtYWlsXCIpLnZhbCgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgdXJsOiBcInNlbmRNYWlsLnBocFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuc3cgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWFuc3cuZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0xJykudGV4dCgn0JfQsNGP0LLQutCwINC/0YDQuNC90Y/RgtCwIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5wb3B1cF9fdGV4dC0yJykudGV4dCgnJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQntGB0YLQsNCy0YzRgtC1INC00LDQvdC90YvQtSDQtNC70Y8g0YHQstGP0LfQuCxcXG4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9CyINC60L7RgtC+0YDRi9GFINCy0LDQvCDQutC+0LzRhNC+0YDRgtC90L4g0L7QsdGJ0LDRgtGM0YHRjyAtXFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQvdCw0L/QuNGI0LXQvCDQsiDQvNC10YHRgdC10LTQttC10YAg0LjQu9C4INC/0LXRgNC10LfQstC+0L3QuNC8LicpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnBvcHVwX190ZXh0LTEnKS50ZXh0KCfQotC10YUuINC+0YjQuNCx0LrQsCEnKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucG9wdXBfX3RleHQtMicpLnRleHQoJ9Cf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7QstGC0L7RgNC40YLRjCDRh9C10YDQtdC3INC90LXQutC+0YLQvtGA0L7QtSDQstGA0LXQvNGPLicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJCgnLnBvcHVwX19mb3JtJykuYWRkQ2xhc3MoJ2hpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5jb250YWN0X19mb3JtX3NtYWxsXCIpLnN1Ym1pdChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhciB0ZWwgPSAkKFwiLmNvbnRhY3RfX2lucHV0IFwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYoIXRlbCAmJiB0ZWwgIT0gJycpe1xyXG4gICAgICAgICAgICAkKCcuY29udGFjdF9faW5wdXQgJykuYXR0cihcInBsYWNlaG9sZGVyXCIsIFwi0JfQsNC/0L7Qu9C90LjRgtC1INGN0YLQviDQv9C+0LvQtSFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KTsiLCIkKCcucHJpY2VfX2NhcmQnKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcucHJpY2VfX2NhcmQsIC5wcmljZV9faW1nICcpLnJlbW92ZUNsYXNzKCdvcGFjaXR5LTEnKTtcclxuICAgICQodGhpcykuYWRkQ2xhc3MoJ29wYWNpdHktMScpO1xyXG4gICAgJCgnLnByaWNlX19pbWctaXRlbScpLnJlbW92ZUNsYXNzKCdwcmljZV9faW1nLWl0ZW1fYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLmZpbmQoJy5wcmljZV9faW1nJykuYWRkQ2xhc3MoJ29wYWNpdHktMScpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcucHJpY2VfX2ltZy1pdGVtJykuYWRkQ2xhc3MoJ3ByaWNlX19pbWctaXRlbV9hY3RpdmUnKTtcclxufSk7IiwiLy8gZnVuY3Rpb24gaXNTY3JvbGxlZEludG9WaWV3KGVsKSB7XHJcbi8vICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4vLyAgICAgdmFyIGVsZW1Ub3AgPSByZWN0LnRvcDtcclxuLy8gICAgIHZhciBlbGVtQm90dG9tID0gcmVjdC5ib3R0b207XHJcbi8vXHJcbi8vICAgICAvLyBPbmx5IGNvbXBsZXRlbHkgdmlzaWJsZSBlbGVtZW50cyByZXR1cm4gdHJ1ZTpcclxuLy8gICAgIHZhciBpc1Zpc2libGUgPSAoZWxlbVRvcCA+PSAwKSAmJiAoZWxlbUJvdHRvbSA8PSB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4vLyAgICAgLy8gUGFydGlhbGx5IHZpc2libGUgZWxlbWVudHMgcmV0dXJuIHRydWU6XHJcbi8vICAgICAvL2lzVmlzaWJsZSA9IGVsZW1Ub3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgZWxlbUJvdHRvbSA+PSAwO1xyXG4vLyAgICAgcmV0dXJuIGlzVmlzaWJsZTtcclxuLy8gfVxyXG4vL1xyXG4vLyAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKCdoZXJlJyk7XHJcbi8vICAgICBpZihpc1Njcm9sbGVkSW50b1ZpZXcoJCgnLndheV9fdGV4dC02JylbMF0pKXtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZygnaGVyZScpO1xyXG4vLyAgICAgICAgICQoJy53YXlfX3RleHQtNicpLnJlbW92ZUNsYXNzKCd3YXlfX3RleHQtNl9ub3RWaXNpYmxlJykuYWRkQ2xhc3MoJ3dheV9fdGV4dC02X2ZpeGVkJyk7XHJcbi8vXHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbihlKXtcclxuLy8gICAgIHBhcmFsbGF4KCk7XHJcbi8vIH0pO1xyXG4vL1xyXG4vLyBmdW5jdGlvbiBwYXJhbGxheCgpe1xyXG4vLyAgICAgdmFyIHNjcm9sbGVkID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xyXG4vLyAgICAgJCgnLmJhY2tncm91bmQnKS5jc3MoJ3RvcCcsLShzY3JvbGxlZCowLjE1KSsncHgnKTtcclxuLy8gfVxyXG5cclxuLy8gbWFrZXMgdGhlIHBhcmFsbGF4IGVsZW1lbnRzXHJcbmZ1bmN0aW9uIHBhcmFsbGF4SXQoKSB7XHJcbiAgICAvLyBjcmVhdGUgdmFyaWFibGVzXHJcbiAgICB2YXIgJGZ3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICB2YXIgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICB2YXIgJGNvbnRlbnRzID0gW107XHJcbiAgICB2YXIgJGJhY2tncm91bmRzID0gW107XHJcblxyXG4gICAgLy8gZm9yIGVhY2ggb2YgY29udGVudCBwYXJhbGxheCBlbGVtZW50XHJcbiAgICAkKCdbZGF0YS10eXBlPVwiY29udGVudFwiXScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGUpIHtcclxuICAgICAgICB2YXIgJGNvbnRlbnRPYmogPSAkKHRoaXMpO1xyXG4gICAgICAgICRjb250ZW50T2JqLl9fc3BlZWQgPSAyO1xyXG4gICAgICAgICRjb250ZW50T2JqLl9fZmdPZmZzZXQgPSAkY29udGVudE9iai5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgJGNvbnRlbnRzLnB1c2goJGNvbnRlbnRPYmopO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIHBvc2l0aW9uc1xyXG4gICAgJGZ3aW5kb3cub24oJ3Njcm9sbCByZXNpemUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuICAgICAgICAkY29udGVudHMuZm9yRWFjaChmdW5jdGlvbigkY29udGVudE9iaikge1xyXG4gICAgICAgICAgICB2YXIgeVBvcyA9ICRjb250ZW50T2JqLl9fZmdPZmZzZXQgLSBzY3JvbGxUb3AgLyAkY29udGVudE9iai5fX3NwZWVkO1xyXG4gICAgICAgICAgICAkY29udGVudE9iai5jc3MoJ3RvcCcsIHlQb3MgKyA5MDApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcbiAgICAvLyB0cmlnZ2VycyB3aW5vZHcgc2Nyb2xsIGZvciByZWZyZXNoXHJcbiAgICAkZndpbmRvdy50cmlnZ2VyKCdzY3JvbGwnKTtcclxufTtcclxuXHJcbnBhcmFsbGF4SXQoKTtcclxuXHJcbi8vINC00YPQvNCw0Lsg0L/RgNC40LLRj9C30LDRgtGM0YHRjyDQuiDQuNC90LTQtdC60YHRgyDQuNC70Lgg0LogaWQsINGA0LXRiNC40Lsg0Log0L/QvtGA0Y/QtNC60YMsINC90LUg0YPQstC10YDQtdC9LCDRh9GC0L4g0Y3RgtC+INC/0YDQsNCy0LjQu9GM0L3QvlxyXG4kKCcud2F5X190ZXh0LTInKS5ob3ZlcihmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPiA2MDApe1xyXG4gICAgICAgIHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcclxuICAgICAgICAkKCcud2F5X190ZXh0LTInKS5yZW1vdmVDbGFzcygnd2hpdGUnKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCd3aGl0ZScpO1xyXG4gICAgICAgIGlmKGluZGV4ID09IDApe1xyXG4gICAgICAgICAgICAkKCcud2F5X190ZXh0LTMnKS50ZXh0KCfQmNC30YPRh9Cw0LXQvCDQutC+0LzQv9Cw0L3QuNGOINC4INC60L7QvdC60YPRgNC10L3RgtC+0LIsINC90LDRhdC+0LTQuNC8INC/0YDQtdC40LzRg9GJ0LXRgdGC0LLQsCwg0LfQsNC60YDRi9Cy0LDQtdC8INCy0L7Qt9GA0LDQttC10L3QuNGPLCDQvdC40LLQtdC70LjRgNGD0LXQvCDRgdGC0YDQsNGF0LgsINGB0L7Qt9C00LDQtdC8INGB0LjQu9GM0L3QvtC1INC/0YDQtdC00LvQvtC20LXQvdC40LUuJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fMS5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gMSl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0YDQvtCy0L7QtNC40LwgYnJhaW4gc3Rvcm06INC/0YDQvtC00YPQvNGL0LLQsNC10Lwg0YHRgtGA0YPQutGC0YPRgNGDLCDQsdC70L7QutC4LCDRhdCw0YDQsNC60YLQtdGAINC4INGB0YLQuNC70Ywg0LjRgdGF0L7QtNGPINC40Lcg0LfQsNC00LDRhyDQsdC40LfQvdC10YHQsC4nKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18yLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAyKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KPQv9GA0LDQstC70Y/QtdC8INCy0L3QuNC80LDQvdC40LXQvCwg0YHQvtC30LTQsNGR0Lwg0LjQvdGC0LXRgNC10YEg0Log0YPRgdC70YPQs9C1L9C/0YDQvtC00YPQutGC0YMg0LIg0YPQtNC+0LHQvdC+0Lkg0L3QsNCy0LjQs9Cw0YbQuNC4INC4INGB0YLQuNC70YzQvdC+0Lwg0LTQuNC30LDQudC90LUnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X18zLnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihpbmRleCA9PSAzKXtcclxuICAgICAgICAgICAgJCgnLndheV9fdGV4dC0zJykudGV4dCgn0KHQvtC30LTQsNGR0Lwg0Y3RhNGE0LXQutGCINC/0YDQuNGB0YPRgtGB0YLQstC40Y8sIOKAnNC/0YDQvtCy0L7QtNC40Lwg0Y3QutGB0LrRg9GA0YHQuNGO4oCdINC/0L4g0YHQsNC50YLRgywg0LLRi9Cy0L7QtNC40Lwg0YTQvtC60YPRgSDQvdCwINGG0LXQu9C10LLRi9C1INC00LXQudGB0YLQstC40Y8uJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNC5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNCl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cf0L7QtNCx0LjRgNCw0LXQvCDRhtC10LvQtdCy0YvQtSDQtNC70Y8g0L3QuNGI0Lgg0YDQtdC60LvQsNC80L3Ri9C1INC/0LvQvtGJ0LDQtNC4IChQUEMsIHNtbSkg0L/QvtC80L7Qs9Cw0LXQvCDQvtGC0LHQuNGC0Ywg0LfQsNGC0YDQsNGC0Ysg0L3QsCDRgNC10LrQu9Cw0LzRgyDQuCDQstGL0LnRgtC4INCyINC/0YDQuNCx0YvQu9GMJyk7XHJcbiAgICAgICAgICAgICQoJy53YXlfX2ljb24nKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCd1cmwoLi4vaW1nL3dheV9fNS5wbmcpJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaW5kZXggPT0gNSl7XHJcbiAgICAgICAgICAgICQoJy53YXlfX3RleHQtMycpLnRleHQoJ9Cj0LrRgNC10L/Qu9GP0LXQvCDQuNC80LjQtNC2INCx0YDQtdC90LTQsCwg0YHQvtCx0LjRgNCw0LXQvCDQuCDQvtC/0YLQuNC80LjQt9C40YDRg9C10Lwg0YDQtdC30YPQu9GM0YLQsNGC0YsnKTtcclxuICAgICAgICAgICAgJCgnLndheV9faWNvbicpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsJ3VybCguLi9pbWcvd2F5X182LnBuZyknKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG4vLyAvL21vYmlsZSBzbGlkZXIgc3RhcnRcclxuLy8gaWYoJCh3aW5kb3cpLndpZHRoKCkgPD0gNjAwKXtcclxuLy8gICAgIHdheVNsaWRlcigpO1xyXG4vLyB9XHJcbi8vXHJcbi8vICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcclxuLy8gICAgIGlmKCQod2luZG93KS53aWR0aCgpIDw9IDYwMCl7XHJcbi8vICAgICAgICAgd2F5U2xpZGVyKCk7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuLy8gZnVuY3Rpb24gd2F5U2xpZGVyKCl7XHJcbi8vICAgICB2YXIgY291bnRPZkNhcmQgPSAkKCcud2F5X19jYXJkJykubGVuZ3RoO1xyXG4vLyAgICAgdmFyIHdpZHRoQ2FyZCA9ICQoJy53YXlfX2NhcmQnKS5vdXRlcldpZHRoKHRydWUpO1xyXG4vL1xyXG4vLyAgICAgJCgnLndheV9fdGV4dC03X3RvdGFsJykudGV4dCgnMCcgKyBjb3VudE9mQ2FyZCk7XHJcbi8vXHJcbi8vICAgICAvLyDRgtGA0L7RgtC70LjQvdCzXHJcbi8vICAgICAkKCAnLndheV9fb3ZlcmZsb3cnICkuc2Nyb2xsKHRocm90dGxlKGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgICAgICAgIHZhciBsZWZ0ID0gJCgnLndheV9fb3ZlcmZsb3cnKS5zY3JvbGxMZWZ0KCk7XHJcbi8vICAgICAgICAgICAgIC8v0LjRidGDINC60LDQutC+0Lkg0Y3Qu9C10LzQtdC90YLQsCwgMjUg0YTQsNC90YLQvtC80L3QvtC1INGH0LjRgdC70L4g0LTQu9GPINCx0L7Qu9C10LUg0LvQvtCz0LjRh9C90YvRhSDQtNCw0L3QvdGL0YVcclxuLy8gICAgICAgICAgICAgJCgnLndheV9fdGV4dC03X2NvdW50JykudGV4dCggJzAnICsgKCAoTWF0aC5mbG9vciggbGVmdCAvICggd2lkdGhDYXJkIC0gMjUgKSkpICsgMSApKTtcclxuLy9cclxuLy8gICAgICAgICB9LDUwKVxyXG4vLyAgICAgKTtcclxuLy8gfVxyXG4vLyBmdW5jdGlvbiB0aHJvdHRsZShmbiwgd2FpdCkge1xyXG4vLyAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xyXG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgIGlmICgodGltZSArIHdhaXQgLSBEYXRlLm5vdygpKSA8IDApIHtcclxuLy8gICAgICAgICAgICAgZm4oKTtcclxuLy8gICAgICAgICAgICAgdGltZSA9IERhdGUubm93KCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfVxyXG4vLyB9d2F5X19zbGlkZXJcclxuXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgdmFyIG93bFdheSA9ICQoJy53YXlfX3NsaWRlcicpO1xyXG4gICAgb3dsV2F5Lm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgb25Jbml0aWFsaXplZDogb3dsSW5pdCxcclxuICAgICAgICBhdXRvV2lkdGg6dHJ1ZSxcclxuICAgICAgICBzbWFydFNwZWVkOjc1MFxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb3dsSW5pdChldmVudCkge1xyXG4gICAgICAgICQoJy53YXlfX3RleHQtN190b3RhbCcpLnRleHQoJzAnICsgZXZlbnQuaXRlbS5jb3VudCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLndheV9fYXJyb3ctbGlua19yJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgb3dsV2F5LnRyaWdnZXIoJ25leHQub3dsLmNhcm91c2VsJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcud2F5X19hcnJvdy1saW5rX2wnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBvd2xXYXkudHJpZ2dlcigncHJldi5vd2wuY2Fyb3VzZWwnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwcmV2RmxhZyA9IHRydWU7XHJcblxyXG4gICAgLy9tYWdpYyBmb3Igb3dsIGNhcm91c2VsIHN0YXJ0IHdvcmtcclxuICAgIG93bFdheS5vbigncHJldi5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHByZXZGbGFnID0gdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBvd2xXYXkub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgb3dsSXRlbXMgID0gZXZlbnQuaXRlbS5jb3VudDsgICAvLyBUb3RhbCBudW1iZXIgb2YgaXRlbXMgKGNvbnNpc3RlbnQgYW5kIGFjY3VyYXRlKVxyXG4gICAgICAgIHZhciBpdGVtICAgICAgPSBldmVudC5pdGVtLmluZGV4OyAgIC8vIE93bCByZXBvcnRlZCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpbmNvbnNpc3RlbnQgYW5kIGluYWNjdXJhdGUpXHJcbiAgICAgICAgdmFyIGNhbGNJdGVtICA9IE1hdGguZmxvb3IoaXRlbSAtIChvd2xJdGVtcyAvIDIpICsgMSk7IC8vIHNsaWdodGx5IG1vcmUgbG9naWNhbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtIChpZiBub3QgZnJvbSBwcmV2aW91cyBjbGljaylcclxuXHJcbiAgICAgICAgLy8gaWYgZnJvbSBwcmV2aW91cyBjbGlja1xyXG4gICAgICAgIGlmKHByZXZGbGFnKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWxjSXRlbSA9PT0gMCkgeyAgLy8gcmVwb3J0cyAwIGluc3RlYWQgb2YgbGFzdCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgY2FsY0l0ZW0gPSBvd2xJdGVtczsgLy8gc29sdmUgdGhhdCBwcm9ibGVtXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGhhbmRsZSB2YWx1ZXMgdGhhdCBmYWxsIG91dHNpZGUgb2YgbG9naWNhbCBtaW4vbWF4IGJvdW5kc1xyXG4gICAgICAgIGlmKHByZXZGbGFnID09PSBmYWxzZSAmJiBjYWxjSXRlbSA9PT0gMCB8fCBjYWxjSXRlbSA+IG93bEl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNhbGNJdGVtID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZGbGFnID0gZmFsc2VcclxuXHJcbiAgICAgICAgJCgnLndheV9fdGV4dC03X2NvdW50JykudGV4dCgnMCcgKyBjYWxjSXRlbSk7XHJcblxyXG4gICAgfSlcclxufSk7IiwibmV3IFdPVygpLmluaXQoKTsiLCJ2YXIgY3Vyc29yID0ge1xyXG4gICAgZGVsYXk6IDgsXHJcbiAgICBfeDogMCxcclxuICAgIF95OiAwLFxyXG4gICAgZW5kWDogKHdpbmRvdy5pbm5lcldpZHRoIC8gMiksXHJcbiAgICBlbmRZOiAod2luZG93LmlubmVySGVpZ2h0IC8gMiksXHJcbiAgICBjdXJzb3JWaXNpYmxlOiB0cnVlLFxyXG4gICAgY3Vyc29yRW5sYXJnZWQ6IGZhbHNlLFxyXG4gICAgJGRvdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmN1cnNvci1kb3QnKSxcclxuICAgICRvdXRsaW5lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3Vyc29yLWRvdC1vdXRsaW5lJyksXHJcblxyXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gU2V0IHVwIGVsZW1lbnQgc2l6ZXNcclxuICAgICAgICB0aGlzLmRvdFNpemUgPSB0aGlzLiRkb3Qub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdGhpcy5vdXRsaW5lU2l6ZSA9IHRoaXMuJG91dGxpbmUub2Zmc2V0V2lkdGg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZURvdE91dGxpbmUoKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2V0dXBFdmVudExpc3RlbmVyczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBBbmNob3IgaG92ZXJpbmdcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2N1c3RvbSBob3ZlclxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXJzb3InKS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jdXJzb3JFbmxhcmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmN1cnNvckVubGFyZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2xpY2sgZXZlbnRzXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLnRvZ2dsZUN1cnNvclNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yRW5sYXJnZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JTaXplKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgY3Vyc29yXHJcbiAgICAgICAgICAgIHNlbGYuY3Vyc29yVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHNlbGYudG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gUG9zaXRpb24gdGhlIGRvdFxyXG4gICAgICAgICAgICBzZWxmLmVuZFggPSBlLnBhZ2VYO1xyXG4gICAgICAgICAgICBzZWxmLmVuZFkgPSBlLnBhZ2VZO1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudG9wID0gc2VsZi5lbmRZICsgJ3B4JztcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLmxlZnQgPSBzZWxmLmVuZFggKyAncHgnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIaWRlL3Nob3cgY3Vyc29yXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJzb3JWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgc2VsZi50b2dnbGVDdXJzb3JWaXNpYmlsaXR5KCk7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgYW5pbWF0ZURvdE91dGxpbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5feCArPSAoc2VsZi5lbmRYIC0gc2VsZi5feCkgLyBzZWxmLmRlbGF5O1xyXG4gICAgICAgIHNlbGYuX3kgKz0gKHNlbGYuZW5kWSAtIHNlbGYuX3kpIC8gc2VsZi5kZWxheTtcclxuICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRvcCA9IHNlbGYuX3kgKyAncHgnO1xyXG4gICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUubGVmdCA9IHNlbGYuX3ggKyAncHgnO1xyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlRG90T3V0bGluZS5iaW5kKHNlbGYpKTtcclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlQ3Vyc29yU2l6ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5jdXJzb3JFbmxhcmdlZCkge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgwLjc1KSc7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgyKSc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi4kZG90LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xyXG4gICAgICAgICAgICBzZWxmLiRvdXRsaW5lLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSknO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgdG9nZ2xlQ3Vyc29yVmlzaWJpbGl0eTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5jdXJzb3JWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuJGRvdC5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgICAgc2VsZi4kb3V0bGluZS5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLiRkb3Quc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuJG91dGxpbmUuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jdXJzb3IuaW5pdCgpOyJdfQ==
